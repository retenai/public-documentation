{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Documentaci\u00f3n T\u00e9cnica de Reten","text":"<p>Bienvenido a la documentaci\u00f3n t\u00e9cnica de Reten. Esta documentaci\u00f3n est\u00e1 dise\u00f1ada para proporcionar informaci\u00f3n detallada sobre la estructura, funcionamiento y uso de nuestro sistema.</p>"},{"location":"#flujos","title":"Flujos","text":"<p>Para funcionar con Reten es necesario desarrollar integraciones en dos direcciones: Carga de datos y Consumo de datos.</p> <p> Carga de datos </p> <p>Tu sistema env\u00eda informaci\u00f3n a Reten.</p> <p> Consumo de datos </p> <p>Reten env\u00eda informaci\u00f3n a tu sistema.</p>"},{"location":"#comenzando","title":"\ud83d\ude80 Comenzando","text":"<p>Para implementar Reten de manera efectiva, sigue estos pasos:</p> <p>1. Implementa la Carga de Datos</p> <ul> <li>Elige tu M\u00e9todo de Conexi\u00f3n (Archivos o Base de datos)</li> <li>Configura tus Datos Maestros (Clientes, Transacciones, Productos, Vendedores)</li> <li>Establece tus Configuraciones (Asignaciones y Rutas)</li> </ul> <p>2. Consume las Tareas</p> <ul> <li>Conectate a la API de Reten</li> <li>Recibe tareas asignadas desde Consumo de Datos</li> </ul>"},{"location":"communication-channels/","title":"Comunicaci\u00f3n","text":"<p>Esta secci\u00f3n contiene toda la informaci\u00f3n necesaria para integrar Reten con tus canales de comunicaci\u00f3n. Esta funcionalidad permite que Reten ejecute tareas de comunicaci\u00f3n de manera aut\u00f3noma, enviando notificaciones por Email, WhatsApp, SMS o Notificaciones Push seg\u00fan las reglas y triggers configurados.</p>"},{"location":"communication-channels/#configuracion-de-canales","title":"Configuraci\u00f3n de Canales","text":"<p>La configuraci\u00f3n de canales se realiza internamente por el equipo de Reten a trav\u00e9s de nuestra API de mensajer\u00eda.</p> <p> Configuraci\u00f3n de Canales </p> <p>Documentaci\u00f3n completa sobre la configuraci\u00f3n interna de canales de comunicaci\u00f3n</p>"},{"location":"communication-channels/#canales-disponibles","title":"Canales Disponibles","text":"<p>Una vez configurado el canal por Reten, puedes implementar cualquiera de estos canales de comunicaci\u00f3n:</p> <p> Email </p> <p>Env\u00edo autom\u00e1tico de correos electr\u00f3nicos personalizados</p> <p> WhatsApp </p> <p>Mensajes automatizados v\u00eda WhatsApp Business API</p> <p> SMS </p> <p>Notificaciones por mensaje de texto</p> <p> Notificaciones Push </p> <p>Notificaciones push en aplicaciones m\u00f3viles y web</p>"},{"location":"communication-channels/#funcionamiento-automatico","title":"Funcionamiento Autom\u00e1tico","text":"<p>A diferencia de las tareas manuales disponibles en el consumo de datos, estas comunicaciones se ejecutan autom\u00e1ticamente por Reten seg\u00fan:</p> <ul> <li>Triggers del Sistema: Eventos espec\u00edficos que gatillan comunicaciones</li> <li>Reglas de Negocio: L\u00f3gica configurada para determinar cu\u00e1ndo enviar mensajes</li> <li>Segmentaci\u00f3n de Usuarios: Env\u00edo a usuarios espec\u00edficos seg\u00fan criterios</li> <li>Personalizaci\u00f3n: Contenido adaptado al perfil y comportamiento del usuario</li> </ul>"},{"location":"communication-channels/#proximos-pasos","title":"Pr\u00f3ximos Pasos","text":"<p>1. Revisa la Configuraci\u00f3n</p> <ul> <li>Consulta la documentaci\u00f3n de Configuraci\u00f3n de Canales</li> <li>Proporciona tus credenciales al equipo de Reten</li> </ul> <p>2. Prepara tus Datos</p> <ul> <li>Incluye campos de contacto en tu carga de usuarios</li> <li>Mant\u00e9n actualizados los identificadores de comunicaci\u00f3n</li> </ul> <p>3. Explora los Canales</p> <ul> <li>Revisa la documentaci\u00f3n espec\u00edfica de cada canal disponible</li> <li>Define tus requisitos de comunicaci\u00f3n autom\u00e1tica</li> </ul>"},{"location":"communication-channels/channel-provider-configuration/","title":"Configuraci\u00f3n de Canales","text":"<p>Esta documentaci\u00f3n explica la informaci\u00f3n que debe proporcionar un cliente para habilitar un canal de comunicaci\u00f3n con Reten. Estos son exactamente los campos que el cliente debe compartir con el equipo de Reten para configurar el canal.</p> <p>Informaci\u00f3n Sensible</p> <p>Esta documentaci\u00f3n representa c\u00f3mo Reten almacena y gestiona las credenciales de los clientes. Las credenciales deben ser entregadas de manera segura previa coordinaci\u00f3n con el equipo t\u00e9cnico de Reten.</p>"},{"location":"communication-channels/channel-provider-configuration/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  \"channel_type\": \"push|email|whatsapp|sms\",  // Tipo de canal\n  \"provider_name\": \"string\",                  // Nombre identificador del proveedor\n  \"endpoint_url\": \"string\",                   // URL del endpoint del cliente\n  \"auth_type\": \"bearer|api_key|basic_auth\",   // Tipo de autenticaci\u00f3n\n  \"auth_header_name\": \"string\",               // Nombre del header de auth (opcional)\n  \"auth_token\": \"string\",                     // Token de autenticaci\u00f3n (opcional)\n  \"api_key\": \"string\",                        // API key (opcional)\n  \"secret\": \"string\",                         // Secret/token adicional (opcional)\n  \"token_url\": \"string\"                       // URL para obtener token (opcional)\n}\n</code></pre>"},{"location":"communication-channels/channel-provider-configuration/#campos-detallados","title":"Campos Detallados","text":"Campo Tipo Requerido Descripci\u00f3n channel_type string S\u00ed Tipo de canal: push, email, whatsapp, sms provider_name string S\u00ed Nombre identificador del proveedor endpoint_url string S\u00ed URL del endpoint del cliente auth_type string S\u00ed Tipo de autenticaci\u00f3n: bearer, api_key, basic_auth auth_header_name string No Nombre del header de autenticaci\u00f3n auth_token string No Token de autenticaci\u00f3n api_key string No API key del proveedor secret string No Secret o token adicional token_url string No URL para obtener token antes de las requests (opcional)"},{"location":"communication-channels/channel-provider-configuration/#validaciones","title":"Validaciones","text":"<ul> <li><code>channel_type</code> debe ser uno de: push, email, whatsapp, sms</li> <li><code>endpoint_url</code> debe ser una URL v\u00e1lida</li> <li><code>auth_type</code> debe ser uno de: bearer, api_key, basic_auth</li> <li>Solo uno de <code>auth_token</code>, <code>api_key</code> o <code>secret</code> es requerido seg\u00fan el <code>auth_type</code></li> </ul>"},{"location":"communication-channels/channel-provider-configuration/#flujo-de-autenticacion-con-token-url","title":"Flujo de Autenticaci\u00f3n con Token URL","text":"<p>Cuando se proporciona un <code>token_url</code>, Reten seguir\u00e1 este flujo de autenticaci\u00f3n:</p> <ol> <li>Obtenci\u00f3n de Token: Primero hace una request al <code>token_url</code> con las credenciales proporcionadas</li> <li>Almacenamiento Temporal: El token obtenido se almacena temporalmente para su uso</li> <li>Request al Endpoint: Luego hace la request al <code>endpoint_url</code> usando el token obtenido</li> <li>Renovaci\u00f3n Autom\u00e1tica: Si el token expira, se renueva autom\u00e1ticamente usando el <code>token_url</code></li> </ol>"},{"location":"communication-channels/channel-provider-configuration/#ejemplo-de-token-url","title":"Ejemplo de Token URL","text":"<pre><code>{\n  \"channel_type\": \"whatsapp\",\n  \"provider_name\": \"cliente_whatsapp_provider\",\n  \"endpoint_url\": \"https://api.cliente.com/whatsapp/send\",\n  \"auth_type\": \"bearer\",\n  \"auth_header_name\": \"Authorization\",\n  \"token_url\": \"https://api.cliente.com/oauth/token\",\n  \"api_key\": \"client_id_here\",\n  \"secret\": \"client_secret_here\"\n}\n</code></pre> <p>En este caso, Reten primero llamar\u00e1 al <code>token_url</code> con el <code>api_key</code> y <code>secret</code> para obtener un token de acceso, y luego usar\u00e1 ese token para hacer requests al <code>endpoint_url</code>.</p>"},{"location":"communication-channels/channel-provider-configuration/#ejemplos-de-uso","title":"Ejemplos de Uso","text":""},{"location":"communication-channels/channel-provider-configuration/#configuracion-push-notifications","title":"Configuraci\u00f3n Push Notifications","text":"<pre><code>{\n  \"channel_type\": \"push\",\n  \"provider_name\": \"cliente_push_provider\",\n  \"endpoint_url\": \"https://api.cliente.com/notifications/push\",\n  \"auth_type\": \"bearer\",\n  \"auth_header_name\": \"Authorization\",\n  \"auth_token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...\"\n}\n</code></pre>"},{"location":"communication-channels/channel-provider-configuration/#configuracion-email","title":"Configuraci\u00f3n Email","text":"<pre><code>{\n  \"channel_type\": \"email\",\n  \"provider_name\": \"cliente_email_provider\",\n  \"endpoint_url\": \"https://api.cliente.com/emails/send\",\n  \"auth_type\": \"api_key\",\n  \"auth_header_name\": \"X-API-Key\",\n  \"api_key\": \"sk_live_1234567890abcdef\"\n}\n</code></pre>"},{"location":"communication-channels/channel-provider-configuration/#configuracion-con-token-url-oauth-flow","title":"Configuraci\u00f3n con Token URL (OAuth Flow)","text":"<pre><code>{\n  \"channel_type\": \"whatsapp\",\n  \"provider_name\": \"cliente_whatsapp_provider\",\n  \"endpoint_url\": \"https://api.cliente.com/whatsapp/send\",\n  \"auth_type\": \"bearer\",\n  \"auth_header_name\": \"Authorization\",\n  \"token_url\": \"https://api.cliente.com/oauth/token\",\n  \"api_key\": \"client_id_here\",\n  \"secret\": \"client_secret_here\"\n}\n</code></pre>"},{"location":"communication-channels/channel-provider-configuration/#proceso-de-configuracion","title":"Proceso de Configuraci\u00f3n","text":"<ol> <li>Cliente proporciona informaci\u00f3n: Completa la estructura JSON con sus credenciales</li> <li>Reten configura internamente: El equipo t\u00e9cnico configura el canal usando la API interna</li> <li>Pruebas y validaci\u00f3n: Se realizan pruebas para asegurar el funcionamiento</li> <li>Activaci\u00f3n: El canal queda habilitado para uso en producci\u00f3n</li> </ol>"},{"location":"communication-channels/channel-provider-configuration/#consideraciones-importantes","title":"Consideraciones Importantes","text":"<ul> <li>Seguridad: Todas las credenciales son manejadas de forma segura por el equipo de Reten</li> <li>Encriptaci\u00f3n: Los tokens y claves se almacenan encriptados</li> <li>Validaci\u00f3n: Se validan todas las URLs y credenciales antes de la activaci\u00f3n</li> <li>Monitoreo: Se establece monitoreo continuo del canal configurado</li> <li>Entrega Segura: Las credenciales deben coordinarse previamente con el equipo t\u00e9cnico para asegurar el m\u00e9todo de entrega m\u00e1s apropiado</li> </ul>"},{"location":"communication-channels/email/","title":"Correos Electr\u00f3nicos","text":"<p>Work in Progress</p> <p>Esta documentaci\u00f3n est\u00e1 en desarrollo. Pronto estar\u00e1 disponible la informaci\u00f3n completa sobre la integraci\u00f3n de correos electr\u00f3nicos autom\u00e1ticos con Reten.</p>"},{"location":"communication-channels/push/","title":"Notificaciones Push","text":"<p>Esta documentaci\u00f3n explica c\u00f3mo configurar e implementar Notificaciones Push autom\u00e1ticas con Reten. Las notificaciones se env\u00edan a aplicaciones m\u00f3viles y web a trav\u00e9s de tu servicio de push existente (FCM, APNs, etc.).</p> <p>Para la configuraci\u00f3n general del canal, consulta Configuraci\u00f3n de Canales. Aqu\u00ed nos enfocamos en los aspectos espec\u00edficos de push notifications.</p>"},{"location":"communication-channels/push/#integracion-tecnica","title":"Integraci\u00f3n T\u00e9cnica","text":""},{"location":"communication-channels/push/#configuracion-del-canal-push","title":"Configuraci\u00f3n del Canal Push","text":"<p>Para configurar notificaciones push, sigue la estructura general descrita en Configuraci\u00f3n de Canales con los siguientes valores espec\u00edficos:</p> <pre><code>{\n  \"channel_type\": \"push\",\n  \"provider_name\": \"tu_cliente_push\",\n  \"endpoint_url\": \"https://api.tucliente.com/notifications/push\",\n  \"auth_type\": \"bearer\",\n  \"auth_header_name\": \"Authorization\",\n  \"auth_token\": \"tu_token_fcm_o_apns\"\n}\n</code></pre> <p>Campos espec\u00edficos para Push</p> <ul> <li>channel_type: Siempre <code>\"push\"</code></li> <li>endpoint_url: URL de tu API de notificaciones push</li> <li>auth_token: Token de FCM, APNs, o tu servicio de push</li> <li>token_url: Opcional, si usas OAuth para obtener tokens</li> </ul>"},{"location":"communication-channels/push/#payload-estandar","title":"Payload Est\u00e1ndar","text":"<p>Reten enviar\u00e1 el siguiente payload estandarizado a tu endpoint. Este formato est\u00e1 dise\u00f1ado para ser f\u00e1cilmente adaptable a diferentes proveedores de push:</p> <pre><code>{\n  \"title\": \"\u00a1Pedido Confirmado! \ud83c\udf89\",\n  \"message\": \"Tu pedido #12345 ha sido confirmado\",\n  \"action_url\": \"https://tucliente.com/orders/12345\",\n  \"push_tokens\": [\"fcm_token_abc123\", \"apns_token_xyz789\"],\n  \"metadata\": {\n    \"campaign_id\": \"order_notifications\",\n    \"trigger_type\": \"order_completed\",\n    \"order_id\": \"12345\"\n  }\n}\n</code></pre>"},{"location":"communication-channels/push/#adaptacion-a-proveedores","title":"Adaptaci\u00f3n a Proveedores","text":"<p>Este payload se puede adaptar f\u00e1cilmente a los formatos espec\u00edficos de cada proveedor:</p>"},{"location":"communication-channels/push/#firebase-cloud-messaging-fcm","title":"Firebase Cloud Messaging (FCM)","text":"<pre><code>{\n  \"registration_ids\": [\"fcm_token_abc123\", \"fcm_token_xyz789\"],\n  \"notification\": {\n    \"title\": \"\u00a1Pedido Confirmado! \ud83c\udf89\",\n    \"body\": \"Tu pedido #12345 ha sido confirmado\"\n  },\n  \"data\": {\n    \"action_url\": \"https://tucliente.com/orders/12345\",\n    \"campaign_id\": \"order_notifications\",\n    \"trigger_type\": \"order_completed\",\n    \"order_id\": \"12345\"\n  }\n}\n</code></pre>"},{"location":"communication-channels/push/#requisitos-previos","title":"Requisitos Previos","text":"<p>Antes de configurar las notificaciones push, aseg\u00farate de tener:</p> <ul> <li>Servicio de Push Notifications para m\u00f3viles: Firebase Cloud Messaging (FCM)</li> <li>Servicio de Push Notifications para web: Service Workers registrados y soporte para Push API en navegadores modernos</li> <li>Credenciales de API: Claves y tokens necesarios para enviar notificaciones</li> <li>Base de Datos de Tokens: Almac\u00e9n de tokens de dispositivo/navegador de tus usuarios</li> <li>Consentimiento de Usuarios: Sistema para gestionar opt-in/opt-out de notificaciones</li> <li>Service Worker (para web): Implementaci\u00f3n para manejar las notificaciones push en el navegador</li> </ul>"},{"location":"communication-channels/push/#configuracion-en-reten","title":"Configuraci\u00f3n en Reten","text":"<p>Una vez que proporciones la configuraci\u00f3n siguiendo la estructura de Configuraci\u00f3n de Canales, el proceso contin\u00faa as\u00ed:</p> <p>1. Reten configura el canal</p> <ul> <li>Creamos la configuraci\u00f3n del canal push en nuestro sistema</li> <li>Probamos la conectividad con tu endpoint</li> <li>Validamos el env\u00edo de notificaciones de prueba</li> </ul> <p>2. T\u00fa preparas tus datos</p> <ul> <li>Incluye el campo <code>push_token</code> en tu carga de datos de usuarios</li> <li>El <code>push_token</code> debe corresponder al token de FCM/APNs de cada usuario</li> <li>Mant\u00e9n actualizados los tokens de push de tus usuarios</li> </ul> <p>3. Reten implementa triggers</p> <ul> <li>Configuramos qu\u00e9 eventos gatillar\u00e1n notificaciones push</li> <li>Establecemos reglas de segmentaci\u00f3n</li> <li>Creamos plantillas de mensajes personalizadas</li> </ul>"},{"location":"communication-channels/push/#triggers-y-reglas","title":"Triggers y Reglas","text":"<p>Reten puede enviar notificaciones push bas\u00e1ndose en diferentes tipos de triggers:</p>"},{"location":"communication-channels/push/#triggers-de-eventos","title":"Triggers de Eventos","text":"<ul> <li>Compra Completada: Notificar confirmaci\u00f3n de pedido</li> <li>Producto Agotado: Alertar sobre productos sin stock</li> <li>Promoci\u00f3n Disponible: Informar ofertas especiales</li> <li>Recordatorio de Carrito: Recordar productos abandonados</li> </ul>"},{"location":"communication-channels/push/#triggers-de-reglas-de-negocio","title":"Triggers de Reglas de Negocio","text":"<ul> <li>Cumplea\u00f1os del Usuario: Felicitaciones personalizadas</li> <li>Inactividad: Recordatorios para reactivar engagement</li> <li>Recompensas: Notificar puntos o beneficios acumulados</li> <li>Actualizaciones de Estado: Cambios en pedidos o entregas</li> </ul>"},{"location":"communication-channels/push/#ejemplo-de-implementacion","title":"Ejemplo de Implementaci\u00f3n","text":"<p>Cuando Reten detecta un trigger (ej: pedido completado), env\u00eda el siguiente payload a tu endpoint:</p> <pre><code>{\n  \"title\": \"\u00a1Pedido Confirmado! \ud83c\udf89\",\n  \"message\": \"Tu pedido #12345 ha sido confirmado\",\n  \"action_url\": \"https://cliente.com/orders/12345\",\n  \"push_tokens\": [\"fcm_token_abc123\"],\n  \"metadata\": {\n    \"campaign_id\": \"order_notifications\",\n    \"trigger_type\": \"order_completed\",\n    \"order_id\": \"12345\"\n  }\n}\n</code></pre> <p>Tu endpoint debe:</p> <ol> <li>Recibir este payload</li> <li>Usar directamente los push_tokens: Los tokens ya vienen listos del campo <code>push_token</code> de tus usuarios</li> <li>Adaptar al formato del proveedor: Transformar el payload seg\u00fan el proveedor (FCM)</li> <li>Enviar la notificaci\u00f3n usando tu servicio de push</li> <li>Retornar una respuesta de \u00e9xito/error</li> </ol>"},{"location":"communication-channels/push/#implementacion-simplificada","title":"Implementaci\u00f3n Simplificada","text":"<pre><code>// En tu endpoint:\napp.post('/notifications/push', (req, res) =&gt; {\n  const { push_tokens, title, message, action_url } = req.body;\n\n  // Los tokens ya vienen listos, no necesitas mapear\n  const tokens = push_tokens; // [\"fcm_token_abc123\", \"fcm_token_xyz789\"]\n\n  // Enviar a FCM con todos los tokens en batch\n  const fcmPayload = {\n    registration_ids: tokens,\n    notification: { title, body: message },\n    data: { action_url }\n  };\n\n  await sendToFCM(fcmPayload);\n});\n</code></pre> <p>Identificadores Compuestos</p> <p>Si necesitas el <code>user_id</code> junto con el token, puedes usar identificadores compuestos en el <code>push_token</code>: - <code>\"CLI_001:fcm_token_abc123\"</code> (user_id:token) - <code>\"CLI_001|fcm_token_xyz789\"</code> (user_id|token)</p>"},{"location":"communication-channels/push/#monitoreo-y-metricas","title":"Monitoreo y M\u00e9tricas","text":"<p>Reten proporciona m\u00e9tricas detalladas sobre el rendimiento de tus notificaciones push:</p> <ul> <li>Tasa de Entrega: Porcentaje de notificaciones entregadas exitosamente</li> <li>Tasa de Apertura: Porcentaje de usuarios que interact\u00faan con la notificaci\u00f3n</li> <li>Tasa de Conversi\u00f3n: Porcentaje que completa la acci\u00f3n deseada</li> <li>Opt-out Rate: Porcentaje de usuarios que desactiva notificaciones</li> </ul>"},{"location":"communication-channels/push/#consideraciones-de-privacidad","title":"Consideraciones de Privacidad","text":"<ul> <li>Consentimiento Expl\u00edcito: Solo enviamos a usuarios que han dado consentimiento (tanto en app m\u00f3vil como en navegador web)</li> <li>Categorizaci\u00f3n: Permite diferentes tipos de notificaciones con opt-in independiente</li> <li>Frecuencia: L\u00edmites configurables para evitar spam en ambos canales</li> <li>Transparencia: Los usuarios pueden ver el historial de notificaciones enviadas</li> <li>Soporte Multi-plataforma: Manejo adecuado de tokens para diferentes dispositivos y navegadores</li> </ul>"},{"location":"communication-channels/push/#soporte","title":"Soporte","text":"<p>Si necesitas ayuda con la configuraci\u00f3n de notificaciones push o tienes preguntas espec\u00edficas sobre la integraci\u00f3n, contacta al equipo de soporte de Reten.</p>"},{"location":"communication-channels/sms/","title":"Mensajes SMS","text":"<p>Work in Progress</p> <p>Esta documentaci\u00f3n est\u00e1 en desarrollo. Pronto estar\u00e1 disponible la informaci\u00f3n completa sobre la integraci\u00f3n de mensajes SMS autom\u00e1ticos con Reten.</p>"},{"location":"communication-channels/whatsapp/","title":"WhatsApp Business","text":"<p>Work in Progress</p> <p>Esta documentaci\u00f3n est\u00e1 en desarrollo. Pronto estar\u00e1 disponible la informaci\u00f3n completa sobre la integraci\u00f3n de WhatsApp Business API con Reten.</p>"},{"location":"data-consumption/","title":"Consumo de Datos","text":"<p>Esta secci\u00f3n contiene toda la informaci\u00f3n necesaria para consumir datos desde Reten hacia tu sistema. El consumo de datos es el segundo paso fundamental para implementar Reten en tu negocio, permiti\u00e9ndote acceder a la informaci\u00f3n procesada y generada por la plataforma.</p>"},{"location":"data-consumption/#metodos-de-conexion","title":"M\u00e9todos de Conexi\u00f3n","text":"<p>Para consumir datos desde Reten, dispones de un m\u00e9todo de conexi\u00f3n unificado:</p> <p> API REST </p> <p>Endpoints REST para consultar y recibir datos en tiempo real</p>"},{"location":"data-consumption/#tipos-de-datos","title":"Tipos de Datos","text":"<p> Tareas </p> <p>Sistema de tareas, seguimiento y gesti\u00f3n de actividades.</p> <p> Estados de Usuario </p> <p>Clasificaci\u00f3n y segmentaci\u00f3n de usuarios seg\u00fan su engagement y comportamiento.</p>"},{"location":"data-consumption/#flujo-de-implementacion","title":"Flujo de Implementaci\u00f3n","text":"<p>Para implementar el consumo de datos en Reten, sigue estos pasos:</p> <p>1. Configura la Autenticaci\u00f3n</p> <ul> <li>Solicita credenciales de API al equipo de Reten</li> <li>Configura tokens de acceso seguros</li> <li>Establece permisos y scopes necesarios</li> </ul> <p>2. Implementa el Consumo de Datos</p> <ul> <li>Configura endpoints para consultar tareas y estados de usuario</li> <li>Implementa polling para sincronizaci\u00f3n peri\u00f3dica de ambos tipos de datos</li> <li>Establece filtros para obtener tareas espec\u00edficas y segmentar usuarios por estado</li> </ul> <p>3. Procesa y Utiliza los Datos</p> <ul> <li>Integra las tareas en tu sistema de gesti\u00f3n y CRM</li> <li>Utiliza los estados de usuario para segmentaci\u00f3n y personalizaci\u00f3n</li> <li>Implementa flujos de trabajo para las actividades basados en el estado del usuario</li> <li>Configura notificaciones y alertas seg\u00fan el engagement del usuario</li> </ul> <p>4. Monitorea y Optimiza</p> <ul> <li>Revisa logs de consumo regularmente</li> <li>Optimiza la frecuencia de consultas</li> <li>Ajusta la configuraci\u00f3n seg\u00fan tus necesidades</li> </ul>"},{"location":"data-consumption/connection-methods/","title":"M\u00e9todos de Conexi\u00f3n","text":"<p>Esta secci\u00f3n describe el m\u00e9todo de conexi\u00f3n disponible para consumir datos desde Reten hacia tu sistema. A diferencia de la carga de datos, el consumo se realiza exclusivamente a trav\u00e9s de APIs REST expuestas por Reten.</p> <p> API REST </p> <p>Endpoints REST para consultar y recibir datos en tiempo real</p>"},{"location":"data-consumption/connection-methods/api-rest/","title":"Consumo desde API REST de Reten","text":"<p>\ud83d\udcca API de Analytics en Producci\u00f3n</p> <p>Esta documentaci\u00f3n describe c\u00f3mo consumir datos desde la API REST de Reten que incluye endpoints para tareas, KPIs, mensajes y contactos de usuarios. Disponible en https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/docs.</p>"},{"location":"data-consumption/connection-methods/api-rest/#caracteristicas-principales","title":"Caracter\u00edsticas Principales","text":"<ul> <li>\ud83d\udd10 Autenticaci\u00f3n: API Key basada en headers</li> <li>\ud83d\udce1 Protocolo: HTTP/HTTPS con RESTful endpoints</li> <li>\ud83d\udcca Analytics: Datos de tareas, KPIs, mensajes y usuarios</li> <li>\ud83d\udccb Consulta: Filtrado por fechas, prioridades y canales</li> <li>\ud83d\udcca Formato: JSON para request/response</li> <li>\ud83d\udee1\ufe0f Seguridad: Autenticaci\u00f3n por API Key, HTTPS obligatorio</li> </ul>"},{"location":"data-consumption/connection-methods/api-rest/#base-url","title":"Base URL","text":"<pre><code>https://retenai-analytics-api-lgtxgindmq-tl.a.run.app\n</code></pre>"},{"location":"data-consumption/connection-methods/api-rest/#autenticacion","title":"Autenticaci\u00f3n","text":"<pre><code>X-API-Key: &lt;your_api_key&gt;\nContent-Type: application/json\n</code></pre> <p>Obtenci\u00f3n de API Key</p> <p>Para obtener tu API Key, contacta al equipo de Reten o solicita acceso a trav\u00e9s del portal de desarrolladores.</p>"},{"location":"data-consumption/connection-methods/api-rest/#endpoints-disponibles","title":"\ud83d\udccb Endpoints Disponibles","text":"<p>Otros Endpoints Disponibles</p> <p>La API tambi\u00e9n incluye endpoints para KPIs, mensajes y contactos de usuarios. Consulta la documentaci\u00f3n completa para m\u00e1s detalles.</p>"},{"location":"data-consumption/connection-methods/api-rest/#consulta-de-tareas","title":"Consulta de Tareas","text":""},{"location":"data-consumption/connection-methods/api-rest/#listar-tareas-programadas","title":"Listar Tareas Programadas","text":"<pre><code>GET /api/v1/tasks/\n</code></pre> <p>Par\u00e1metros de Query:</p> <ul> <li><code>from_date</code>: Fecha desde (ISO 8601, opcional)</li> <li><code>to_date</code>: Fecha hasta (ISO 8601, opcional)</li> <li><code>channel_priority</code>: Prioridad del canal (\"salesman\", \"callcenter\", opcional)</li> </ul> <p>Ejemplo de Request: <pre><code>curl -X GET \"https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/api/v1/tasks/?from_date=2024-01-01T00:00:00Z&amp;channel_priority=salesman\" \\\n  -H \"X-API-Key: your_api_key\"\n</code></pre></p> <p>Ejemplo de Respuesta: <pre><code>[\n  {\n    \"id\": \"123456789\",\n    \"user_id\": \"123456789\",\n    \"date\": \"2024-01-15T10:30:00Z\",\n    \"suggested_execution_time\": \"2024-01-15T14:00:00Z\",\n    \"template_msg_id\": \"abc123\",\n    \"score\": 85,\n    \"label\": \"Cliente VIP\",\n    \"reason\": \"Seguimiento mensual\",\n    \"channel_priority\": \"salesman\",\n    \"channel_secondary\": \"whatsapp\",\n    \"created_at\": \"2024-01-10T09:00:00Z\",\n    \"updated_at\": \"2024-01-10T09:00:00Z\"\n  }\n]\n</code></pre></p> <p>Documentaci\u00f3n Interactiva</p> <p>Para consultar la documentaci\u00f3n completa del endpoint GET /api/v1/tasks, visita: https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/docs#/tasks/get_task_api_v1_tasks__get</p>"},{"location":"data-consumption/connection-methods/api-rest/#consulta-de-estados-de-usuario","title":"Consulta de Estados de Usuario","text":""},{"location":"data-consumption/connection-methods/api-rest/#listar-estados-de-usuario","title":"Listar Estados de Usuario","text":"<pre><code>GET /api/v1/kpis/users-states\n</code></pre> <p>Par\u00e1metros de Query:</p> <ul> <li><code>page</code>: N\u00famero de p\u00e1gina (por defecto: 1)</li> <li><code>limit</code>: N\u00famero de elementos por p\u00e1gina (por defecto: 100)</li> <li><code>kpi_value</code>: Filtrar por valor del KPI (opcional)</li> <li><code>date</code>: Filtrar por fecha (YYYY-MM-DD, opcional)</li> <li><code>user_id</code>: Filtrar por ID de usuario (opcional)</li> </ul> <p>Ejemplo de Request: <pre><code>curl -X GET \"https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/api/v1/kpis/users-states?page=1&amp;limit=50&amp;date=2024-01-15\" \\\n  -H \"X-API-Key: your_api_key\"\n</code></pre></p> <p>Ejemplo de Respuesta: <pre><code>{\n  \"page\": 1,\n  \"limit\": 50,\n  \"total\": 1000,\n  \"next_page\": 2,\n  \"previous_page\": null,\n  \"data\": [\n    {\n      \"user_id\": \"user_123\",\n      \"kpi_name\": \"user_state\",\n      \"kpi_value\": \"core\",\n      \"date\": \"2024-01-15\",\n      \"segment_name\": \"engagement_level\",\n      \"segment_value\": \"high\"\n    },\n    {\n      \"user_id\": \"user_456\",\n      \"kpi_name\": \"user_state\",\n      \"kpi_value\": \"churned\",\n      \"date\": \"2024-01-15\",\n      \"segment_name\": \"engagement_level\",\n      \"segment_value\": \"low\"\n    }\n  ]\n}\n</code></pre></p> <p>Documentaci\u00f3n Interactiva</p> <p>Para consultar la documentaci\u00f3n completa del endpoint GET /api/v1/kpis/users-states, visita: https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/docs#/kpis/get_kpis_users_states_api_v1_kpis_users_states_get</p>"},{"location":"data-consumption/connection-methods/api-rest/#ejemplos-de-uso","title":"\ud83d\udd27 Ejemplos de Uso","text":""},{"location":"data-consumption/connection-methods/api-rest/#python","title":"Python","text":"<pre><code>import requests\n\nAPI_BASE_URL = \"https://retenai-analytics-api-lgtxgindmq-tl.a.run.app\"\nAPI_KEY = \"your_api_key\"\n\n# Consultar todas las tareas\nresponse = requests.get(f'{API_BASE_URL}/api/v1/tasks/', headers={'X-API-Key': API_KEY})\ntasks = response.json()\n\n# Consultar tareas por fecha\nparams = {'from_date': '2024-01-01T00:00:00Z', 'to_date': '2024-01-31T23:59:59Z'}\nresponse = requests.get(f'{API_BASE_URL}/api/v1/tasks/', headers={'X-API-Key': API_KEY}, params=params)\ntasks_filtradas = response.json()\n\n# Consultar tareas por canal de prioridad\nparams = {'channel_priority': 'salesman'}\nresponse = requests.get(f'{API_BASE_URL}/api/v1/tasks/', headers={'X-API-Key': API_KEY}, params=params)\ntasks_salesman = response.json()\n\n# Consultar estados de usuario\nresponse = requests.get(f'{API_BASE_URL}/api/v1/kpis/users-states', headers={'X-API-Key': API_KEY})\nuser_states = response.json()\n\n# Consultar estados de usuario por fecha\nparams = {'date': '2024-01-15', 'limit': 100}\nresponse = requests.get(f'{API_BASE_URL}/api/v1/kpis/users-states', headers={'X-API-Key': API_KEY}, params=params)\nuser_states_filtrados = response.json()\n\n# Consultar estados de usuario espec\u00edfico\nparams = {'user_id': 'user_123'}\nresponse = requests.get(f'{API_BASE_URL}/api/v1/kpis/users-states', headers={'X-API-Key': API_KEY}, params=params)\nuser_states_especifico = response.json()\n</code></pre>"},{"location":"data-consumption/connection-methods/api-rest/#curl","title":"cURL","text":"<pre><code># Consultar todas las tareas\ncurl -X GET \"https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/api/v1/tasks/\" \\\n  -H \"X-API-Key: your_api_key\"\n\n# Consultar tareas por rango de fechas\ncurl -X GET \"https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/api/v1/tasks/?from_date=2024-01-01T00:00:00Z&amp;to_date=2024-01-31T23:59:59Z\" \\\n  -H \"X-API-Key: your_api_key\"\n\n# Consultar tareas por canal de prioridad\ncurl -X GET \"https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/api/v1/tasks/?channel_priority=salesman\" \\\n  -H \"X-API-Key: your_api_key\"\n\n# Consultar estados de usuario\ncurl -X GET \"https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/api/v1/kpis/users-states\" \\\n  -H \"X-API-Key: your_api_key\"\n\n# Consultar estados de usuario por fecha\ncurl -X GET \"https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/api/v1/kpis/users-states?date=2024-01-15&amp;limit=100\" \\\n  -H \"X-API-Key: your_api_key\"\n\n# Consultar estados de usuario espec\u00edfico\ncurl -X GET \"https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/api/v1/kpis/users-states?user_id=user_123\" \\\n  -H \"X-API-Key: your_api_key\"\n</code></pre>"},{"location":"data-consumption/connection-methods/api-rest/#documentacion-completa","title":"Documentaci\u00f3n Completa","text":"<p>https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/docs</p>"},{"location":"data-consumption/tasks/","title":"Tareas","text":"<p>Las tareas representan los momentos de contacto planificados con los clientes en el sistema Reten. Esta entidad maneja diferentes tipos de interacciones identificadas por campos espec\u00edficos, permitiendo una gesti\u00f3n unificada de todas las actividades de outreach.</p>"},{"location":"data-consumption/tasks/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  // Identificadores (requeridos)\n  \"task_id\": \"string\",                 // Identificador \u00fanico de la tarea (not null)\n  \"user_id\": \"string\",                 // ID del usuario objetivo (not null)\n\n  // Informaci\u00f3n temporal\n  \"date\": \"timestamp\",                 // Fecha programada para la tarea (not null)\n  \"suggested_execution_time\": \"timestamp\", // Hora sugerida de ejecuci\u00f3n (not null)\n\n  // Informaci\u00f3n del canal y prioridad\n  \"channel_priority\": \"string\",        // Canal prioritario: \"salesman\", \"callcenter\", \"whatsapp\", \"email\", \"sms\", \"push\" (not null)\n  \"channel_secondary\": \"string\",       // Canal alternativo: \"salesman\", \"callcenter\", \"whatsapp\", \"email\", \"sms\", \"push\"\n\n  // Informaci\u00f3n de negocio\n  \"template_msg_id\": \"string\",         // ID de plantilla de mensaje\n  \"score\": \"number\",                   // Puntaje/prioridad de la tarea\n  \"label\": \"string\",                   // Etiqueta descriptiva\n  \"reason\": \"string\",                  // Motivo espec\u00edfico de la tarea\n\n  \"created_at\": \"timestamp\",           // Fecha de creaci\u00f3n (not null)\n  \"updated_at\": \"timestamp\",           // \u00daltima actualizaci\u00f3n\n\n  // Marcas temporales de sincronizaci\u00f3n con Reten\n  \"_created_at\": \"timestamp\",           // Fecha de creaci\u00f3n del registro en Reten\n  \"_updated_at\": \"timestamp\"            // Fecha de \u00faltima actualizaci\u00f3n del registro en Reten\n}\n</code></pre>"},{"location":"data-consumption/tasks/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-consumption/tasks/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n task_id string S\u00ed Identificador \u00fanico de la tarea user_id string S\u00ed ID del usuario objetivo"},{"location":"data-consumption/tasks/#informacion-temporal","title":"Informaci\u00f3n Temporal","text":"Campo Tipo Requerido Descripci\u00f3n date timestamp S\u00ed Fecha programada para la tarea suggested_execution_time timestamp S\u00ed Hora sugerida de ejecuci\u00f3n created_at timestamp S\u00ed Fecha de creaci\u00f3n en el sistema updated_at timestamp No \u00daltima actualizaci\u00f3n"},{"location":"data-consumption/tasks/#informacion-del-canal","title":"Informaci\u00f3n del Canal","text":"Campo Tipo Requerido Descripci\u00f3n channel_priority string S\u00ed Canal prioritario para ejecutar la tarea: \"salesman\", \"callcenter\", \"whatsapp\", \"email\", \"sms\", \"push\" channel_secondary string No Canal alternativo: \"salesman\", \"callcenter\", \"whatsapp\", \"email\", \"sms\", \"push\""},{"location":"data-consumption/tasks/#concepto-de-prioridad-de-canal","title":"Concepto de Prioridad de Canal","text":"<p>Los campos <code>channel_priority</code> y <code>channel_secondary</code> permiten definir una estrategia de contacto jer\u00e1rquica:</p> <ul> <li><code>channel_priority</code>: Establece el canal principal sobre el cual se debe intentar ejecutar la tarea inicialmente</li> <li><code>channel_secondary</code>: Define un canal alternativo en caso de que el canal prioritario no est\u00e9 disponible o falle</li> </ul> <p>Ejemplos de estrategias:</p> <ul> <li><code>channel_priority: \"salesman\"</code>, <code>channel_secondary: \"whatsapp\"</code> \u2192 Intentar visita primero, WhatsApp como respaldo</li> <li><code>channel_priority: \"callcenter\"</code>, <code>channel_secondary: \"email\"</code> \u2192 Intentar llamada primero, email como respaldo</li> <li><code>channel_priority: \"whatsapp\"</code>, <code>channel_secondary: \"sms\"</code> \u2192 Intentar WhatsApp primero, SMS como respaldo</li> </ul>"},{"location":"data-consumption/tasks/#informacion-de-negocio","title":"Informaci\u00f3n de Negocio","text":"Campo Tipo Requerido Descripci\u00f3n template_msg_id string No ID de plantilla de mensaje score number No Puntaje/prioridad de la tarea label string No Etiqueta descriptiva reason string No Motivo espec\u00edfico de la tarea"},{"location":"data-consumption/tasks/#validaciones","title":"Validaciones","text":""},{"location":"data-consumption/tasks/#validaciones-generales","title":"Validaciones Generales","text":""},{"location":"data-consumption/tasks/#identificadores_1","title":"Identificadores","text":"<ul> <li><code>task_id</code> debe ser \u00fanico en todo el sistema</li> <li><code>user_id</code> debe corresponder a un usuario existente</li> </ul>"},{"location":"data-consumption/tasks/#fechas","title":"Fechas","text":"<ul> <li><code>date</code> y <code>suggested_execution_time</code> deben ser fechas v\u00e1lidas en el futuro</li> <li><code>created_at</code> no puede ser posterior a <code>updated_at</code></li> <li>Todas las fechas deben estar en formato ISO 8601</li> </ul>"},{"location":"data-consumption/tasks/#canales","title":"Canales","text":"<ul> <li><code>channel_priority</code> establece la prioridad del canal sobre el cual se debe ejecutar la tarea</li> <li><code>channel_priority</code> debe ser uno de: \"salesman\", \"callcenter\", \"whatsapp\", \"email\", \"sms\", \"push\"</li> <li><code>channel_secondary</code> debe ser uno de: \"salesman\", \"callcenter\", \"whatsapp\", \"email\", \"sms\", \"push\"</li> <li><code>channel_secondary</code> puede ser el mismo que <code>channel_priority</code> o diferente</li> </ul>"},{"location":"data-consumption/tasks/#informacion-de-negocio_1","title":"Informaci\u00f3n de Negocio","text":"<ul> <li><code>score</code> debe ser un n\u00famero entre 0 y 100 (si se proporciona)</li> <li><code>template_msg_id</code> debe existir en el sistema de plantillas (si se proporciona)</li> </ul>"},{"location":"data-consumption/tasks/#ejemplos-de-uso","title":"Ejemplos de Uso","text":""},{"location":"data-consumption/tasks/#tarea-de-visita-de-vendedor","title":"Tarea de Visita de Vendedor","text":"<pre><code>{\n  \"task_id\": \"task_001\",\n  \"user_id\": \"user_123\",\n  \"date\": \"2024-01-15T10:30:00Z\",\n  \"suggested_execution_time\": \"2024-01-15T14:00:00Z\",\n  \"channel_priority\": \"salesman\",\n  \"channel_secondary\": \"whatsapp\",\n  \"template_msg_id\": \"visit_template_001\",\n  \"score\": 85,\n  \"label\": \"Cliente VIP\",\n  \"reason\": \"Seguimiento mensual\",\n  \"created_at\": \"2024-01-10T09:00:00Z\",\n  \"updated_at\": \"2024-01-10T09:00:00Z\",\n  \"_created_at\": \"2024-01-10T09:00:00Z\",\n  \"_updated_at\": \"2024-01-10T09:00:00Z\"\n}\n</code></pre>"},{"location":"data-consumption/tasks/#tarea-de-llamada-de-call-center","title":"Tarea de Llamada de Call Center","text":"<pre><code>{\n  \"task_id\": \"task_002\",\n  \"user_id\": \"user_456\",\n  \"date\": \"2024-01-16T09:00:00Z\",\n  \"suggested_execution_time\": \"2024-01-16T11:30:00Z\",\n  \"channel_priority\": \"callcenter\",\n  \"channel_secondary\": \"whatsapp\",\n  \"template_msg_id\": \"call_template_002\",\n  \"score\": 70,\n  \"label\": \"Cliente Regular\",\n  \"reason\": \"Reactivaci\u00f3n\",\n  \"created_at\": \"2024-01-11T08:30:00Z\",\n  \"updated_at\": \"2024-01-11T08:30:00Z\",\n  \"_created_at\": \"2024-01-11T08:30:00Z\",\n  \"_updated_at\": \"2024-01-11T08:30:00Z\"\n}\n</code></pre>"},{"location":"data-consumption/tasks/#tarea-de-alta-prioridad","title":"Tarea de Alta Prioridad","text":"<pre><code>{\n  \"task_id\": \"task_003\",\n  \"user_id\": \"user_789\",\n  \"date\": \"2024-01-17T15:00:00Z\",\n  \"suggested_execution_time\": \"2024-01-17T16:00:00Z\",\n  \"channel_priority\": \"salesman\",\n  \"channel_secondary\": \"email\",\n  \"template_msg_id\": \"custom_template_003\",\n  \"score\": 95,\n  \"label\": \"Cliente Premium\",\n  \"reason\": \"Venta cruzada\",\n  \"created_at\": \"2024-01-12T10:15:00Z\",\n  \"updated_at\": \"2024-01-12T10:15:00Z\",\n  \"_created_at\": \"2024-01-12T10:15:00Z\",\n  \"_updated_at\": \"2024-01-12T10:15:00Z\"\n}\n</code></pre>"},{"location":"data-consumption/tasks/#tarea-digital-whatsapp-push","title":"Tarea Digital (WhatsApp + Push)","text":"<pre><code>{\n  \"task_id\": \"task_004\",\n  \"user_id\": \"user_999\",\n  \"date\": \"2024-01-18T12:00:00Z\",\n  \"suggested_execution_time\": \"2024-01-18T12:00:00Z\",\n  \"channel_priority\": \"whatsapp\",\n  \"channel_secondary\": \"push\",\n  \"template_msg_id\": \"digital_campaign_001\",\n  \"score\": 75,\n  \"label\": \"Campa\u00f1a Digital\",\n  \"reason\": \"Promoci\u00f3n especial\",\n  \"created_at\": \"2024-01-13T09:00:00Z\",\n  \"updated_at\": \"2024-01-13T09:00:00Z\",\n  \"_created_at\": \"2024-01-13T09:00:00Z\",\n  \"_updated_at\": \"2024-01-13T09:00:00Z\"\n}\n</code></pre>"},{"location":"data-consumption/tasks/#tarea-email-email-sms","title":"Tarea Email (Email + SMS)","text":"<pre><code>{\n  \"task_id\": \"task_005\",\n  \"user_id\": \"user_111\",\n  \"date\": \"2024-01-19T10:00:00Z\",\n  \"suggested_execution_time\": \"2024-01-19T10:00:00Z\",\n  \"channel_priority\": \"email\",\n  \"channel_secondary\": \"sms\",\n  \"template_msg_id\": \"newsletter_template_001\",\n  \"score\": 60,\n  \"label\": \"Newsletter\",\n  \"reason\": \"Comunicaci\u00f3n regular\",\n  \"created_at\": \"2024-01-14T08:00:00Z\",\n  \"updated_at\": \"2024-01-14T08:00:00Z\",\n  \"_created_at\": \"2024-01-14T08:00:00Z\",\n  \"_updated_at\": \"2024-01-14T08:00:00Z\"\n}\n</code></pre>"},{"location":"data-consumption/tasks/#integracion","title":"\ud83d\udd04 Integraci\u00f3n","text":""},{"location":"data-consumption/tasks/#metodo-por-api-rest","title":"M\u00e9todo por API REST","text":"<p>\ud83d\udcd6 Documentaci\u00f3n Completa de Integraci\u00f3n</p> <p>Para ejemplos detallados de implementaci\u00f3n en Python, configuraci\u00f3n de autenticaci\u00f3n y estrategias avanzadas de consumo, consulta la documentaci\u00f3n completa de la API REST.</p>"},{"location":"data-consumption/tasks/#endpoint-principal","title":"Endpoint Principal","text":"<pre><code>GET /api/v1/tasks/\n</code></pre>"},{"location":"data-consumption/tasks/#parametros-disponibles","title":"Par\u00e1metros Disponibles","text":"<ul> <li><code>from_date</code>: Fecha desde (ISO 8601)</li> <li><code>to_date</code>: Fecha hasta (ISO 8601)</li> <li><code>channel_priority</code>: Filtrar por canal (\"salesman\", \"callcenter\", etc.)</li> </ul>"},{"location":"data-consumption/tasks/#ejemplo-de-consulta","title":"Ejemplo de Consulta","text":"<pre><code>curl -X GET \"https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/api/v1/tasks/?channel_priority=salesman\" \\\n  -H \"X-API-Key: your_api_key\"\n</code></pre>"},{"location":"data-consumption/user-states/","title":"Estados de Usuario","text":"<p>Los estados de usuario representan la clasificaci\u00f3n de los usuarios seg\u00fan su comportamiento y engagement con la plataforma Reten. Esta entidad permite segmentar a los usuarios en diferentes categor\u00edas que reflejan su nivel de actividad, fidelidad y potencial de conversi\u00f3n.</p>"},{"location":"data-consumption/user-states/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  // Identificadores\n  \"user_id\": \"string\",                 // Identificador \u00fanico del usuario (not null)\n  \"kpi_name\": \"string\",                // Nombre del KPI, siempre \"user_state\" (not null)\n\n  // Informaci\u00f3n del estado\n  \"kpi_value\": \"string\",               // Estado del usuario (not null)\n                                       // Valores posibles: \"aha\", \"casual\", \"churned\", \"core\", \"dormant\", \"habit\", \"power\", \"sign_up\", \"setup\"\n\n  // Informaci\u00f3n temporal\n  \"date\": \"string\",                    // Fecha del estado en formato YYYY-MM-DD (not null)\n\n  // Informaci\u00f3n de segmentaci\u00f3n (opcional)\n  \"segment_name\": \"string\",            // Nombre del segmento adicional\n  \"segment_value\": \"string\"            // Valor del segmento adicional\n}\n</code></pre>"},{"location":"data-consumption/user-states/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-consumption/user-states/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n user_id string S\u00ed Identificador \u00fanico del usuario kpi_name string S\u00ed Nombre del KPI (siempre \"user_state\")"},{"location":"data-consumption/user-states/#informacion-del-estado","title":"Informaci\u00f3n del Estado","text":"Campo Tipo Requerido Descripci\u00f3n kpi_value string S\u00ed Estado actual del usuario seg\u00fan el modelo de Reten"},{"location":"data-consumption/user-states/#informacion-temporal","title":"Informaci\u00f3n Temporal","text":"Campo Tipo Requerido Descripci\u00f3n date string S\u00ed Fecha en que se determin\u00f3 el estado (YYYY-MM-DD)"},{"location":"data-consumption/user-states/#informacion-de-segmentacion","title":"Informaci\u00f3n de Segmentaci\u00f3n","text":"Campo Tipo Requerido Descripci\u00f3n segment_name string No Nombre del segmento adicional segment_value string No Valor del segmento adicional"},{"location":"data-consumption/user-states/#estados-de-usuario-disponibles","title":"Estados de Usuario Disponibles","text":"<p>Los estados de usuario representan diferentes niveles de engagement y comportamiento:</p>"},{"location":"data-consumption/user-states/#estados-principales","title":"Estados Principales","text":"Estado Descripci\u00f3n sign_up Usuario reci\u00e9n registrado, sin actividad significativa aha Usuario que ha tenido su primer momento \"AHA\" de descubrimiento casual Usuario con actividad espor\u00e1dica y baja frecuencia habit Usuario que ha desarrollado un h\u00e1bito de uso regular core Usuario altamente comprometido, n\u00facleo del negocio power Usuario power user con m\u00e1xima actividad y engagement setup Usuario en proceso de configuraci\u00f3n inicial"},{"location":"data-consumption/user-states/#estados-de-riesgo","title":"Estados de Riesgo","text":"Estado Descripci\u00f3n dormant Usuario inactivo que podr\u00eda reactivarse churned Usuario que ha abandonado la plataforma"},{"location":"data-consumption/user-states/#validaciones","title":"Validaciones","text":""},{"location":"data-consumption/user-states/#validaciones-generales","title":"Validaciones Generales","text":""},{"location":"data-consumption/user-states/#identificadores_1","title":"Identificadores","text":"<ul> <li><code>user_id</code> debe ser \u00fanico y corresponder a un usuario existente en el sistema</li> <li><code>kpi_name</code> debe ser siempre \"user_state\"</li> </ul>"},{"location":"data-consumption/user-states/#estado-del-usuario","title":"Estado del Usuario","text":"<ul> <li><code>kpi_value</code> debe ser uno de los valores permitidos del enum de estados</li> <li>Los estados siguen una jerarqu\u00eda l\u00f3gica de engagement creciente</li> </ul>"},{"location":"data-consumption/user-states/#fechas","title":"Fechas","text":"<ul> <li><code>date</code> debe estar en formato YYYY-MM-DD</li> <li>No puede ser una fecha futura</li> </ul>"},{"location":"data-consumption/user-states/#segmentacion","title":"Segmentaci\u00f3n","text":"<ul> <li>Si se proporciona <code>segment_name</code>, debe existir <code>segment_value</code></li> <li>Los segmentos adicionales son opcionales y dependen de la configuraci\u00f3n del negocio</li> </ul>"},{"location":"data-consumption/user-states/#ejemplos-de-uso","title":"Ejemplos de Uso","text":""},{"location":"data-consumption/user-states/#usuario-core-activo","title":"Usuario Core Activo","text":"<pre><code>{\n  \"user_id\": \"user_123\",\n  \"kpi_name\": \"user_state\",\n  \"kpi_value\": \"core\",\n  \"date\": \"2024-01-15\",\n  \"segment_name\": \"engagement_level\",\n  \"segment_value\": \"high\"\n}\n</code></pre>"},{"location":"data-consumption/user-states/#usuario-nuevo-en-setup","title":"Usuario Nuevo en Setup","text":"<pre><code>{\n  \"user_id\": \"user_456\",\n  \"kpi_name\": \"user_state\",\n  \"kpi_value\": \"setup\",\n  \"date\": \"2024-01-14\"\n}\n</code></pre>"},{"location":"data-consumption/user-states/#usuario-churned","title":"Usuario Churned","text":"<pre><code>{\n  \"user_id\": \"user_789\",\n  \"kpi_name\": \"user_state\",\n  \"kpi_value\": \"churned\",\n  \"date\": \"2024-01-10\",\n  \"segment_name\": \"churn_reason\",\n  \"segment_value\": \"inactivity\"\n}\n</code></pre>"},{"location":"data-consumption/user-states/#usuario-power-user","title":"Usuario Power User","text":"<pre><code>{\n  \"user_id\": \"user_999\",\n  \"kpi_name\": \"user_state\",\n  \"kpi_value\": \"power\",\n  \"date\": \"2024-01-15\",\n  \"segment_name\": \"lifetime_value\",\n  \"segment_value\": \"premium\"\n}\n</code></pre>"},{"location":"data-consumption/user-states/#usuario-casual","title":"Usuario Casual","text":"<pre><code>{\n  \"user_id\": \"user_111\",\n  \"kpi_name\": \"user_state\",\n  \"kpi_value\": \"casual\",\n  \"date\": \"2024-01-13\",\n  \"segment_name\": \"frequency\",\n  \"segment_value\": \"weekly\"\n}\n</code></pre>"},{"location":"data-consumption/user-states/#usuario-dormant","title":"Usuario Dormant","text":"<pre><code>{\n  \"user_id\": \"user_222\",\n  \"kpi_name\": \"user_state\",\n  \"kpi_value\": \"dormant\",\n  \"date\": \"2024-01-12\",\n  \"segment_name\": \"days_since_last_activity\",\n  \"segment_value\": \"60\"\n}\n</code></pre>"},{"location":"data-consumption/user-states/#integracion","title":"\ud83d\udd04 Integraci\u00f3n","text":""},{"location":"data-consumption/user-states/#metodo-por-api-rest","title":"M\u00e9todo por API REST","text":"<p>\ud83d\udcd6 Documentaci\u00f3n Completa de Integraci\u00f3n</p> <p>Para ejemplos detallados de implementaci\u00f3n en Python, configuraci\u00f3n de autenticaci\u00f3n y estrategias avanzadas de consumo, consulta la documentaci\u00f3n completa de la API REST.</p>"},{"location":"data-consumption/user-states/#endpoint-principal","title":"Endpoint Principal","text":"<pre><code>GET /api/v1/kpis/users-states\n</code></pre>"},{"location":"data-consumption/user-states/#parametros-disponibles","title":"Par\u00e1metros Disponibles","text":"<ul> <li><code>page</code>: N\u00famero de p\u00e1gina para paginaci\u00f3n</li> <li><code>limit</code>: N\u00famero de elementos por p\u00e1gina (m\u00e1ximo recomendado: 100)</li> <li><code>kpi_value</code>: Filtrar por estado espec\u00edfico del usuario</li> <li><code>date</code>: Filtrar por fecha espec\u00edfica (YYYY-MM-DD)</li> <li><code>user_id</code>: Filtrar por ID de usuario espec\u00edfico</li> </ul>"},{"location":"data-consumption/user-states/#ejemplo-de-consulta","title":"Ejemplo de Consulta","text":"<pre><code>curl -X GET \"https://retenai-analytics-api-lgtxgindmq-tl.a.run.app/api/v1/kpis/users-states?date=2024-01-15&amp;kpi_value=core\" \\\n  -H \"X-API-Key: your_api_key\"\n</code></pre>"},{"location":"data-consumption/user-states/#casos-de-uso-comunes","title":"Casos de Uso Comunes","text":""},{"location":"data-consumption/user-states/#segmentacion-de-usuarios","title":"Segmentaci\u00f3n de Usuarios","text":"<pre><code># Obtener todos los usuarios core para campa\u00f1as de upselling\nparams = {'kpi_value': 'core', 'limit': 1000}\nresponse = requests.get(f'{API_BASE_URL}/api/v1/kpis/users-states', headers=headers, params=params)\ncore_users = response.json()\n</code></pre>"},{"location":"data-consumption/user-states/#monitoreo-de-churn","title":"Monitoreo de Churn","text":"<pre><code># Identificar usuarios en riesgo de churn\nparams = {'kpi_value': 'dormant', 'date': '2024-01-15'}\nresponse = requests.get(f'{API_BASE_URL}/api/v1/kpis/users-states', headers=headers, params=params)\ndormant_users = response.json()\n</code></pre>"},{"location":"data-consumption/user-states/#analisis-de-engagement","title":"An\u00e1lisis de Engagement","text":"<pre><code># Analizar distribuci\u00f3n de estados de usuario\nresponse = requests.get(f'{API_BASE_URL}/api/v1/kpis/users-states', headers=headers)\nall_states = response.json()\n\n# Contar usuarios por estado\nstate_counts = {}\nfor item in all_states['data']:\n    state = item['kpi_value']\n    state_counts[state] = state_counts.get(state, 0) + 1\n</code></pre>"},{"location":"data-loading/","title":"Carga de Datos","text":"<p>Esta secci\u00f3n contiene toda la informaci\u00f3n necesaria para cargar datos desde tu sistema hacia Reten. La carga de datos es el primer paso fundamental para implementar Reten en tu negocio.</p>"},{"location":"data-loading/#metodos-de-conexion","title":"M\u00e9todos de Conexi\u00f3n","text":"<p>Reten ofrece dos m\u00e9todos principales para cargar datos:</p> <p> Archivo </p> <p>Carga peri\u00f3dica de archivos CSV en bucket compartido para sincronizaci\u00f3n de datos.</p> <p> Base de Datos </p> <p>Consulta directa a base de datos expuesta por el cliente para acceso en tiempo real.</p>"},{"location":"data-loading/#tipos-de-datos","title":"Tipos de Datos","text":""},{"location":"data-loading/#datos-maestros","title":"Datos Maestros","text":"<p>Los datos maestros representan la informaci\u00f3n fundamental de tu negocio:</p> <p> Usuarios </p> <p>Informaci\u00f3n de usuarios, contactos y direcciones.</p> <p> Transacciones </p> <p>Compras realizadas por los usuarios</p> <p> Productos </p> <p>Cat\u00e1logo de productos y sus atributos</p> <p> Vendedores </p> <p>Equipo de ventas y fuerza comercial.</p> <p> Cupones </p> <p>Sistema de promociones y descuentos</p> <p> Eventos </p> <p>Acciones y actividades del sistema para an\u00e1lisis retrospectivo</p>"},{"location":"data-loading/#configuraciones","title":"Configuraciones","text":"<p>Las configuraciones definen c\u00f3mo funciona tu negocio en Reten:</p> <p> Asignaciones </p> <p>Relaciones entre vendedores y usuarios</p> <p> Rutas </p> <p>Programaci\u00f3n de visitas a usuarios</p>"},{"location":"data-loading/#flujo-de-implementacion","title":"Flujo de Implementaci\u00f3n","text":"<p>Para implementar la carga de datos en Reten, sigue estos pasos:</p> <p>1. Elige tu M\u00e9todo de Conexi\u00f3n</p> <ul> <li>Archivo: Ideal para sincronizaciones peri\u00f3dicas y sistemas legacy</li> <li>Base de Datos: Ideal para datos en tiempo real y sistemas modernos</li> </ul> <p>2. Prepara tus Datos Maestros</p> <ul> <li>Define tus Productos</li> <li>Registra tus Usuarios</li> <li>Informa tus Vendedores en caso de tener fuerza de venta</li> </ul> <p>3. Configura tu Sistema</p> <ul> <li>Define las Asignaciones entre vendedores y usuarios</li> <li>Configura las Rutas de visita</li> </ul> <p>4. Implementa la Sincronizaci\u00f3n</p> <ul> <li>Configura la frecuencia de sincronizaci\u00f3n seg\u00fan tu m\u00e9todo elegido</li> <li>Monitorea los logs y confirmaciones de carga</li> <li>Verifica que los datos se procesen correctamente</li> </ul>"},{"location":"data-loading/connection-methods/","title":"M\u00e9todos de Conexi\u00f3n","text":"<p>Los m\u00e9todos de conexi\u00f3n definen c\u00f3mo los clientes pueden sincronizar datos con la plataforma Reten. Elige el m\u00e9todo que mejor se adapte a tu infraestructura t\u00e9cnica.</p> <p> Archivo </p> <p>Carga de archivos CSV en bucket compartido para sincronizaci\u00f3n de datos</p> <p> Base de Datos </p> <p>Consulta directa a base de datos expuesta por el cliente</p>"},{"location":"data-loading/connection-methods/#caracteristicas-comunes","title":"Caracter\u00edsticas Comunes","text":"<p>Ambos m\u00e9todos de integraci\u00f3n comparten:</p> <ul> <li>Sincronizaci\u00f3n autom\u00e1tica de datos</li> <li>Validaci\u00f3n de integridad y formato</li> </ul>"},{"location":"data-loading/connection-methods/#convenciones-generales","title":"Convenciones Generales","text":"<ul> <li>Formato de datos est\u00e1ndar (CSV para archivos, SQL para BD)</li> <li>Codificaci\u00f3n UTF-8 para caracteres especiales</li> <li>Estructura de datos seg\u00fan la documentaci\u00f3n de cada entidad</li> <li>IDs \u00fanicos para cada entidad sincronizada</li> </ul>"},{"location":"data-loading/connection-methods/database/","title":"Integraci\u00f3n por Base de Datos","text":"<p>La integraci\u00f3n por base de datos permite a Reten consultar directamente los datos del cliente en tiempo real.</p>"},{"location":"data-loading/connection-methods/database/#descripcion-general","title":"Descripci\u00f3n General","text":"<p>Este m\u00e9todo de integraci\u00f3n funciona mediante:</p> <ol> <li>Exposici\u00f3n de BD: El cliente expone una base de datos con los datos a sincronizar</li> <li>Conexi\u00f3n segura: Reten se conecta usando credenciales seguras</li> <li>Consultas autom\u00e1ticas: Los datos se consultan autom\u00e1ticamente seg\u00fan la configuraci\u00f3n</li> </ol>"},{"location":"data-loading/connection-methods/database/#requisitos-de-infraestructura","title":"Requisitos de Infraestructura","text":""},{"location":"data-loading/connection-methods/database/#base-de-datos","title":"Base de Datos","text":"<ul> <li>Tipo: PostgreSQL, MySQL, SQL Server, Oracle</li> <li>Acceso: Desde internet con IPs de Reten permitidas</li> </ul>"},{"location":"data-loading/connection-methods/database/#seguridad","title":"Seguridad","text":"<ul> <li>Conexi\u00f3n: SSL/TLS recomendado</li> <li>Autenticaci\u00f3n: Usuario y contrase\u00f1a \u00fanicos para Reten</li> <li>Permisos: Solo lectura en tablas espec\u00edficas</li> </ul>"},{"location":"data-loading/connection-methods/database/#estructura-de-datos","title":"Estructura de Datos","text":"<p>El cliente debe crear tablas con la estructura especificada en la documentaci\u00f3n de cada entidad:</p> <ul> <li>Usuarios: Ver estructura en Datos Maestros &gt; Usuarios</li> <li>Productos: Ver estructura en Datos Maestros &gt; Productos</li> <li>Vendedores: Ver estructura en Datos Maestros &gt; Vendedores</li> <li>Transacciones: Ver estructura en Datos Maestros &gt; Transacciones</li> <li>Eventos: Ver estructura en Datos Maestros &gt; Eventos</li> </ul> <p>\ud83d\udca1 Ver todas las entidades de datos maestros: Datos Maestros</p>"},{"location":"data-loading/connection-methods/database/#configuraciones","title":"Configuraciones","text":"<ul> <li>Asignaciones: Ver estructura en Configuraciones &gt; Asignaciones</li> <li>Rutas: Ver estructura en Configuraciones &gt; Rutas</li> </ul> <p>\ud83d\udca1 Ver todas las configuraciones disponibles: Configuraciones</p>"},{"location":"data-loading/connection-methods/database/#campos-de-auditoria","title":"Campos de Auditor\u00eda","text":"<p>Todas las tablas deben incluir los campos de timestamp especificados en cada entidad:</p> <ul> <li><code>created_at</code>: Timestamp de creaci\u00f3n</li> <li><code>updated_at</code>: Timestamp de \u00faltima modificaci\u00f3n</li> </ul>"},{"location":"data-loading/connection-methods/database/#ejemplo-tabla-de-usuarios","title":"Ejemplo: Tabla de Usuarios","text":""},{"location":"data-loading/connection-methods/database/#create-table","title":"CREATE TABLE","text":"<pre><code>CREATE TABLE users (\n    user_id VARCHAR(255) PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    email VARCHAR(255),\n    phone VARCHAR(50),\n    address TEXT,\n    city VARCHAR(100),\n    country VARCHAR(100),\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n</code></pre>"},{"location":"data-loading/connection-methods/database/#consulta-de-sincronizacion","title":"Consulta de Sincronizaci\u00f3n","text":"<pre><code>-- Consultar solo usuarios modificados desde la \u00faltima sincronizaci\u00f3n\nSELECT * FROM users \nWHERE updated_at &gt; :last_sync_timestamp\nORDER BY updated_at ASC;\n</code></pre>"},{"location":"data-loading/connection-methods/database/#configuracion-de-conexion","title":"Configuraci\u00f3n de Conexi\u00f3n","text":""},{"location":"data-loading/connection-methods/database/#parametros-de-conexion","title":"Par\u00e1metros de Conexi\u00f3n","text":"<pre><code>{\n  \"host\": \"db.cliente.com\",\n  \"port\": 5432,\n  \"database\": \"reten_integration\",\n  \"username\": \"reten_user\",\n  \"password\": \"secure_password\"\n}\n</code></pre>"},{"location":"data-loading/connection-methods/database/#proceso-de-sincronizacion","title":"Proceso de Sincronizaci\u00f3n","text":""},{"location":"data-loading/connection-methods/database/#1-configuracion-inicial","title":"1. Configuraci\u00f3n Inicial","text":"<ul> <li>Crear tablas seg\u00fan la estructura de cada entidad</li> <li>Configurar permisos de acceso para Reten</li> <li>Proporcionar credenciales de conexi\u00f3n</li> </ul>"},{"location":"data-loading/connection-methods/database/#2-sincronizacion-automatica","title":"2. Sincronizaci\u00f3n Autom\u00e1tica","text":"<ul> <li>Reten se conecta autom\u00e1ticamente a la base de datos</li> <li>Los datos se sincronizan seg\u00fan la configuraci\u00f3n establecida</li> <li>No se requiere intervenci\u00f3n manual del cliente</li> </ul>"},{"location":"data-loading/connection-methods/database/#seguridad_1","title":"Seguridad","text":"<ul> <li>Acceso restringido: Solo Reten puede acceder a las tablas de integraci\u00f3n</li> <li>Credenciales \u00fanicas: Usuario espec\u00edfico para Reten con permisos limitados</li> <li>Logs de auditor\u00eda: Se registran todas las consultas realizadas</li> </ul>"},{"location":"data-loading/connection-methods/database/#proximos-pasos","title":"Pr\u00f3ximos Pasos","text":"<p>Para implementar este m\u00e9todo de integraci\u00f3n:</p> <ol> <li>Preparar infraestructura de base de datos</li> <li>Crear tablas seg\u00fan la estructura de cada entidad</li> <li>Configurar permisos de acceso para Reten</li> <li>Probar conectividad desde IPs de Reten</li> <li>Realizar pruebas con datos de ejemplo</li> </ol>"},{"location":"data-loading/connection-methods/file-based/","title":"Integraci\u00f3n por Archivo","text":"<p>La integraci\u00f3n por archivo permite sincronizar datos con Reten mediante la carga de archivos CSV en un bucket compartido.</p>"},{"location":"data-loading/connection-methods/file-based/#descripcion-general","title":"Descripci\u00f3n General","text":"<p>Este m\u00e9todo de integraci\u00f3n funciona mediante:</p> <ol> <li>Preparaci\u00f3n de archivos: El cliente genera archivos CSV con los datos a sincronizar</li> <li>Carga al bucket: Los archivos se suben al bucket proporcionado por Reten</li> <li>Procesamiento autom\u00e1tico: Reten detecta nuevos archivos y los procesa autom\u00e1ticamente</li> </ol>"},{"location":"data-loading/connection-methods/file-based/#estructura-de-archivos","title":"Estructura de Archivos","text":""},{"location":"data-loading/connection-methods/file-based/#formato-de-archivo","title":"Formato de Archivo","text":"<ul> <li>Formato: CSV</li> <li>Codificaci\u00f3n: UTF-8</li> <li>Separador: Punto y coma (;)</li> <li>Primera fila: Encabezados de columnas</li> </ul>"},{"location":"data-loading/connection-methods/file-based/#nomenclatura","title":"Nomenclatura","text":"<pre><code>{entity_type}_{timestamp}.csv\n</code></pre> <p>Formato de timestamp: <code>YYYYMMDD_HHMMSS</code> (a\u00f1o, mes, d\u00eda, hora, minuto, segundo)</p> <p>Ejemplos: - <code>users_20241201_143022.csv</code> - <code>products_20241201_143025.csv</code> - <code>assignments_20241201_143030.csv</code> - <code>routes_20241201_143032.csv</code></p> <p>\ud83d\udca1 Beneficios del timestamp: Facilita la trazabilidad, ordenamiento cronol\u00f3gico y auditor\u00eda de archivos sincronizados.</p>"},{"location":"data-loading/connection-methods/file-based/#configuracion-del-bucket","title":"Configuraci\u00f3n del Bucket","text":"<p>Reten proporciona un bucket compartido para cada cliente:</p> <ul> <li>Bucket: <code>reten-integration-{client_id}</code></li> <li>Acceso: Credenciales proporcionadas por Reten</li> <li>Permisos: Escritura para el cliente, lectura para Reten</li> </ul>"},{"location":"data-loading/connection-methods/file-based/#estructura-de-carpetas","title":"Estructura de Carpetas","text":"<pre><code>reten-integration-{client_id}/\n\u251c\u2500\u2500 users/\n\u251c\u2500\u2500 products/\n\u251c\u2500\u2500 sellers/\n\u251c\u2500\u2500 transactions/\n\u251c\u2500\u2500 assignments/\n\u2514\u2500\u2500 routes/\n</code></pre>"},{"location":"data-loading/connection-methods/file-based/#estructura-de-datos","title":"Estructura de Datos","text":"<p>Los archivos CSV deben contener las columnas especificadas en la documentaci\u00f3n de cada entidad:</p>"},{"location":"data-loading/connection-methods/file-based/#datos-maestros","title":"Datos Maestros","text":"<ul> <li>Usuarios: Ver estructura en Datos Maestros &gt; Usuarios</li> <li>Productos: Ver estructura en Datos Maestros &gt; Productos</li> <li>Vendedores: Ver estructura en Datos Maestros &gt; Vendedores</li> <li>Transacciones: Ver estructura en Datos Maestros &gt; Transacciones</li> <li>Eventos: Ver estructura en Datos Maestros &gt; Eventos</li> </ul> <p>\ud83d\udca1 Ver todas las entidades de datos maestros: Datos Maestros</p>"},{"location":"data-loading/connection-methods/file-based/#configuraciones","title":"Configuraciones","text":"<ul> <li>Asignaciones: Ver estructura en Configuraciones &gt; Asignaciones</li> <li>Rutas: Ver estructura en Configuraciones &gt; Rutas</li> </ul> <p>\ud83d\udca1 Ver todas las configuraciones disponibles: Configuraciones</p>"},{"location":"data-loading/connection-methods/file-based/#proceso-de-sincronizacion","title":"Proceso de Sincronizaci\u00f3n","text":""},{"location":"data-loading/connection-methods/file-based/#1-preparacion-de-datos","title":"1. Preparaci\u00f3n de Datos","text":"<p>Generar archivo CSV con los datos seg\u00fan la estructura de cada entidad.</p>"},{"location":"data-loading/connection-methods/file-based/#2-carga-del-archivo","title":"2. Carga del Archivo","text":"<ul> <li>Subir archivo CSV al bucket en la carpeta correspondiente</li> <li>El archivo ser\u00e1 procesado autom\u00e1ticamente por Reten</li> </ul>"},{"location":"data-loading/connection-methods/file-based/#seguridad","title":"Seguridad","text":"<ul> <li>Acceso restringido: Solo el cliente y Reten tienen acceso al bucket</li> <li>Credenciales \u00fanicas: Cada cliente recibe credenciales espec\u00edficas</li> <li>Logs de auditor\u00eda: Se registran todas las operaciones de archivo</li> </ul>"},{"location":"data-loading/connection-methods/file-based/#proximos-pasos","title":"Pr\u00f3ximos Pasos","text":"<p>Para implementar este m\u00e9todo de integraci\u00f3n:</p> <ol> <li>Solicitar credenciales del bucket al equipo de Reten</li> <li>Generar archivos CSV seg\u00fan la estructura de cada entidad</li> <li>Probar con datos de ejemplo antes de la implementaci\u00f3n completa</li> </ol>"},{"location":"data-loading/master-data/","title":"Datos Maestros","text":"<p>Los datos maestros representan la informaci\u00f3n fundamental y de referencia en el sistema Reten. Estas entidades constituyen el n\u00facleo de datos que es compartido y reutilizado a trav\u00e9s de los diferentes procesos y operaciones del negocio, asegurando consistencia y uniformidad en toda la plataforma.</p> <p> Usuarios </p> <p>Informaci\u00f3n de usuarios, contactos y direcciones.</p> <p> Transacciones </p> <p>Compras realizadas por los usuarios</p> <p> Productos </p> <p>Cat\u00e1logo de productos y sus atributos</p> <p> Vendedores </p> <p>Usuarios del sistema y sus permisos</p> <p> Cupones </p> <p>Sistema de promociones y descuentos</p> <p> Eventos </p> <p>Acciones y actividades del sistema para an\u00e1lisis retrospectivo</p>"},{"location":"data-loading/master-data/#caracteristicas-comunes","title":"Caracter\u00edsticas Comunes","text":"<p>Todas las entidades de datos maestros comparten:</p> <ul> <li>Identificaci\u00f3n mediante ID de cliente</li> <li>Trazabilidad temporal (fechas de creaci\u00f3n/actualizaci\u00f3n)</li> <li>Extensibilidad mediante atributos personalizados</li> </ul> <p>Para asegurar la consistencia en la documentaci\u00f3n y estructura de las entidades, se proporciona una plantilla que debe seguirse al crear nuevas entidades master-data.</p>"},{"location":"data-loading/master-data/#convenciones-generales","title":"Convenciones Generales","text":"<ul> <li>Campos en <code>snake_case</code></li> <li>Fechas en formato ISO 8601 (UTC)</li> <li>IDs descriptivos y \u00fanicos por entidad</li> <li>Campos requeridos marcados como <code>not null</code></li> <li>Referencias mediante IDs para mantener integridad referencial</li> </ul> <p>Para m\u00e1s detalles sobre cada entidad, consulta su documentaci\u00f3n espec\u00edfica en los enlaces proporcionados.</p>"},{"location":"data-loading/master-data/_template/","title":"[Nombre de la Entidad]","text":""},{"location":"data-loading/master-data/_template/#descripcion","title":"Descripci\u00f3n","text":"<p>[Descripci\u00f3n detallada de la entidad y su prop\u00f3sito]</p>"},{"location":"data-loading/master-data/_template/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  // Identificadores\n  \"entity_id\": \"string\",        // Identificador \u00fanico interno (not null)\n\n  // Informaci\u00f3n b\u00e1sica\n  \"name\": {\n    \"display_name\": \"string\",   // Nombre para mostrar (not null)\n    \"short_name\": \"string\",     // Nombre corto (opcional)\n    // ... otros campos de nombre seg\u00fan necesidad\n  },\n\n  // [Otros campos espec\u00edficos de la entidad]\n  // ...\n\n  // Atributos personalizados\n  \"attributes\": [{\n    \"key\": \"string\",           // Nombre del atributo\n    \"value\": \"string\",         // Valor del atributo\n    \"type\": \"string\"          // Tipo de valor (string, number, date, boolean)\n  }],\n\n  // Marcas temporales\n  \"created_at\": \"timestamp\",   // Fecha de creaci\u00f3n en sistema cliente (not null)\n  \"updated_at\": \"timestamp\"    // Fecha de \u00faltima actualizaci\u00f3n en sistema cliente\n}\n</code></pre>"},{"location":"data-loading/master-data/_template/#reglas-de-validacion","title":"Reglas de Validaci\u00f3n","text":"<ul> <li><code>entity_id</code>: Identificador \u00fanico, no puede ser nulo</li> <li><code>name.display_name</code>: Requerido, m\u00e1ximo 100 caracteres</li> <li><code>name.slug</code>: Requerido, solo letras min\u00fasculas, n\u00fameros y guiones</li> <li><code>name.description</code>: Opcional, m\u00e1ximo 500 caracteres</li> <li><code>attributes</code>: Array opcional de atributos personalizados</li> <li><code>created_at</code>: Requerido, formato ISO 8601</li> <li><code>updated_at</code>: Opcional, formato ISO 8601</li> </ul>"},{"location":"data-loading/master-data/_template/#ejemplos","title":"Ejemplos","text":""},{"location":"data-loading/master-data/_template/#ejemplo-basico","title":"Ejemplo B\u00e1sico","text":"<pre><code>{\n  \"entity_id\": \"ent_01H9RKX7NGT9PX1PJRW1MT2K5W\",\n  \"name\": {\n    \"display_name\": \"Ejemplo B\u00e1sico\",\n    \"slug\": \"ejemplo-basico\",\n    \"description\": \"Un ejemplo b\u00e1sico de la entidad\"\n  },\n  \"attributes\": [{\n    \"key\": \"color\",\n    \"value\": \"blue\",\n    \"type\": \"string\"\n  }],\n  \"created_at\": \"2023-08-01T14:30:00Z\",\n  \"updated_at\": \"2023-08-01T14:30:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/_template/#ejemplo-completo","title":"Ejemplo Completo","text":"<p>[Agregar un ejemplo m\u00e1s completo con todos los campos posibles]</p>"},{"location":"data-loading/master-data/_template/#notas-adicionales","title":"Notas Adicionales","text":"<p>[Cualquier informaci\u00f3n adicional relevante sobre la entidad]</p>"},{"location":"data-loading/master-data/_template/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-loading/master-data/_template/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n entity_id string S\u00ed Identificador \u00fanico en Reten"},{"location":"data-loading/master-data/_template/#informacion-basica","title":"Informaci\u00f3n B\u00e1sica","text":"<p>[Tabla con los campos b\u00e1sicos espec\u00edficos de la entidad]</p>"},{"location":"data-loading/master-data/_template/#estado","title":"Estado","text":"<p>[Descripci\u00f3n de los estados posibles y su significado]</p> <p>Estados V\u00e1lidos: - <code>active</code>: [Descripci\u00f3n] - <code>inactive</code>: [Descripci\u00f3n] - [Otros estados espec\u00edficos]</p>"},{"location":"data-loading/master-data/_template/#validaciones","title":"Validaciones","text":""},{"location":"data-loading/master-data/_template/#validaciones-generales","title":"Validaciones Generales","text":""},{"location":"data-loading/master-data/_template/#identificadores_1","title":"Identificadores","text":"<ul> <li><code>entity_id</code> debe ser \u00fanico en todo el sistema</li> </ul>"},{"location":"data-loading/master-data/_template/#fechas","title":"Fechas","text":"<ul> <li><code>created_at</code> no puede ser posterior a <code>updated_at</code></li> <li>Todas las fechas deben ser v\u00e1lidas y en formato ISO 8601</li> </ul>"},{"location":"data-loading/master-data/_template/#atributos","title":"Atributos","text":"<ul> <li>Las claves de atributos deben ser \u00fanicas por entidad</li> <li>Los valores deben corresponder al tipo especificado</li> </ul>"},{"location":"data-loading/master-data/_template/#validaciones-de-negocio","title":"Validaciones de Negocio","text":"<p>[Validaciones espec\u00edficas del dominio de la entidad]</p>"},{"location":"data-loading/master-data/_template/#ejemplos-de-uso","title":"Ejemplos de Uso","text":""},{"location":"data-loading/master-data/_template/#ejemplo-basico_1","title":"Ejemplo B\u00e1sico","text":"<pre><code>{\n  \"entity_id\": \"EX_001\",\n  \"name\": {\n    \"display_name\": \"Ejemplo B\u00e1sico\",\n    \"slug\": \"ejemplo-basico\",\n    \"description\": \"Un ejemplo b\u00e1sico de la entidad\"\n  },\n  \"status\": \"active\",\n  \"created_at\": \"2024-03-19T10:00:00Z\",\n  \"updated_at\": \"2024-03-19T10:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/_template/#ejemplo-con-atributos","title":"Ejemplo con Atributos","text":"<pre><code>{\n  \"entity_id\": \"EX_002\",\n  \"name\": {\n    \"display_name\": \"Ejemplo con Atributos\",\n    \"slug\": \"ejemplo-con-atributos\",\n    \"description\": \"Un ejemplo con atributos personalizados\"\n  },\n  \"status\": \"active\",\n  \"attributes\": [{\n    \"key\": \"color\",\n    \"value\": \"blue\"\n  }],\n  \"created_at\": \"2024-03-19T10:00:00Z\",\n  \"updated_at\": \"2024-03-19T10:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/_template/#notas-de-implementacion","title":"Notas de Implementaci\u00f3n","text":""},{"location":"data-loading/master-data/_template/#gestion-de-estado","title":"Gesti\u00f3n de Estado","text":""},{"location":"data-loading/master-data/_template/#actualizaciones","title":"Actualizaciones","text":"<ul> <li>Los estados se validan antes de actualizar</li> <li>Se mantiene historial de cambios</li> <li>Se notifican cambios relevantes</li> </ul>"},{"location":"data-loading/master-data/_template/#gestion-de-cambios","title":"Gesti\u00f3n de Cambios","text":""},{"location":"data-loading/master-data/_template/#actualizacion-de-datos","title":"Actualizaci\u00f3n de Datos","text":"<ul> <li>Mantener historial de cambios importantes</li> <li>Manejar actualizaciones concurrentes</li> </ul>"},{"location":"data-loading/master-data/_template/#sincronizacion","title":"Sincronizaci\u00f3n","text":"<ul> <li>Propagaci\u00f3n de cambios a sistemas integrados</li> <li>Manejo de conflictos</li> <li>Mecanismos de retry</li> </ul>"},{"location":"data-loading/master-data/_template/#consideraciones-de-seguridad","title":"Consideraciones de Seguridad","text":""},{"location":"data-loading/master-data/_template/#proteccion-de-datos","title":"Protecci\u00f3n de Datos","text":"<ul> <li>Encriptaci\u00f3n de datos sensibles</li> <li>Auditor\u00eda de accesos</li> <li>Protecci\u00f3n contra ataques</li> </ul>"},{"location":"data-loading/master-data/_template/#compliance","title":"Compliance","text":"<ul> <li>GDPR y normativas locales</li> <li>Retenci\u00f3n de datos</li> <li>Privacidad por dise\u00f1o</li> </ul>"},{"location":"data-loading/master-data/_template/#integracion-con-otros-sistemas","title":"Integraci\u00f3n con Otros Sistemas","text":""},{"location":"data-loading/master-data/_template/#apis","title":"APIs","text":""},{"location":"data-loading/master-data/_template/#endpoints-principales","title":"Endpoints Principales","text":"<pre><code>GET    /api/v1/[entities]/{entity_id}\nPOST   /api/v1/[entities]\nPUT    /api/v1/[entities]/{entity_id}\nPATCH  /api/v1/[entities]/{entity_id}\nDELETE /api/v1/[entities]/{entity_id}\n</code></pre>"},{"location":"data-loading/master-data/_template/#webhooks","title":"Webhooks","text":""},{"location":"data-loading/master-data/_template/#eventos-disponibles","title":"Eventos Disponibles","text":"<ul> <li><code>[entity].created</code></li> <li><code>[entity].updated</code></li> <li><code>[entity].deleted</code></li> <li><code>[entity].status_changed</code></li> </ul>"},{"location":"data-loading/master-data/_template/#formato-de-payload","title":"Formato de Payload","text":"<pre><code>{\n  \"event\": \"[entity].updated\",\n  \"timestamp\": \"2024-03-19T14:30:00Z\",\n  \"data\": {\n    \"entity_id\": \"string\",\n    \"changes\": [{\n      \"field\": \"string\",\n      \"old_value\": \"any\",\n      \"new_value\": \"any\"\n    }]\n  }\n}\n</code></pre>"},{"location":"data-loading/master-data/_template/#preguntas-frecuentes","title":"Preguntas Frecuentes","text":"<p>\u00bfC\u00f3mo manejar cambios en los atributos personalizados? - Los atributos pueden agregarse o modificarse en cualquier momento - El tipo de un atributo no debe cambiar una vez definido - Se debe mantener un registro de los cambios en atributos</p> <p>\u00bfC\u00f3mo gestionar relaciones con otras entidades? - Usar IDs para referencias - Mantener integridad referencial - Documentar dependencias</p> <p>\u00bfC\u00f3mo manejar versionamiento? - Cambios mayores requieren nueva versi\u00f3n - Mantener compatibilidad hacia atr\u00e1s - Documentar cambios en el esquema </p>"},{"location":"data-loading/master-data/category/","title":"Categor\u00edas","text":"<p>Las categor\u00edas permiten organizar y clasificar productos de manera jer\u00e1rquica en la plataforma Reten. Esta entidad maneja la estructura de navegaci\u00f3n, filtrado y agrupaci\u00f3n de productos.</p>"},{"location":"data-loading/master-data/category/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  // Identificadores\n  \"category_id\": \"string\",      // Identificador \u00fanico de la categor\u00eda (not null)\n  \"parent_id\": \"string\",        // ID de la categor\u00eda padre (null si es ra\u00edz)\n\n  // Informaci\u00f3n b\u00e1sica\n  \"name\": {\n    \"display_name\": \"string\",   // Nombre para mostrar (not null)\n    \"slug\": \"string\",          // URL amigable (not null)\n    \"description\": \"string\"    // Descripci\u00f3n de la categor\u00eda\n  },\n\n  // Metadatos\n  \"metadata\": {\n    \"level\": \"number\",         // Nivel en la jerarqu\u00eda (0 para ra\u00edz)\n    \"path\": [\"string\"],        // Array de IDs desde la ra\u00edz hasta esta categor\u00eda\n    \"is_leaf\": \"boolean\",      // Indica si es una categor\u00eda final\n    \"has_products\": \"boolean\", // Indica si tiene productos asociados\n    \"position\": \"number\",      // Posici\u00f3n para ordenamiento manual\n    \"tags\": [\"string\"]         // Tags para b\u00fasqueda alternativa\n  },\n\n  // SEO\n  \"seo\": {\n    \"title\": \"string\",         // T\u00edtulo para SEO\n    \"description\": \"string\",   // Descripci\u00f3n para SEO\n    \"keywords\": [\"string\"],    // Palabras clave\n    \"canonical_url\": \"string\"  // URL can\u00f3nica\n  },\n\n  // Atributos personalizados\n  \"attributes\": [{\n    \"key\": \"string\",\n    \"value\": \"string\",\n    \"type\": \"string\"          // Tipo de valor (string, number, date, boolean)\n  }],\n\n  // Marcas temporales\n  \"created_at\": \"timestamp\",   // Fecha de creaci\u00f3n (not null)\n  \"updated_at\": \"timestamp\"    // \u00daltima actualizaci\u00f3n (not null)\n}\n</code></pre>"},{"location":"data-loading/master-data/category/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-loading/master-data/category/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n category_id string S\u00ed Identificador \u00fanico parent_id string No ID de la categor\u00eda padre"},{"location":"data-loading/master-data/category/#nombre","title":"Nombre","text":"Campo Tipo Requerido Descripci\u00f3n display_name string S\u00ed Nombre para mostrar slug string S\u00ed URL amigable description string No Descripci\u00f3n de la categor\u00eda"},{"location":"data-loading/master-data/category/#metadatos","title":"Metadatos","text":"Campo Tipo Requerido Descripci\u00f3n level number S\u00ed Nivel en la jerarqu\u00eda path array S\u00ed Ruta desde la ra\u00edz is_leaf boolean S\u00ed Es categor\u00eda final has_products boolean S\u00ed Tiene productos position number No Posici\u00f3n de ordenamiento tags array No Tags para b\u00fasqueda alternativa"},{"location":"data-loading/master-data/category/#validaciones","title":"Validaciones","text":""},{"location":"data-loading/master-data/category/#validaciones-generales","title":"Validaciones Generales","text":""},{"location":"data-loading/master-data/category/#identificadores_1","title":"Identificadores","text":"<ul> <li><code>category_id</code> debe ser \u00fanico</li> <li><code>parent_id</code> debe existir si no es categor\u00eda ra\u00edz</li> <li><code>slug</code> debe ser \u00fanico dentro del mismo nivel</li> </ul>"},{"location":"data-loading/master-data/category/#jerarquia","title":"Jerarqu\u00eda","text":"<ul> <li>No se permiten ciclos en la estructura</li> <li>M\u00e1ximo 5 niveles de profundidad</li> <li>Una categor\u00eda no puede ser su propio ancestro</li> </ul>"},{"location":"data-loading/master-data/category/#metadatos_1","title":"Metadatos","text":"<ul> <li><code>level</code> debe ser consistente con la posici\u00f3n en la jerarqu\u00eda</li> <li><code>path</code> debe incluir todos los ancestros en orden</li> <li><code>position</code> debe ser \u00fanico dentro del mismo nivel y padre</li> </ul>"},{"location":"data-loading/master-data/category/#validaciones-de-negocio","title":"Validaciones de Negocio","text":""},{"location":"data-loading/master-data/category/#visibilidad","title":"Visibilidad","text":"<ul> <li>Categor\u00edas padres visibles si tienen hijos visibles</li> <li>Categor\u00edas con productos deben ser visibles</li> <li>Categor\u00edas ocultas no aparecen en navegaci\u00f3n</li> </ul>"},{"location":"data-loading/master-data/category/#seo","title":"SEO","text":"<ul> <li>URLs amigables sin caracteres especiales</li> <li>T\u00edtulos y descripciones con longitud adecuada</li> <li>Keywords relevantes y no duplicados</li> </ul>"},{"location":"data-loading/master-data/category/#tags","title":"Tags","text":"<ul> <li>Sin caracteres especiales</li> <li>Longitud m\u00e1xima de 50 caracteres por tag</li> <li>M\u00e1ximo 20 tags por categor\u00eda</li> <li>No duplicados dentro de la misma categor\u00eda</li> </ul>"},{"location":"data-loading/master-data/category/#ejemplos","title":"Ejemplos","text":""},{"location":"data-loading/master-data/category/#categoria-raiz","title":"Categor\u00eda Ra\u00edz","text":"<pre><code>{\n  \"category_id\": \"CAT_001\",\n  \"parent_id\": null,\n  \"name\": {\n    \"display_name\": \"Pinturas\",\n    \"slug\": \"pinturas\",\n    \"description\": \"Todo tipo de pinturas y recubrimientos\"\n  },\n  \"metadata\": {\n    \"level\": 0,\n    \"path\": [\"CAT_001\"],\n    \"is_leaf\": false,\n    \"has_products\": false,\n    \"position\": 1,\n    \"tags\": [\"pintura\", \"recubrimiento\", \"acabados\", \"decoraci\u00f3n\"]\n  },\n  \"seo\": {\n    \"title\": \"Pinturas y Recubrimientos | Reten\",\n    \"description\": \"Encuentra todo tipo de pinturas y recubrimientos para tus proyectos\",\n    \"keywords\": [\"pinturas\", \"recubrimientos\", \"pintura interior\", \"pintura exterior\"],\n    \"canonical_url\": \"https://reten.app/categorias/pinturas\"\n  }\n}\n</code></pre>"},{"location":"data-loading/master-data/category/#categoria-hija","title":"Categor\u00eda Hija","text":"<pre><code>{\n  \"category_id\": \"CAT_002\",\n  \"parent_id\": \"CAT_001\",\n  \"name\": {\n    \"display_name\": \"Pinturas L\u00e1tex\",\n    \"slug\": \"pinturas-latex\",\n    \"description\": \"Pinturas l\u00e1tex para interiores y exteriores\"\n  },\n  \"metadata\": {\n    \"level\": 1,\n    \"path\": [\"CAT_001\", \"CAT_002\"],\n    \"is_leaf\": true,\n    \"has_products\": true,\n    \"position\": 1,\n    \"tags\": [\"latex\", \"pintura agua\", \"lavable\", \"mate\", \"satinado\"]\n  },\n  \"seo\": {\n    \"title\": \"Pinturas L\u00e1tex Interior y Exterior | Reten\",\n    \"description\": \"Amplia selecci\u00f3n de pinturas l\u00e1tex para interiores y exteriores\",\n    \"keywords\": [\"pintura l\u00e1tex\", \"l\u00e1tex interior\", \"l\u00e1tex exterior\"],\n    \"canonical_url\": \"https://reten.app/categorias/pinturas/pinturas-latex\"\n  }\n}\n</code></pre>"},{"location":"data-loading/master-data/coupon/","title":"Cupones","text":"<p>Los cupones representan los descuentos y promociones que pueden ser aplicados a las \u00f3rdenes en la plataforma Reten. Esta entidad almacena toda la informaci\u00f3n relevante sobre las condiciones, restricciones y beneficios de cada cup\u00f3n.</p>"},{"location":"data-loading/master-data/coupon/#estructura-de-datos","title":"Estructura de Datos","text":"<p>La estructura de cupones est\u00e1 dise\u00f1ada para ser simple y flexible, con campos b\u00e1sicos requeridos y campos adicionales opcionales seg\u00fan las necesidades del negocio.</p>"},{"location":"data-loading/master-data/coupon/#estructura-simplificada","title":"Estructura Simplificada","text":"<pre><code>{\n  // === CAMPOS B\u00c1SICOS (REQUERIDOS) ===\n  \"coupon_id\": \"string\",           // Identificador \u00fanico del cup\u00f3n\n  \"code\": \"string\",                // C\u00f3digo del cup\u00f3n para uso del cliente\n  \"name\": \"string\",                // Nombre para mostrar\n  \"type\": \"string\",                // Tipo de beneficio (percentage, fixed_amount, free_shipping)\n  \"discount_value\": \"number\",      // Valor del descuento\n  \"is_active\": \"boolean\",          // Estado activo del cup\u00f3n\n  \"start_date\": \"timestamp\",       // Fecha de inicio de vigencia\n  \"end_date\": \"timestamp\",         // Fecha de t\u00e9rmino de vigencia\n  \"created_at\": \"timestamp\",       // Fecha de creaci\u00f3n\n  \"updated_at\": \"timestamp\",       // \u00daltima actualizaci\u00f3n\n\n  // === CAMPOS OPCIONALES (SEG\u00daN NECESIDAD) ===\n  \"description\": \"string\",         // Descripci\u00f3n del cup\u00f3n\n  \"minimum_purchase\": \"number\",    // Monto m\u00ednimo de compra requerido\n  \"max_uses\": \"number\",            // N\u00famero m\u00e1ximo de usos totales\n  \"uses_per_user\": \"number\",       // N\u00famero m\u00e1ximo de usos por usuario\n\n  // === ATRIBUTOS PERSONALIZADOS ===\n  \"attributes\": [\n    {\n      \"key\": \"string\",        // Nombre del atributo personalizado\n      \"value\": \"string\",      // Valor del atributo\n      \"type\": \"string\"        // Tipo de dato: string, number, date, boolean\n    }\n  ],\n\n  // === MARCAS TEMPORALES DE SINCRONIZACI\u00d3N ===\n  \"_created_at\": \"timestamp\",    // Fecha de creaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten\n  \"_updated_at\": \"timestamp\"     // Fecha de \u00faltima actualizaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten\n}\n</code></pre>"},{"location":"data-loading/master-data/coupon/#ejemplos-de-implementacion-flexible","title":"Ejemplos de Implementaci\u00f3n Flexible","text":""},{"location":"data-loading/master-data/coupon/#implementacion-basica-solo-campos-requeridos","title":"\ud83d\udfe2 Implementaci\u00f3n B\u00e1sica (Solo Campos Requeridos)","text":"<p>Cupones b\u00e1sicos y funcionalidad esencial.</p> <pre><code>{\n  \"coupon_id\": \"caf3b866-1179-48e9-8d87-8cf16e908a43\",\n  \"code\": \"WELCOME20\",\n  \"name\": \"20% de Descuento Bienvenida\",\n  \"type\": \"percentage\",\n  \"discount_value\": 20,\n  \"is_active\": true,\n  \"start_date\": \"2024-01-01T00:00:00Z\",\n  \"end_date\": \"2024-12-31T23:59:59Z\",\n  \"created_at\": \"2024-01-01T00:00:00Z\",\n  \"updated_at\": \"2024-01-01T00:00:00Z\",\n  \"_created_at\": \"2024-01-01T00:00:00Z\",\n  \"_updated_at\": \"2024-01-01T00:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/coupon/#implementacion-con-campos-opcionales","title":"\ud83d\udfe1 Implementaci\u00f3n con Campos Opcionales","text":"<p>Agregando campos adicionales seg\u00fan las necesidades del negocio.</p> <pre><code>{\n  \"coupon_id\": \"COUPON_002\",\n  \"code\": \"FREESHIP\",\n  \"name\": \"Env\u00edo Gratis\",\n  \"type\": \"free_shipping\",\n  \"discount_value\": 0,\n  \"is_active\": true,\n  \"start_date\": \"2024-01-01T00:00:00Z\",\n  \"end_date\": \"2024-12-31T23:59:59Z\",\n  \"created_at\": \"2024-01-01T00:00:00Z\",\n  \"updated_at\": \"2024-01-01T00:00:00Z\",\n  \"description\": \"Env\u00edo gratis en pedidos superiores a $30.000\",\n  \"minimum_purchase\": 30000,\n  \"max_uses\": 1000,\n  \"uses_per_user\": 1,\n  \"attributes\": [\n    {\n      \"key\": \"campaign_id\",\n      \"value\": \"FREESHIP2024\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"target_audience\",\n      \"value\": \"all_customers\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"redemption_channel\",\n      \"value\": \"online_only\",\n      \"type\": \"string\"\n    }\n  ],\n  \"_created_at\": \"2024-01-01T00:00:00Z\",\n  \"_updated_at\": \"2024-01-01T00:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/coupon/#implementacion-con-atributos-personalizados-avanzados","title":"\ud83d\udd34 Implementaci\u00f3n con Atributos Personalizados Avanzados","text":"<p>Para cupones empresariales con atributos personalizados extensos y metadata rica.</p> <pre><code>{\n  \"coupon_id\": \"COUPON_003\",\n  \"code\": \"PREMIUM25\",\n  \"name\": \"25% Premium\",\n  \"type\": \"percentage\",\n  \"discount_value\": 25,\n  \"is_active\": true,\n  \"start_date\": \"2024-01-01T00:00:00Z\",\n  \"end_date\": \"2024-12-31T23:59:59Z\",\n  \"created_at\": \"2024-01-01T00:00:00Z\",\n  \"updated_at\": \"2024-01-01T00:00:00Z\",\n  \"description\": \"Descuento exclusivo para clientes premium\",\n  \"minimum_purchase\": 50000,\n  \"max_uses\": 500,\n  \"uses_per_user\": 2,\n  \"attributes\": [\n    {\n      \"key\": \"campaign_id\",\n      \"value\": \"PREMIUM_Q1_2024\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"target_audience\",\n      \"value\": \"premium_customers\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"customer_segments\",\n      \"value\": \"VIP,GOLD\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"redemption_channel\",\n      \"value\": \"all_channels\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"marketing_budget\",\n      \"value\": \"50000\",\n      \"type\": \"number\"\n    },\n    {\n      \"key\": \"expected_roi\",\n      \"value\": \"3.5\",\n      \"type\": \"number\"\n    },\n    {\n      \"key\": \"is_seasonal\",\n      \"value\": \"false\",\n      \"type\": \"boolean\"\n    },\n    {\n      \"key\": \"campaign_start_date\",\n      \"value\": \"2024-01-15\",\n      \"type\": \"date\"\n    },\n    {\n      \"key\": \"campaign_end_date\",\n      \"value\": \"2024-03-31\",\n      \"type\": \"date\"\n    }\n  ],\n  \"_created_at\": \"2024-01-01T00:00:00Z\",\n  \"_updated_at\": \"2024-01-01T00:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/coupon/#tipos-de-beneficio","title":"Tipos de Beneficio","text":"<p>Los tipos de beneficio disponibles son:</p> <ul> <li><code>percentage</code>: Descuento porcentual sobre el monto</li> <li><code>fixed_amount</code>: Descuento de monto fijo</li> <li><code>free_shipping</code>: Env\u00edo gratis</li> <li><code>fixed_price</code>: Precio fijo especial</li> </ul>"},{"location":"data-loading/master-data/coupon/#atributos-personalizados","title":"Atributos Personalizados","text":"<p>Importante: El campo <code>attributes</code> NO es enviado por el cliente. Reten lo construye autom\u00e1ticamente durante el proceso de carga de datos, extrayendo todas las columnas adicionales que vengan en la base de datos o archivo CSV y que no est\u00e9n definidas en el modelo est\u00e1ndar de cupones.</p>"},{"location":"data-loading/master-data/coupon/#como-funciona","title":"C\u00f3mo Funciona:","text":"<ol> <li>Cliente env\u00eda datos con columnas adicionales (ej: <code>campaign_id</code>, <code>target_audience</code>, <code>redemption_channel</code>)</li> <li>Reten detecta autom\u00e1ticamente las columnas no mapeadas al modelo</li> <li>Reten construye el campo <code>attributes</code> con estas columnas adicionales</li> <li>Se almacena como array de objetos con <code>key</code>, <code>value</code> y <code>type</code> inferido</li> </ol>"},{"location":"data-loading/master-data/coupon/#casos-de-uso-comunes","title":"Casos de Uso Comunes:","text":"<ul> <li>Campos espec\u00edficos de campa\u00f1a: Informaci\u00f3n particular de cada promoci\u00f3n</li> <li>Metadatos de integraci\u00f3n: Datos del sistema origen que no tienen equivalente en Reten</li> <li>Atributos de negocio: Campos espec\u00edficos de la estrategia de marketing</li> <li>Configuraciones personalizadas: Par\u00e1metros \u00fanicos de cada cup\u00f3n</li> </ul>"},{"location":"data-loading/master-data/coupon/#formato-del-campo-construido-por-reten","title":"Formato del Campo (Construido por Reten):","text":"<pre><code>\"attributes\": [\n  {\n    \"key\": \"campaign_id\",\n    \"value\": \"SUMMER2024\",\n    \"type\": \"string\"\n  },\n  {\n    \"key\": \"target_audience\",\n    \"value\": \"new_customers\",\n    \"type\": \"string\"\n  },\n  {\n    \"key\": \"redemption_channel\",\n    \"value\": \"online_only\",\n    \"type\": \"string\"\n  }\n]\n</code></pre>"},{"location":"data-loading/master-data/coupon/#tipos-de-datos-soportados","title":"Tipos de Datos Soportados:","text":"<ul> <li><code>string</code>: Texto libre</li> <li><code>number</code>: N\u00fameros enteros o decimales</li> <li><code>date</code>: Fechas en formato ISO 8601</li> <li><code>boolean</code>: Valores true/false</li> </ul>"},{"location":"data-loading/master-data/coupon/#ventajas","title":"Ventajas:","text":"<ul> <li>Flexibilidad total para adaptarse a cualquier modelo de datos</li> <li>Extensibilidad sin modificar el esquema principal</li> <li>Compatibilidad con sistemas legacy o personalizados</li> <li>Escalabilidad para futuras necesidades del negocio</li> <li>Procesamiento autom\u00e1tico sin intervenci\u00f3n del cliente</li> </ul>"},{"location":"data-loading/master-data/coupon/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-loading/master-data/coupon/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n coupon_id string S\u00ed Identificador \u00fanico del cup\u00f3n code string S\u00ed C\u00f3digo para redenci\u00f3n del cup\u00f3n"},{"location":"data-loading/master-data/coupon/#informacion-basica","title":"Informaci\u00f3n B\u00e1sica","text":"Campo Tipo Requerido Descripci\u00f3n display_name string S\u00ed Nombre para mostrar description string No Descripci\u00f3n del cup\u00f3n <p>Estados V\u00e1lidos del Cup\u00f3n:</p> <ul> <li><code>active</code>: Cup\u00f3n activo y disponible</li> <li><code>inactive</code>: Cup\u00f3n temporalmente desactivado</li> <li><code>expired</code>: Cup\u00f3n expirado</li> <li><code>depleted</code>: Cup\u00f3n sin usos disponibles</li> </ul>"},{"location":"data-loading/master-data/coupon/#beneficios","title":"Beneficios","text":"Campo Tipo Descripci\u00f3n type string Tipo de beneficio discount_value number Valor del descuento minimum_purchase number Monto m\u00ednimo de compra requerido"},{"location":"data-loading/master-data/coupon/#atributos-personalizados_1","title":"Atributos Personalizados","text":"Campo Tipo Requerido Descripci\u00f3n attributes array No Lista de atributos personalizados"},{"location":"data-loading/master-data/coupon/#marcas-temporales-de-sincronizacion","title":"Marcas Temporales de Sincronizaci\u00f3n","text":"Campo Tipo Requerido Descripci\u00f3n _created_at timestamp S\u00ed Fecha de creaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten _updated_at timestamp S\u00ed Fecha de \u00faltima actualizaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten <p>Tipos de Beneficio:</p> <ul> <li><code>percentage</code>: Descuento porcentual</li> <li><code>fixed_amount</code>: Descuento de monto fijo</li> <li><code>free_shipping</code>: Env\u00edo gratis</li> <li><code>fixed_price</code>: Precio fijo especial</li> </ul>"},{"location":"data-loading/master-data/coupon/#validaciones","title":"Validaciones","text":""},{"location":"data-loading/master-data/coupon/#validaciones-de-campos-requeridos","title":"Validaciones de Campos Requeridos","text":""},{"location":"data-loading/master-data/coupon/#identificadores_1","title":"Identificadores","text":"<ul> <li><code>coupon_id</code> debe ser \u00fanico en todo el sistema</li> <li><code>code</code> debe ser \u00fanico y alfanum\u00e9rico</li> <li><code>code</code> debe ser f\u00e1cil de recordar y usar</li> </ul>"},{"location":"data-loading/master-data/coupon/#beneficios_1","title":"Beneficios","text":"<ul> <li><code>type</code> debe ser uno de los valores v\u00e1lidos: <code>percentage</code>, <code>fixed_amount</code>, <code>free_shipping</code>, <code>fixed_price</code></li> <li><code>discount_value</code> debe ser un n\u00famero v\u00e1lido</li> <li>Para <code>free_shipping</code>, <code>discount_value</code> debe ser 0</li> </ul>"},{"location":"data-loading/master-data/coupon/#vigencia","title":"Vigencia","text":"<ul> <li><code>start_date</code> debe ser anterior a <code>end_date</code></li> <li>Fechas deben estar en formato ISO 8601</li> <li>Zona horaria debe ser v\u00e1lida</li> </ul>"},{"location":"data-loading/master-data/coupon/#estado","title":"Estado","text":"<ul> <li><code>is_active</code> debe ser un valor booleano v\u00e1lido</li> </ul>"},{"location":"data-loading/master-data/coupon/#validaciones-de-campos-opcionales","title":"Validaciones de Campos Opcionales","text":""},{"location":"data-loading/master-data/coupon/#limites-de-uso","title":"L\u00edmites de Uso","text":"<ul> <li><code>max_uses</code> debe ser mayor a cero si est\u00e1 presente</li> <li><code>uses_per_user</code> debe ser mayor a cero si est\u00e1 presente</li> <li><code>uses_per_user</code> debe ser menor o igual a <code>max_uses</code> si ambos est\u00e1n presentes</li> </ul>"},{"location":"data-loading/master-data/coupon/#compra-minima","title":"Compra M\u00ednima","text":"<ul> <li><code>minimum_purchase</code> debe ser mayor a cero si est\u00e1 presente</li> </ul>"},{"location":"data-loading/master-data/coupon/#validaciones-de-atributos-personalizados","title":"Validaciones de Atributos Personalizados","text":""},{"location":"data-loading/master-data/coupon/#estructura-general","title":"Estructura General","text":"<ul> <li>Las claves de atributos deben ser \u00fanicas por cup\u00f3n</li> <li>Los valores deben corresponder al tipo esperado</li> <li>El campo <code>attributes</code> es construido autom\u00e1ticamente por Reten</li> </ul>"},{"location":"data-loading/master-data/coupon/#tipos-de-datos","title":"Tipos de Datos","text":"<ul> <li><code>string</code>: Texto libre sin restricciones de longitud</li> <li><code>number</code>: N\u00fameros enteros o decimales v\u00e1lidos</li> <li><code>date</code>: Fechas en formato ISO 8601 v\u00e1lido</li> <li><code>boolean</code>: Valores true/false \u00fanicamente</li> </ul>"},{"location":"data-loading/master-data/coupon/#compatibilidad-con-implementaciones-existentes","title":"Compatibilidad con Implementaciones Existentes","text":"<p>Esta estructura simplificada es compatible con implementaciones existentes como NIU MX, que utiliza solo los campos b\u00e1sicos requeridos: - <code>coupon_id</code>, <code>code</code>, <code>name</code>, <code>type</code>, <code>discount_value</code> - <code>start_date</code>, <code>end_date</code>, <code>is_active</code> - <code>created_at</code>, <code>updated_at</code></p> <p>Los campos adicionales son completamente opcionales y se pueden implementar seg\u00fan las necesidades del negocio, sin afectar la funcionalidad b\u00e1sica.</p>"},{"location":"data-loading/master-data/coupon/#ejemplos-de-uso","title":"Ejemplos de Uso","text":""},{"location":"data-loading/master-data/coupon/#cupon-de-descuento-porcentual-nivel-intermedio","title":"Cup\u00f3n de Descuento Porcentual (Nivel Intermedio)","text":"<pre><code>{\n  \"coupon_id\": \"COUPON_001\",\n  \"code\": \"WELCOME20\",\n  \"name\": \"20% de Descuento Bienvenida\",\n  \"description\": \"Descuento de bienvenida para nuevos clientes\",\n  \"type\": \"percentage\",\n  \"discount_value\": 20,\n  \"minimum_purchase\": 20000,\n  \"is_active\": true,\n  \"start_date\": \"2024-03-01T00:00:00Z\",\n  \"end_date\": \"2024-12-31T23:59:59Z\",\n  \"max_uses\": 1000,\n  \"uses_per_user\": 1,\n  \"created_at\": \"2024-03-01T00:00:00Z\",\n  \"updated_at\": \"2024-03-01T00:00:00Z\",\n  \"attributes\": [\n    {\n      \"key\": \"target_audience\",\n      \"value\": \"new_customers\",\n      \"type\": \"string\"\n    }\n  ],\n  \"_created_at\": \"2024-03-01T00:00:00Z\",\n  \"_updated_at\": \"2024-03-01T00:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/coupon/#cupon-de-envio-gratis-nivel-intermedio","title":"Cup\u00f3n de Env\u00edo Gratis (Nivel Intermedio)","text":"<pre><code>{\n  \"coupon_id\": \"COUPON_002\",\n  \"code\": \"FREESHIP\",\n  \"name\": \"Env\u00edo Gratis en tu Primera Compra\",\n  \"description\": \"Env\u00edo gratis en pedidos superiores a $30.000\",\n  \"type\": \"free_shipping\",\n  \"discount_value\": 0,\n  \"minimum_purchase\": 30000,\n  \"is_active\": true,\n  \"start_date\": \"2024-01-01T00:00:00Z\",\n  \"end_date\": \"2024-12-31T23:59:59Z\",\n  \"max_uses\": 1000,\n  \"uses_per_user\": 1,\n  \"created_at\": \"2024-01-01T00:00:00Z\",\n  \"updated_at\": \"2024-01-01T00:00:00Z\",\n  \"attributes\": [\n    {\n      \"key\": \"redemption_type\",\n      \"value\": \"first_purchase\",\n      \"type\": \"string\"\n    }\n  ],\n  \"_created_at\": \"2024-01-01T00:00:00Z\",\n  \"_updated_at\": \"2024-01-01T00:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/coupon/#cupon-para-productos-especificos-nivel-avanzado","title":"Cup\u00f3n para Productos Espec\u00edficos (Nivel Avanzado)","text":"<pre><code>{\n  \"coupon_id\": \"COUPON_003\",\n  \"code\": \"PAINT25\",\n  \"name\": \"25% en Pinturas Premium\",\n  \"description\": \"Descuento exclusivo en l\u00ednea de pinturas premium\",\n  \"type\": \"percentage\",\n  \"discount_value\": 25,\n  \"minimum_purchase\": 25000,\n  \"is_active\": true,\n  \"start_date\": \"2024-01-01T00:00:00Z\",\n  \"end_date\": \"2024-12-31T23:59:59Z\",\n  \"max_uses\": 500,\n  \"uses_per_user\": 2,\n  \"created_at\": \"2024-01-01T00:00:00Z\",\n  \"updated_at\": \"2024-01-01T00:00:00Z\",\n  \"attributes\": [\n    {\n      \"key\": \"included_products\",\n      \"value\": \"PAINT_PREMIUM_001,PAINT_PREMIUM_002\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"min_quantity\",\n      \"value\": \"1\",\n      \"type\": \"number\"\n    },\n    {\n      \"key\": \"included_categories\",\n      \"value\": \"PAINT,DECORATION\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"product_line\",\n      \"value\": \"premium_paint\",\n      \"type\": \"string\"\n    }\n  ],\n  \"_created_at\": \"2024-01-01T00:00:00Z\",\n  \"_updated_at\": \"2024-01-01T00:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/coupon/#integracion","title":"\ud83d\udd04 Integraci\u00f3n","text":""},{"location":"data-loading/master-data/coupon/#metodo-por-archivo","title":"M\u00e9todo por Archivo","text":"<p>Los cupones se cargan en archivos CSV con las columnas correspondientes:</p> <pre><code>coupon_id,code,display_name,description,type,discount_value,is_active,start_date,end_date,minimum_purchase,max_uses,uses_per_user,attributes,created_at,updated_at,_created_at,_updated_at\nCOUPON1,WELCOME20,Descuento de Bienvenida,20% de descuento en primera compra,percentage,20,true,2024-01-01T00:00:00Z,2024-12-31T23:59:59Z,,1000,1,\"\",2024-01-15T10:00:00Z,2024-01-15T10:00:00Z,2024-01-15T10:00:00Z,2024-01-15T10:00:00Z\nCOUPON2,SUMMER15,Descuento de Verano,15% de descuento en productos de verano,percentage,15,true,2024-06-01T00:00:00Z,2024-08-31T23:59:59Z,50000,500,2,\"\",2024-01-15T11:00:00Z,2024-01-15T11:00:00Z,2024-01-15T11:00:00Z,2024-01-15T11:00:00Z\n</code></pre>"},{"location":"data-loading/master-data/coupon/#metodo-por-base-de-datos","title":"M\u00e9todo por Base de Datos","text":"<p>Los cupones se consultan desde una tabla con la estructura correspondiente:</p> <pre><code>SELECT\n    coupon_id,\n    code,\n    display_name,\n    description,\n    type,\n    discount_value,\n    is_active,\n    start_date,\n    end_date,\n    minimum_purchase,\n    max_uses,\n    uses_per_user,\n    attributes,\n    created_at,\n    updated_at,\n    _created_at,\n    _updated_at\nFROM coupons\nWHERE _updated_at &gt; '2024-01-15T00:00:00Z'\nORDER BY _updated_at ASC;\n</code></pre>"},{"location":"data-loading/master-data/events/","title":"\ud83d\udcca Eventos","text":"<p>Los eventos representan acciones o actividades que ocurren en el sistema del cliente y que se cargan a Reten para an\u00e1lisis y procesamiento. Permite cargar eventos hist\u00f3ricos o en lote desde el sistema del cliente hacia Reten. Se enfoca en la carga masiva de datos para sincronizaci\u00f3n y an\u00e1lisis retrospectivo.</p>"},{"location":"data-loading/master-data/events/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  // Identificadores\n  \"event_id\": \"string\",          // Identificador \u00fanico del evento (not null)\n  \"user_id\": \"string\",           // Identificador del usuario que gener\u00f3 el evento (not null)\n  \"event_date\": \"datetime\",      // Fecha y hora cuando ocurri\u00f3 el evento (not null)\n\n  // Datos del evento\n  \"event_data\": \"object\",        // Objeto JSON con los datos espec\u00edficos del evento (not null)\n\n  // Atributos personalizados\n  \"attributes\": [{               // Lista de atributos personalizados (opcional)\n    \"key\": \"string\",             // Clave del atributo\n    \"value\": \"string\",           // Valor del atributo\n    \"type\": \"string\"             // Tipo de valor (string, number, date, boolean)\n  }],\n\n  // Informaci\u00f3n adicional\n  \"source\": \"string\",            // Sistema o plataforma de origen (opcional)\n  \"metadata\": \"object\"           // Informaci\u00f3n adicional del evento (opcional)\n}\n</code></pre>"},{"location":"data-loading/master-data/events/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-loading/master-data/events/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n event_id string S\u00ed Identificador \u00fanico del evento user_id string S\u00ed Identificador del usuario que gener\u00f3 el evento event_date datetime S\u00ed Fecha y hora cuando ocurri\u00f3 el evento"},{"location":"data-loading/master-data/events/#datos-del-evento","title":"Datos del Evento","text":"Campo Tipo Requerido Descripci\u00f3n event_data object S\u00ed Objeto JSON con los datos espec\u00edficos del evento"},{"location":"data-loading/master-data/events/#atributos-personalizados","title":"Atributos Personalizados","text":"Campo Tipo Requerido Descripci\u00f3n attributes array No Lista de atributos personalizados con key, value y type"},{"location":"data-loading/master-data/events/#informacion-adicional","title":"Informaci\u00f3n Adicional","text":"Campo Tipo Requerido Descripci\u00f3n source string No Sistema o plataforma de origen metadata object No Informaci\u00f3n adicional del evento"},{"location":"data-loading/master-data/events/#tipos-de-eventos-comunes","title":"\ud83d\udd0d Tipos de Eventos Comunes","text":""},{"location":"data-loading/master-data/events/#eventos-de-comercio-electronico","title":"Eventos de Comercio Electr\u00f3nico","text":"<ul> <li><code>purchase</code>: Compra completada</li> <li><code>cart_added</code>: Producto agregado al carrito</li> <li><code>cart_abandoned</code>: Carrito abandonado</li> <li><code>product_viewed</code>: Producto visualizado</li> <li><code>wishlist_added</code>: Producto agregado a favoritos</li> </ul>"},{"location":"data-loading/master-data/events/#eventos-de-usuario","title":"Eventos de Usuario","text":"<ul> <li><code>user_login</code>: Usuario inici\u00f3 sesi\u00f3n</li> <li><code>user_logout</code>: Usuario cerr\u00f3 sesi\u00f3n</li> <li><code>user_registered</code>: Usuario se registr\u00f3</li> <li><code>profile_updated</code>: Perfil actualizado</li> </ul>"},{"location":"data-loading/master-data/events/#eventos-de-marketing","title":"Eventos de Marketing","text":"<ul> <li><code>email_opened</code>: Email abierto</li> <li><code>email_clicked</code>: Link de email clickeado</li> <li><code>campaign_viewed</code>: Campa\u00f1a visualizada</li> <li><code>coupon_applied</code>: Cup\u00f3n aplicado</li> </ul>"},{"location":"data-loading/master-data/events/#eventos-de-negocio","title":"Eventos de Negocio","text":"<ul> <li><code>order_status_changed</code>: Estado de orden cambiado</li> <li><code>inventory_updated</code>: Inventario actualizado</li> <li><code>price_changed</code>: Precio modificado</li> <li><code>stock_low</code>: Stock bajo</li> </ul>"},{"location":"data-loading/master-data/events/#validaciones","title":"Validaciones","text":""},{"location":"data-loading/master-data/events/#campos-requeridos","title":"Campos Requeridos","text":"<ul> <li><code>event_id</code>: Debe ser \u00fanico y no nulo</li> <li><code>user_id</code>: Debe ser un identificador v\u00e1lido de usuario</li> <li><code>event_date</code>: Debe ser una fecha/hora v\u00e1lida en formato ISO 8601</li> <li><code>event_data</code>: Debe ser un objeto JSON v\u00e1lido</li> </ul>"},{"location":"data-loading/master-data/events/#campos-opcionales","title":"Campos Opcionales","text":"<ul> <li><code>source</code>: Si se proporciona, debe ser una cadena v\u00e1lida</li> <li><code>metadata</code>: Si se proporciona, debe ser un objeto JSON v\u00e1lido</li> </ul>"},{"location":"data-loading/master-data/events/#reglas-de-negocio","title":"Reglas de Negocio","text":"<ul> <li>El <code>event_id</code> debe ser \u00fanico dentro del conjunto de eventos del cliente</li> <li>El <code>event_date</code> no puede ser futuro</li> <li>El <code>user_id</code> debe corresponder a un usuario v\u00e1lido en el sistema</li> <li>El <code>event_data</code> debe contener al menos un campo</li> <li>Los <code>attributes</code> deben tener <code>key</code> y <code>value</code> v\u00e1lidos si se proporcionan</li> </ul>"},{"location":"data-loading/master-data/events/#ejemplos-de-uso","title":"Ejemplos de Uso","text":""},{"location":"data-loading/master-data/events/#ejemplo-1-evento-de-compra-simple","title":"Ejemplo 1: Evento de Compra Simple","text":"<pre><code>{\n  \"event_id\": \"purchase_001\",\n  \"user_id\": \"USER_123\",\n  \"event_date\": \"2024-01-15T14:30:00Z\",\n  \"event_data\": {\n    \"order_id\": \"ORD-12345\",\n    \"amount\": 150.00,\n    \"currency\": \"USD\",\n    \"products\": [\"PROD-001\", \"PROD-002\"]\n  },\n  \"attributes\": [{\n    \"key\": \"channel\",\n    \"value\": \"web\",\n    \"type\": \"string\"\n  }, {\n    \"key\": \"priority\",\n    \"value\": \"normal\",\n    \"type\": \"string\"\n  }],\n  \"source\": \"web\"\n}\n</code></pre>"},{"location":"data-loading/master-data/events/#ejemplo-2-evento-de-carrito-abandonado","title":"Ejemplo 2: Evento de Carrito Abandonado","text":"<pre><code>{\n  \"event_id\": \"cart_abandoned_001\",\n  \"user_id\": \"USER_456\",\n  \"event_date\": \"2024-01-15T15:45:00Z\",\n  \"event_data\": {\n    \"cart_id\": \"CART-789\",\n    \"total_items\": 3,\n    \"total_value\": 89.99,\n    \"abandonment_reason\": \"shipping_cost\"\n  },\n  \"attributes\": [{\n    \"key\": \"priority\",\n    \"value\": \"high\",\n    \"type\": \"string\"\n  }, {\n    \"key\": \"campaign_tag\",\n    \"value\": \"recovery_campaign\",\n    \"type\": \"string\"\n  }],\n  \"source\": \"mobile\"\n}\n</code></pre>"},{"location":"data-loading/master-data/events/#ejemplo-3-evento-de-usuario","title":"Ejemplo 3: Evento de Usuario","text":"<pre><code>{\n  \"event_id\": \"user_login_001\",\n  \"user_id\": \"USER_789\",\n  \"event_date\": \"2024-01-15T16:20:00Z\",\n  \"event_data\": {\n    \"login_method\": \"email\",\n    \"ip_address\": \"192.168.1.100\",\n    \"user_agent\": \"Mozilla/5.0...\"\n  },\n  \"attributes\": [{\n    \"key\": \"login_method\",\n    \"value\": \"email\",\n    \"type\": \"string\"\n  }, {\n    \"key\": \"session_duration\",\n    \"value\": \"0\",\n    \"type\": \"number\"\n  }],\n  \"source\": \"web\"\n}\n</code></pre>"},{"location":"data-loading/master-data/events/#integracion","title":"Integraci\u00f3n","text":""},{"location":"data-loading/master-data/events/#metodo-por-archivo","title":"M\u00e9todo por Archivo","text":"<p>Los eventos se cargan en archivos CSV con las columnas correspondientes:</p> <pre><code>event_id,user_id,event_date,event_data,source\npurchase_001,USER_123,2024-01-15T14:30:00Z,\"{\"\"order_id\"\":\"\"ORD-12345\"\",\"\"amount\"\":150.00}\",\"web\"\ncart_abandoned_001,USER_456,2024-01-15T15:45:00Z,\"{\"\"cart_id\"\":\"\"CART-789\"\",\"\"total_value\"\":89.99}\",\"mobile\"\n</code></pre>"},{"location":"data-loading/master-data/events/#metodo-por-base-de-datos","title":"M\u00e9todo por Base de Datos","text":"<p>Los eventos se consultan desde una tabla con la estructura correspondiente:</p> <pre><code>SELECT \n    event_id,\n    user_id,\n    event_date,\n    event_data,\n    source\nFROM events \nWHERE updated_at &gt; '2024-01-15T00:00:00Z'\nORDER BY event_date;\n</code></pre>"},{"location":"data-loading/master-data/product/","title":"Productos","text":"<p>Los productos representan los art\u00edculos comercializados a trav\u00e9s de la plataforma Reten. Esta entidad almacena toda la informaci\u00f3n relevante sobre los productos, sus caracter\u00edsticas, categorizaci\u00f3n y relaciones comerciales.</p>"},{"location":"data-loading/master-data/product/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  // Identificadores\n  \"product_id\": \"string\",        // Identificador \u00fanico del producto (not null)\n  \"sku\": \"string\",               // Stock Keeping Unit, c\u00f3digo \u00fanico de producto para gesti\u00f3n de inventario (not null)\n  \"gtin\": \"string\",              // Global Trade Item Number (c\u00f3digo de barras) - opcional\n\n  // Informaci\u00f3n b\u00e1sica\n  \"display_name\": \"string\",      // Nombre comercial del producto (not null)\n  \"short_name\": \"string\",        // Nombre corto para listados\n  \"slug\": \"string\",              // Versi\u00f3n URL-friendly del nombre\n  \"short_description\": \"string\", // Descripci\u00f3n corta del producto\n  \"description\": \"string\",       // Descripci\u00f3n detallada del producto\n\n  // Im\u00e1genes principales\n  \"main_image_url\": \"string\",    // URL de la imagen principal\n  \"thumbnail_url\": \"string\",     // URL de la miniatura\n\n  // Categor\u00eda principal\n  \"category_id\": \"string\",       // ID de la categor\u00eda principal\n  \"category_name\": \"string\",     // Nombre de la categor\u00eda principal\n\n  // Subcategor\u00eda (opcional)\n  \"subcategory_id\": \"string\",    // ID de la subcategor\u00eda\n  \"subcategory_name\": \"string\",  // Nombre de la subcategor\u00eda\n\n  // Informaci\u00f3n de marca\n  \"brand\": \"string\",       // Identificador de la marca\n\n  // Tags para b\u00fasqueda y filtrado\n  \"tags\": \"string\",        // Etiquetas separadas por comas (tag1,tag2,tag3)\n\n  // Atributos personalizados - Cualquier columna no definida en el modelo se almacenar\u00e1 aqu\u00ed\n  \"attributes\": [\n    {\n      \"key\": \"string\",        // Nombre del atributo personalizado\n      \"value\": \"string\",      // Valor del atributo\n      \"type\": \"string\"        // Tipo de dato: string, number, date, boolean\n    }\n  ],\n\n  // Marcas temporales del sistema origen\n  \"created_at\": \"timestamp\",     // Fecha de creaci\u00f3n en sistema cliente (not null)\n  \"updated_at\": \"timestamp\",     // Fecha de actualizaci\u00f3n en sistema cliente\n\n  // Marcas temporales de sincronizaci\u00f3n con Reten\n  \"_created_at\": \"timestamp\",    // Fecha de creaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten\n  \"_updated_at\": \"timestamp\"     // Fecha de \u00faltima actualizaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten\n}\n</code></pre>"},{"location":"data-loading/master-data/product/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-loading/master-data/product/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n product_id string S\u00ed Identificador \u00fanico del producto sku string S\u00ed Stock Keeping Unit, c\u00f3digo \u00fanico para gesti\u00f3n de inventario gtin string No Global Trade Item Number (c\u00f3digo de barras)"},{"location":"data-loading/master-data/product/#informacion-basica","title":"Informaci\u00f3n B\u00e1sica","text":"Campo Tipo Requerido Descripci\u00f3n display_name string S\u00ed Nombre comercial del producto short_name string No Nombre corto para listados slug string No Versi\u00f3n URL-friendly del nombre short_description string No Descripci\u00f3n corta para listados y previews description string No Descripci\u00f3n detallada del producto"},{"location":"data-loading/master-data/product/#imagenes-principales","title":"Im\u00e1genes Principales","text":"Campo Tipo Requerido Descripci\u00f3n main_image_url string S\u00ed URL de la imagen principal thumbnail_url string S\u00ed URL de la miniatura"},{"location":"data-loading/master-data/product/#categoria-principal","title":"Categor\u00eda Principal","text":"Campo Tipo Requerido Descripci\u00f3n category_id string S\u00ed ID de la categor\u00eda principal category_name string S\u00ed Nombre de la categor\u00eda principal"},{"location":"data-loading/master-data/product/#subcategoria","title":"Subcategor\u00eda","text":"Campo Tipo Requerido Descripci\u00f3n subcategory_id string No ID de la subcategor\u00eda subcategory_name string No Nombre de la subcategor\u00eda"},{"location":"data-loading/master-data/product/#tags","title":"Tags","text":"Campo Tipo Requerido Descripci\u00f3n tags string No Etiquetas separadas por comas (tag1,tag2,tag3)"},{"location":"data-loading/master-data/product/#marcas-temporales","title":"Marcas Temporales","text":"Campo Tipo Requerido Descripci\u00f3n created_at timestamp S\u00ed Fecha de creaci\u00f3n en sistema cliente updated_at timestamp No \u00daltima actualizaci\u00f3n en sistema cliente"},{"location":"data-loading/master-data/product/#marcas-temporales-de-sincronizacion","title":"Marcas Temporales de Sincronizaci\u00f3n","text":"Campo Tipo Requerido Descripci\u00f3n _created_at timestamp S\u00ed Fecha de creaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten _updated_at timestamp S\u00ed Fecha de \u00faltima actualizaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten"},{"location":"data-loading/master-data/product/#atributos-personalizados","title":"Atributos Personalizados","text":"<p>Importante: El campo <code>attributes</code> NO es enviado por el cliente. Reten lo construye autom\u00e1ticamente durante el proceso de carga de datos, extrayendo todas las columnas adicionales que vengan en la base de datos o archivo CSV y que no est\u00e9n definidas en el modelo est\u00e1ndar de productos.</p>"},{"location":"data-loading/master-data/product/#como-funciona","title":"C\u00f3mo Funciona:","text":"<ol> <li>Cliente env\u00eda datos con columnas adicionales (ej: <code>supplier_id</code>, <code>warranty_period</code>, <code>custom_field</code>)</li> <li>Reten detecta autom\u00e1ticamente las columnas no mapeadas al modelo</li> <li>Reten construye el campo <code>attributes</code> con estas columnas adicionales</li> <li>Se almacena como array de objetos con <code>key</code>, <code>value</code> y <code>type</code> inferido</li> </ol>"},{"location":"data-loading/master-data/product/#casos-de-uso-comunes","title":"Casos de Uso Comunes:","text":"<ul> <li>Campos espec\u00edficos del producto: Informaci\u00f3n particular de cada cat\u00e1logo</li> <li>Metadatos de integraci\u00f3n: Datos del sistema origen que no tienen equivalente en Reten</li> <li>Atributos de negocio: Campos espec\u00edficos de la industria o empresa</li> <li>Configuraciones personalizadas: Par\u00e1metros \u00fanicos del producto</li> </ul>"},{"location":"data-loading/master-data/product/#formato-del-campo-construido-por-reten","title":"Formato del Campo (Construido por Reten):","text":"<pre><code>\"attributes\": [\n  {\n    \"key\": \"supplier_id\",\n    \"value\": \"SUP_001\",\n    \"type\": \"string\"\n  },\n  {\n    \"key\": \"warranty_period\",\n    \"value\": \"24\",\n    \"type\": \"number\"\n  },\n  {\n    \"key\": \"custom_field\",\n    \"value\": \"valor_personalizado\",\n    \"type\": \"string\"\n  }\n]\n</code></pre>"},{"location":"data-loading/master-data/product/#tipos-de-datos-soportados","title":"Tipos de Datos Soportados:","text":"<ul> <li><code>string</code>: Texto libre</li> <li><code>number</code>: N\u00fameros enteros o decimales</li> <li><code>date</code>: Fechas en formato ISO 8601</li> <li><code>boolean</code>: Valores true/false</li> </ul>"},{"location":"data-loading/master-data/product/#ventajas","title":"Ventajas:","text":"<ul> <li>Flexibilidad total para adaptarse a cualquier modelo de datos</li> <li>Extensibilidad sin modificar el esquema principal</li> <li>Compatibilidad con sistemas legacy o personalizados</li> <li>Escalabilidad para futuras necesidades del negocio</li> <li>Procesamiento autom\u00e1tico sin intervenci\u00f3n del cliente</li> </ul>"},{"location":"data-loading/master-data/product/#validaciones","title":"Validaciones","text":""},{"location":"data-loading/master-data/product/#validaciones-generales","title":"Validaciones Generales","text":""},{"location":"data-loading/master-data/product/#identificadores_1","title":"Identificadores","text":"<ul> <li><code>product_id</code> debe ser \u00fanico en todo el sistema</li> <li><code>sku</code> debe ser \u00fanico por cliente</li> <li><code>gtin</code> debe ser v\u00e1lido seg\u00fan est\u00e1ndar GS1</li> </ul>"},{"location":"data-loading/master-data/product/#informacion-basica_1","title":"Informaci\u00f3n B\u00e1sica","text":"<ul> <li><code>display_name</code> no puede estar vac\u00edo</li> <li><code>slug</code> debe ser \u00fanico y URL-friendly</li> <li>Descripciones no deben exceder l\u00edmites de caracteres</li> </ul>"},{"location":"data-loading/master-data/product/#imagenes-principales_1","title":"Im\u00e1genes Principales","text":"<ul> <li><code>main_image_url</code> y <code>thumbnail_url</code> son requeridos</li> <li>URLs deben ser v\u00e1lidas y accesibles</li> </ul>"},{"location":"data-loading/master-data/product/#categoria-principal_1","title":"Categor\u00eda Principal","text":"<ul> <li><code>category_id</code> y <code>category_name</code> son requeridos</li> <li>La categor\u00eda debe existir en el maestro de categor\u00edas</li> </ul>"},{"location":"data-loading/master-data/product/#subcategoria_1","title":"Subcategor\u00eda","text":"<ul> <li>Si se proporciona <code>subcategory_id</code>, debe existir en el maestro de subcategor\u00edas</li> <li>Si se proporciona <code>subcategory_name</code>, debe corresponder con <code>subcategory_id</code></li> </ul>"},{"location":"data-loading/master-data/product/#validaciones-de-negocio","title":"Validaciones de Negocio","text":""},{"location":"data-loading/master-data/product/#atributos","title":"Atributos","text":"<ul> <li>Las claves de atributos deben ser \u00fanicas por producto</li> <li>Los valores deben corresponder al tipo esperado</li> <li>El campo <code>attributes</code> es construido autom\u00e1ticamente por Reten</li> </ul>"},{"location":"data-loading/master-data/product/#otros","title":"Otros","text":"<ul> <li>Tags deben ser v\u00e1lidos (formato separado por comas)</li> <li>Marca debe existir en el maestro</li> </ul>"},{"location":"data-loading/master-data/product/#ejemplos-de-uso","title":"Ejemplos de Uso","text":""},{"location":"data-loading/master-data/product/#producto-simple","title":"Producto Simple","text":"<pre><code>{\n  \"product_id\": \"PROD_001\",\n  \"sku\": \"SKU123\",\n  \"display_name\": \"Pintura L\u00e1tex Premium\",\n  \"short_name\": \"L\u00e1tex Premium\",\n  \"slug\": \"pintura-latex-premium\",\n  \"short_description\": \"Pintura l\u00e1tex de alta calidad\",\n  \"main_image_url\": \"https://example.com/images/main.jpg\",\n  \"thumbnail_url\": \"https://example.com/images/thumb.jpg\",\n  \"category_id\": \"CAT_001\",\n  \"category_name\": \"Pinturas\",\n  \"subcategory_id\": \"SUB_001\",\n  \"subcategory_name\": \"L\u00e1tex\",\n  \"brand\": \"BRD_001\",\n  \"tags\": \"pintura,latex,interior,premium\",\n  \"attributes\": [\n    {\n      \"key\": \"coverage\",\n      \"value\": \"12\",\n      \"type\": \"number\"\n    },\n    {\n      \"key\": \"finish\",\n      \"value\": \"matte\",\n      \"type\": \"string\"\n    }\n  ],\n  \"created_at\": \"2024-01-15T10:00:00Z\",\n  \"updated_at\": \"2024-01-15T10:00:00Z\",\n  \"_created_at\": \"2024-01-15T10:00:00Z\",\n  \"_updated_at\": \"2024-01-15T10:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/product/#producto-con-atributos-personalizados","title":"Producto con Atributos Personalizados","text":"<pre><code>{\n  \"product_id\": \"PROD_002\",\n  \"sku\": \"PACK456\",\n  \"display_name\": \"Pack Pintura Interior\",\n  \"short_name\": \"Pack Pintura\",\n  \"slug\": \"pack-pintura-interior\",\n  \"short_description\": \"Pack de pinturas para interiores\",\n  \"main_image_url\": \"https://example.com/images/pack-main.jpg\",\n  \"thumbnail_url\": \"https://example.com/images/pack-thumb.jpg\",\n  \"category_id\": \"CAT_002\",\n  \"category_name\": \"Packs de Pintura\",\n  \"subcategory_id\": \"SUB_002\",\n  \"subcategory_name\": \"Packs Especiales\",\n  \"brand\": \"BRD_002\",\n  \"tags\": \"pack,pintura,interior,combo\",\n  \"attributes\": [\n    {\n      \"key\": \"supplier_id\",\n      \"value\": \"SUP_001\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"warranty_period\",\n      \"value\": \"24\",\n      \"type\": \"number\"\n    },\n    {\n      \"key\": \"color_family\",\n      \"value\": \"neutrals\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"recommended_use\",\n      \"value\": \"living_spaces\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"is_discontinued\",\n      \"value\": \"false\",\n      \"type\": \"boolean\"\n    }\n  ],\n  \"created_at\": \"2024-01-15T11:00:00Z\",\n  \"updated_at\": \"2024-01-15T11:00:00Z\",\n  \"_created_at\": \"2024-01-15T11:00:00Z\",\n  \"_updated_at\": \"2024-01-15T11:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/product/#integracion","title":"\ud83d\udd04 Integraci\u00f3n","text":""},{"location":"data-loading/master-data/product/#metodo-por-archivo","title":"M\u00e9todo por Archivo","text":"<p>Los productos se cargan en archivos CSV con las columnas correspondientes:</p> <pre><code>product_id,sku,display_name,short_name,slug,short_description,main_image_url,thumbnail_url,category_id,category_name,subcategory_id,subcategory_name,brand,tags,attributes,created_at,updated_at,_created_at,_updated_at\nPROD_001,SKU123,Pintura L\u00e1tex Premium,L\u00e1tex Premium,pintura-latex-premium,Pintura l\u00e1tex de alta calidad,https://example.com/images/main.jpg,https://example.com/images/thumb.jpg,CAT_001,Pinturas,SUB_001,L\u00e1tex,BRD_001,\"pintura,latex,interior,premium\",\"\",2024-01-15T10:00:00Z,2024-01-15T10:00:00Z,2024-01-15T10:00:00Z,2024-01-15T10:00:00Z\nPROD_002,PACK456,Pack Pintura Interior,Pack Pintura,pack-pintura-interior,Pack de pinturas para interiores,https://example.com/images/pack-main.jpg,https://example.com/images/pack-thumb.jpg,CAT_002,Packs de Pintura,SUB_002,Packs Especiales,BRD_002,\"pack,pintura,interior,combo\",\"\",2024-01-15T11:00:00Z,2024-01-15T11:00:00Z,2024-01-15T11:00:00Z,2024-01-15T11:00:00Z\n</code></pre>"},{"location":"data-loading/master-data/product/#metodo-por-base-de-datos","title":"M\u00e9todo por Base de Datos","text":"<p>Los productos se consultan desde una tabla con la estructura correspondiente:</p> <pre><code>SELECT\n    product_id,\n    sku,\n    display_name,\n    short_name,\n    slug,\n    short_description,\n    main_image_url,\n    thumbnail_url,\n    category_id,\n    category_name,\n    subcategory_id,\n    subcategory_name,\n    brand,\n    tags,\n    attributes,\n    created_at,\n    updated_at,\n    _created_at,\n    _updated_at\nFROM products\nWHERE _updated_at &gt; '2024-01-15T00:00:00Z'\nORDER BY _updated_at ASC;\n</code></pre>"},{"location":"data-loading/master-data/seller/","title":"Vendedores","text":"<p>Los vendedores son los usuarios del CPG (Consumer Packaged Goods) que interact\u00faan con la plataforma Reten. Esta entidad almacena toda la informaci\u00f3n relevante sobre los usuarios, sus roles, permisos y relaciones con comercios.</p>"},{"location":"data-loading/master-data/seller/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  // Identificadores\n  \"seller_id\": \"string\",         // Identificador \u00fanico interno (not null)\n  \"route_id\": \"string\",          // Identificador de ruta o c\u00f3digo de vendedor (not null)\n\n  // Informaci\u00f3n b\u00e1sica\n  \"full_name\": \"string\",         // Nombre completo (not null)\n  \"first_name\": \"string\",        // Nombre (opcional)\n  \"last_name\": \"string\",         // Apellido (opcional)\n  \"status\": \"string\",            // Estado del vendedor (active, inactive, suspended, terminated)\n\n  // Informaci\u00f3n de contacto directa\n  \"email\": \"string\",             // Email del vendedor\n  \"phone\": \"string\",             // Tel\u00e9fono del vendedor\n  \"channel\": \"string\",           // Canal de venta (salesman, callcenter, supervisor, activator)\n\n  // Ubicaciones asignadas\n  \"location_ids\": [\"string\"],    // Lista de IDs de ubicaciones asignadas al vendedor\n\n  // Supervisores\n  \"supervisor_ids\": [\"string\"],  // Lista de IDs de supervisores del vendedor\n\n  // Fechas relevantes (opcional)\n  \"hire_date\": \"timestamp\",      // Fecha de contrataci\u00f3n\n  \"termination_date\": \"timestamp\", // Fecha de t\u00e9rmino si aplica\n\n  // Atributos personalizados - Cualquier columna no definida en el modelo se almacenar\u00e1 aqu\u00ed\n  \"attributes\": [\n    {\n      \"key\": \"string\",        // Nombre del atributo personalizado\n      \"value\": \"string\",      // Valor del atributo\n      \"type\": \"string\"        // Tipo de dato: string, number, date, boolean\n    }\n  ],\n\n  // Marcas temporales del sistema origen\n  \"created_at\": \"timestamp\",     // Fecha de creaci\u00f3n en sistema cliente (not null)\n  \"updated_at\": \"timestamp\",     // Fecha de actualizaci\u00f3n en sistema cliente\n\n  // Marcas temporales de sincronizaci\u00f3n con Reten\n  \"_created_at\": \"timestamp\",    // Fecha de creaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten\n  \"_updated_at\": \"timestamp\"     // Fecha de \u00faltima actualizaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten\n}\n</code></pre>"},{"location":"data-loading/master-data/seller/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-loading/master-data/seller/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n seller_id string S\u00ed Identificador \u00fanico interno en Reten route_id string S\u00ed Identificador de ruta o c\u00f3digo del vendedor"},{"location":"data-loading/master-data/seller/#informacion-basica","title":"Informaci\u00f3n B\u00e1sica","text":"Campo Tipo Requerido Descripci\u00f3n full_name string S\u00ed Nombre completo del vendedor first_name string No Nombre del vendedor last_name string No Apellido del vendedor status string S\u00ed Estado actual del vendedor"},{"location":"data-loading/master-data/seller/#informacion-de-contacto-directa","title":"Informaci\u00f3n de Contacto Directa","text":"Campo Tipo Requerido Descripci\u00f3n email string S\u00ed Email del vendedor phone string S\u00ed Tel\u00e9fono del vendedor channel string S\u00ed Canal de venta del vendedor <p>Tipos de Canal: - <code>salesman</code>: Vendedor tradicional que vende productos - <code>callcenter</code>: Vendedor por tel\u00e9fono - <code>supervisor</code>: Supervisor de vendedores - <code>activator</code>: Activador que enrola usuarios nuevos</p>"},{"location":"data-loading/master-data/seller/#ubicaciones-y-supervision","title":"Ubicaciones y Supervisi\u00f3n","text":"Campo Tipo Requerido Descripci\u00f3n location_ids [string] No Lista de IDs de ubicaciones asignadas supervisor_ids [string] No Lista de IDs de supervisores"},{"location":"data-loading/master-data/seller/#fechas-opcional","title":"Fechas (Opcional)","text":"Campo Tipo Requerido Descripci\u00f3n hire_date timestamp No Fecha de contrataci\u00f3n termination_date timestamp No Fecha de t\u00e9rmino si aplica"},{"location":"data-loading/master-data/seller/#marcas-temporales","title":"Marcas Temporales","text":"Campo Tipo Requerido Descripci\u00f3n created_at timestamp S\u00ed Fecha de creaci\u00f3n en sistema cliente updated_at timestamp No \u00daltima actualizaci\u00f3n en sistema cliente"},{"location":"data-loading/master-data/seller/#marcas-temporales-de-sincronizacion","title":"Marcas Temporales de Sincronizaci\u00f3n","text":"Campo Tipo Requerido Descripci\u00f3n _created_at timestamp S\u00ed Fecha de creaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten _updated_at timestamp S\u00ed Fecha de \u00faltima actualizaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten <p>Estados V\u00e1lidos del Vendedor:</p> <ul> <li><code>active</code>: Vendedor activo</li> <li><code>inactive</code>: Vendedor inactivo temporalmente</li> <li><code>suspended</code>: Cuenta suspendida</li> <li><code>terminated</code>: Relaci\u00f3n terminada</li> </ul>"},{"location":"data-loading/master-data/seller/#atributos-personalizados","title":"Atributos Personalizados","text":"<p>Importante: El campo <code>attributes</code> NO es enviado por el cliente. Reten lo construye autom\u00e1ticamente durante el proceso de carga de datos, extrayendo todas las columnas adicionales que vengan en la base de datos o archivo CSV y que no est\u00e9n definidas en el modelo est\u00e1ndar de vendedores.</p>"},{"location":"data-loading/master-data/seller/#como-funciona","title":"C\u00f3mo Funciona:","text":"<ol> <li>Cliente env\u00eda datos con columnas adicionales (ej: <code>territory_code</code>, <code>performance_rating</code>, <code>training_completed</code>)</li> <li>Reten detecta autom\u00e1ticamente las columnas no mapeadas al modelo</li> <li>Reten construye el campo <code>attributes</code> con estas columnas adicionales</li> <li>Se almacena como array de objetos con <code>key</code>, <code>value</code> y <code>type</code> inferido</li> </ol>"},{"location":"data-loading/master-data/seller/#casos-de-uso-comunes","title":"Casos de Uso Comunes:","text":"<ul> <li>Campos espec\u00edficos del vendedor: Informaci\u00f3n particular de cada CPG</li> <li>Metadatos de integraci\u00f3n: Datos del sistema origen que no tienen equivalente en Reten</li> <li>Atributos de negocio: Campos espec\u00edficos del canal de venta o empresa</li> <li>Configuraciones personalizadas: Par\u00e1metros \u00fanicos del vendedor</li> </ul>"},{"location":"data-loading/master-data/seller/#formato-del-campo-construido-por-reten","title":"Formato del Campo (Construido por Reten):","text":"<pre><code>\"attributes\": [\n  {\n    \"key\": \"territory_code\",\n    \"value\": \"TER_001\",\n    \"type\": \"string\"\n  },\n  {\n    \"key\": \"performance_rating\",\n    \"value\": \"4.5\",\n    \"type\": \"number\"\n  },\n  {\n    \"key\": \"training_completed\",\n    \"value\": \"true\",\n    \"type\": \"boolean\"\n  }\n]\n</code></pre>"},{"location":"data-loading/master-data/seller/#tipos-de-datos-soportados","title":"Tipos de Datos Soportados:","text":"<ul> <li><code>string</code>: Texto libre</li> <li><code>number</code>: N\u00fameros enteros o decimales</li> <li><code>date</code>: Fechas en formato ISO 8601</li> <li><code>boolean</code>: Valores true/false</li> </ul>"},{"location":"data-loading/master-data/seller/#ventajas","title":"Ventajas:","text":"<ul> <li>Flexibilidad total para adaptarse a cualquier modelo de datos</li> <li>Extensibilidad sin modificar el esquema principal</li> <li>Compatibilidad con sistemas legacy o personalizados</li> <li>Escalabilidad para futuras necesidades del negocio</li> <li>Procesamiento autom\u00e1tico sin intervenci\u00f3n del cliente</li> </ul>"},{"location":"data-loading/master-data/seller/#validaciones","title":"Validaciones","text":""},{"location":"data-loading/master-data/seller/#validaciones-generales","title":"Validaciones Generales","text":""},{"location":"data-loading/master-data/seller/#identificadores_1","title":"Identificadores","text":"<ul> <li><code>seller_id</code> debe ser \u00fanico en todo el sistema</li> <li><code>route_id</code> debe ser \u00fanico dentro del mismo CPG</li> <li>El formato de <code>route_id</code> debe seguir el patr\u00f3n definido por el CPG (ej: \"R001\", \"V123\", etc.)</li> </ul>"},{"location":"data-loading/master-data/seller/#informacion-personal","title":"Informaci\u00f3n Personal","text":"<ul> <li>Nombres y apellidos no pueden estar vac\u00edos</li> <li>El email principal debe ser corporativo</li> <li>El formato de tel\u00e9fono debe ser v\u00e1lido</li> </ul>"},{"location":"data-loading/master-data/seller/#validaciones-de-negocio","title":"Validaciones de Negocio","text":""},{"location":"data-loading/master-data/seller/#informacion-de-contacto","title":"Informaci\u00f3n de Contacto","text":"<ul> <li>El email debe tener formato v\u00e1lido</li> <li>El tel\u00e9fono debe tener formato v\u00e1lido</li> <li>El canal debe ser uno de los valores permitidos: <code>salesman</code>, <code>callcenter</code>, <code>supervisor</code>, <code>activator</code></li> </ul>"},{"location":"data-loading/master-data/seller/#ubicaciones-y-supervision_1","title":"Ubicaciones y Supervisi\u00f3n","text":"<ul> <li>Los IDs de ubicaciones deben existir en el sistema</li> <li>Los IDs de supervisores deben existir y estar activos</li> <li>No pueden existir ciclos en la jerarqu\u00eda de supervisi\u00f3n</li> </ul>"},{"location":"data-loading/master-data/seller/#fechas-opcional_1","title":"Fechas (Opcional)","text":"<ul> <li>Si se proporciona <code>hire_date</code>, debe ser una fecha v\u00e1lida</li> <li>Si se proporciona <code>termination_date</code>, debe ser posterior a <code>hire_date</code></li> <li>Las fechas deben estar en formato ISO 8601</li> </ul>"},{"location":"data-loading/master-data/seller/#atributos","title":"Atributos","text":"<ul> <li>Las claves de atributos deben ser \u00fanicas por vendedor</li> <li>Los valores deben corresponder al tipo esperado</li> <li>El campo <code>attributes</code> es construido autom\u00e1ticamente por Reten</li> </ul>"},{"location":"data-loading/master-data/seller/#ejemplos-de-uso","title":"Ejemplos de Uso","text":""},{"location":"data-loading/master-data/seller/#vendedor-basico","title":"Vendedor B\u00e1sico","text":"<pre><code>{\n  \"seller_id\": \"SELLER_001\",\n  \"route_id\": \"R001\",\n  \"full_name\": \"Juan P\u00e9rez\",\n  \"status\": \"active\",\n  \"email\": \"juan.perez@cpg.com\",\n  \"phone\": \"+56912345678\",\n  \"channel\": \"salesman\",\n  \"created_at\": \"2024-01-01T00:00:00Z\",\n  \"updated_at\": \"2024-01-01T00:00:00Z\",\n  \"_created_at\": \"2024-01-01T00:00:00Z\",\n  \"_updated_at\": \"2024-01-01T00:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/seller/#vendedor-con-ubicaciones-y-supervisores","title":"Vendedor con Ubicaciones y Supervisores","text":"<pre><code>{\n  \"seller_id\": \"SELLER_002\",\n  \"route_id\": \"V123\",\n  \"full_name\": \"Mar\u00eda Gonz\u00e1lez\",\n  \"first_name\": \"Mar\u00eda\",\n  \"last_name\": \"Gonz\u00e1lez\",\n  \"status\": \"active\",\n  \"email\": \"maria.gonzalez@cpg.com\",\n  \"phone\": \"+56987654321\",\n  \"channel\": \"supervisor\",\n  \"location_ids\": [\"LOC_001\", \"LOC_002\", \"LOC_003\"],\n  \"supervisor_ids\": [\"SELLER_005\"],\n  \"created_at\": \"2024-01-01T00:00:00Z\",\n  \"updated_at\": \"2024-01-01T00:00:00Z\",\n  \"_created_at\": \"2024-01-01T00:00:00Z\",\n  \"_updated_at\": \"2024-01-01T00:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/seller/#vendedor-con-estructura-completa","title":"Vendedor con Estructura Completa","text":"<pre><code>{\n  \"seller_id\": \"SELLER_003\",\n  \"route_id\": \"R003\",\n  \"full_name\": \"Carlos Rodr\u00edguez\",\n  \"first_name\": \"Carlos\",\n  \"last_name\": \"Rodr\u00edguez\",\n  \"status\": \"active\",\n  \"email\": \"carlos.rodriguez@cpg.com\",\n  \"phone\": \"+56911223344\",\n  \"channel\": \"callcenter\",\n  \"location_ids\": [\"LOC_004\"],\n  \"supervisor_ids\": [\"SELLER_002\"],\n  \"hire_date\": \"2024-02-01T00:00:00Z\",\n  \"attributes\": [\n    {\n      \"key\": \"specialty\",\n      \"value\": \"new_business\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"certification_level\",\n      \"value\": \"advanced\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"territory_code\",\n      \"value\": \"TER_001\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"performance_rating\",\n      \"value\": \"4.5\",\n      \"type\": \"number\"\n    },\n    {\n      \"key\": \"training_completed\",\n      \"value\": \"true\",\n      \"type\": \"boolean\"\n    }\n  ],\n  \"created_at\": \"2024-02-01T00:00:00Z\",\n  \"updated_at\": \"2024-02-01T00:00:00Z\",\n  \"_created_at\": \"2024-02-01T00:00:00Z\",\n  \"_updated_at\": \"2024-02-01T00:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/seller/#activator-enrolador-de-clientes","title":"Activator (Enrolador de Clientes)","text":"<pre><code>{\n  \"seller_id\": \"SELLER_004\",\n  \"route_id\": \"R004\",\n  \"full_name\": \"Ana Mart\u00ednez\",\n  \"status\": \"active\",\n  \"email\": \"ana.martinez@cpg.com\",\n  \"phone\": \"+56999887766\",\n  \"channel\": \"activator\",\n  \"location_ids\": [\"LOC_005\", \"LOC_006\"],\n  \"hire_date\": \"2024-03-01T00:00:00Z\",\n  \"created_at\": \"2024-03-01T00:00:00Z\",\n  \"updated_at\": \"2024-03-01T00:00:00Z\",\n  \"_created_at\": \"2024-03-01T00:00:00Z\",\n  \"_updated_at\": \"2024-03-01T00:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/seller/#integracion","title":"\ud83d\udd04 Integraci\u00f3n","text":""},{"location":"data-loading/master-data/seller/#metodo-por-archivo","title":"M\u00e9todo por Archivo","text":"<p>Los vendedores se cargan en archivos CSV con las columnas correspondientes:</p> <pre><code>seller_id,route_id,full_name,status,email,phone,channel,attributes,created_at,updated_at,_created_at,_updated_at\nSELLER_001,R001,Juan P\u00e9rez,active,juan.perez@cpg.com,+56912345678,salesman,\"\",2024-01-01T00:00:00Z,2024-01-01T00:00:00Z,2024-01-01T00:00:00Z,2024-01-01T00:00:00Z\nSELLER_002,V123,Mar\u00eda Gonz\u00e1lez,active,maria.gonzalez@cpg.com,+56987654321,supervisor,\"\",2024-01-01T00:00:00Z,2024-01-01T00:00:00Z,2024-01-01T00:00:00Z,2024-01-01T00:00:00Z\n</code></pre>"},{"location":"data-loading/master-data/seller/#metodo-por-base-de-datos","title":"M\u00e9todo por Base de Datos","text":"<p>Los vendedores se consultan desde una tabla con la estructura correspondiente:</p> <pre><code>SELECT\n    seller_id,\n    route_id,\n    full_name,\n    status,\n    email,\n    phone,\n    channel,\n    attributes,\n    created_at,\n    updated_at,\n    _created_at,\n    _updated_at\nFROM sellers\nWHERE _updated_at &gt; '2024-01-15T00:00:00Z'\nORDER BY _updated_at ASC;\n</code></pre>"},{"location":"data-loading/master-data/transactions/","title":"Transacciones","text":"<p>Las transacciones representan las compras realizadas por los usuarios en el sistema. Esta entidad se divide en dos estructuras relacionadas para optimizar el procesamiento y almacenamiento de datos.</p>"},{"location":"data-loading/master-data/transactions/#entidades-relacionadas","title":"Entidades Relacionadas","text":"<p> Transacciones </p> <p>Contiene la informaci\u00f3n general de la transacci\u00f3n</p> <p> Items de Transacci\u00f3n </p> <p>Contiene los detalles de productos/items asociados a cada transacci\u00f3n</p> <pre><code>erDiagram\n    direction LR\n\n    %% Estilos personalizados para las entidades - bordes redondeados y solo relleno\n    classDef transactionClass fill:#e1f5fe,stroke:none,color:#000,rx:8,ry:8\n    classDef itemsClass fill:#f3e5f5,stroke:none,color:#000,rx:8,ry:8\n\n    %% Entidades simplificadas\n    Transacci\u00f3n {\n    }\n\n    Item {\n    }\n\n    %% Relaci\u00f3n con etiqueta descriptiva\n    Transacci\u00f3n ||--o{ Item : \"contiene (1:N)\"\n\n    %% Aplicar estilos\n    class Transacci\u00f3n transactionClass\n    class Item itemsClass</code></pre> <p>Una transacci\u00f3n puede tener m\u00faltiples items. Indicar los items de una transacci\u00f3n es opcional.</p>"},{"location":"data-loading/master-data/transactions/#estructura-de-datos","title":"Estructura de Datos","text":""},{"location":"data-loading/master-data/transactions/#transaccion","title":"Transacci\u00f3n","text":"<pre><code>{\n  // Identificadores (requeridos)\n  \"transaction_id\": \"string\",           // Identificador \u00fanico interno (not null)\n  \"order_id\": \"string\",                 // Identificador de la orden asociada (not null)\n  \"user_id\": \"string\",                  // Identificador del usuario (not null)\n\n  // Informaci\u00f3n b\u00e1sica\n  \"transaction_type\": \"string\",         // Tipo: order, invoice, credit_note, debit_note\n  \"status\": \"string\",                   // Estado: completed, cancelled, pending, rejected\n  \"currency\": \"string\",                 // Moneda: CLP, USD, EUR, etc\n\n  // Fechas relevantes\n  \"order_date\": \"timestamp\",            // Fecha de creaci\u00f3n de la orden (not null)\n  \"transaction_date\": \"timestamp\",      // Fecha de la transacci\u00f3n (not null)\n  \"approval_date\": \"timestamp\",         // Fecha de aprobaci\u00f3n (opcional)\n  \"rejection_date\": \"timestamp\",        // Fecha de rechazo (opcional)\n  \"cancellation_date\": \"timestamp\",     // Fecha de cancelaci\u00f3n (opcional)\n\n  // Origen y atribuci\u00f3n (aplanada)\n  \"origin_channel\": \"string\",           // Canal: web, app, marketplace, pos, call_center, whatsapp\n  \"origin_platform\": \"string\",          // Plataforma: website, android_app, ios_app, mercadolibre, genesys\n  \"attribution_type\": \"string\",         // Tipo: seller, agent, self_service\n  \"attribution_entity_id\": \"string\",    // ID de la entidad atribuida (seller_id, agent_id)\n\n  // Precios y totales (aplanados)\n  \"pricing_net_amount\": \"number\",       // Monto neto base (not null - requerido)\n  \"pricing_discount_amount\": \"number\",  // Monto total de descuentos aplicados (opcional)\n  \"pricing_tax_amount\": \"number\",       // Monto de impuestos calculados (opcional)\n  \"pricing_shipping_amount\": \"number\",  // Costo de env\u00edo (opcional)\n  \"pricing_final_amount\": \"number\",     // Monto final total (opcional)\n\n  // Direcciones (aplanadas)\n  \"shipping_name\": \"string\",            // Nombre del destinatario para env\u00edo\n  \"shipping_street\": \"string\",          // Calle de env\u00edo\n  \"shipping_number\": \"string\",          // N\u00famero de env\u00edo\n  \"shipping_dept_number\": \"string\",     // N\u00famero de departamento de env\u00edo\n  \"shipping_city\": \"string\",            // Ciudad de env\u00edo\n  \"shipping_commune\": \"string\",         // Comuna de env\u00edo\n  \"shipping_region\": \"string\",          // Regi\u00f3n de env\u00edo\n  \"shipping_lat\": \"string\",             // Latitud de env\u00edo\n  \"shipping_long\": \"string\",            // Longitud de env\u00edo\n\n  \"billing_name\": \"string\",             // Nombre para facturaci\u00f3n\n  \"billing_street\": \"string\",           // Calle de facturaci\u00f3n\n  \"billing_number\": \"string\",           // N\u00famero de facturaci\u00f3n\n  \"billing_dept_number\": \"string\",      // N\u00famero de departamento de facturaci\u00f3n\n  \"billing_city\": \"string\",             // Ciudad de facturaci\u00f3n\n  \"billing_commune\": \"string\",          // Comuna de facturaci\u00f3n\n  \"billing_region\": \"string\",           // Regi\u00f3n de facturaci\u00f3n\n  \"billing_lat\": \"string\",              // Latitud de facturaci\u00f3n\n  \"billing_long\": \"string\",             // Longitud de facturaci\u00f3n\n\n  // Cupones (aplanados)\n  \"coupon_id\": \"string\",                // ID del cup\u00f3n aplicado\n  \"coupon_code\": \"string\",              // C\u00f3digo del cup\u00f3n aplicado\n  \"coupon_discount_value\": \"number\",    // Valor del descuento del cup\u00f3n\n  \"coupon_type\": \"string\",              // Tipo de cup\u00f3n: percentage, fixed\n\n  // Metadatos\n  \"notes\": \"string\",                    // Notas adicionales\n  \"tags\": \"string\",                     // Etiquetas separadas por comas (tag1,tag2,tag3)\n\n  // Informaci\u00f3n de pago\n  \"payment_method\": \"string\",           // M\u00e9todo: credit_card, debit_card, cash, transfer, bank_transfer\n  \"payment_provider\": \"string\",         // Proveedor: transbank, mercadopago, paypal, etc\n  \"payment_reference\": \"string\",        // Referencia o n\u00famero de autorizaci\u00f3n\n  \"payment_installments\": \"number\",     // N\u00famero de cuotas (opcional)\n  \"payment_status\": \"string\",           // Estado del pago: paid, pending, failed, refunded\n  \"payment_date\": \"timestamp\",          // Fecha del pago\n  \"payment_card_type\": \"string\",        // Tipo de tarjeta: credit, debit\n  \"payment_card_brand\": \"string\",       // Marca: visa, mastercard, amex, etc\n  \"payment_card_last_digits\": \"string\", // \u00daltimos 4 d\u00edgitos\n  \"payment_card_holder_name\": \"string\", // Nombre del titular\n\n\n  // Atributos personalizados - Cualquier columna no definida en el modelo se almacenar\u00e1 aqu\u00ed\n  \"attributes\": [\n    {\n      \"key\": \"string\",        // Nombre del atributo personalizado\n      \"value\": \"string\",      // Valor del atributo\n      \"type\": \"string\"        // Tipo de dato: string, number, date, boolean\n    }\n  ],\n\n  // Marcas temporales del sistema origen\n  \"created_at\": \"timestamp\",            // Fecha de creaci\u00f3n en sistema cliente (not null)\n  \"updated_at\": \"timestamp\",            // Fecha de actualizaci\u00f3n en sistema cliente\n\n  // Marcas temporales de sincronizaci\u00f3n con Reten\n  \"_created_at\": \"timestamp\",           // Fecha de creaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten\n  \"_updated_at\": \"timestamp\"            // Fecha de \u00faltima actualizaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten\n}\n</code></pre>"},{"location":"data-loading/master-data/transactions/#item","title":"Item","text":"<pre><code>{\n  // Identificadores\n  \"transaction_id\": \"string\",       // ID de la transacci\u00f3n padre (not null)\n  \"product_id\": \"string\",           // ID del producto (not null)\n  \"item_id\": \"string\",              // ID \u00fanico del item dentro de la transacci\u00f3n (not null)\n\n  // Informaci\u00f3n del producto\n  \"display_name\": \"string\",         // Nombre del producto para mostrar\n  \"slug\": \"string\",                 // Slug/URL del producto\n  \"category_id\": \"string\",          // ID de la categor\u00eda del producto\n  \"category_name\": \"string\",        // Nombre de la categor\u00eda del producto\n  \"sku\": \"string\",                  // SKU del producto\n  \"gtin\": \"string\",                 // GTIN/EAN del producto\n  \"brand\": \"string\",                // Marca del producto\n\n  // Cantidad y precios\n  \"quantity\": \"number\",             // Cantidad del producto (not null)\n  \"pricing_net_amount\": \"number\",   // Monto neto base del item (not null - requerido)\n  \"pricing_discount_amount\": \"number\", // Monto de descuento del item (opcional)\n  \"pricing_tax_amount\": \"number\",   // Monto de impuestos del item (opcional)\n  \"pricing_shipping_amount\": \"number\", // Costo de env\u00edo del item (opcional)\n  \"pricing_final_amount\": \"number\", // Monto final del item (opcional)\n\n  // Cupones aplicados al item\n  \"coupon_id\": \"string\",            // ID del cup\u00f3n aplicado al item\n  \"coupon_code\": \"string\",          // C\u00f3digo del cup\u00f3n aplicado al item\n  \"coupon_discount_value\": \"number\", // Valor del descuento del cup\u00f3n\n  \"coupon_type\": \"string\",          // Tipo de cup\u00f3n: percentage, fixed\n\n  // Atributos personalizados - Cualquier columna no definida en el modelo se almacenar\u00e1 aqu\u00ed\n  \"attributes\": [\n    {\n      \"key\": \"string\",        // Nombre del atributo personalizado\n      \"value\": \"string\",      // Valor del atributo\n      \"type\": \"string\"        // Tipo de dato: string, number, date, boolean\n    }\n  ],\n\n  // Marcas temporales del sistema origen\n  \"created_at\": \"timestamp\",            // Fecha de creaci\u00f3n en sistema cliente (not null)\n  \"updated_at\": \"timestamp\",            // Fecha de actualizaci\u00f3n en sistema cliente\n\n  // Marcas temporales de sincronizaci\u00f3n con Reten\n  \"_created_at\": \"timestamp\",           // Fecha de creaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten\n  \"_updated_at\": \"timestamp\"            // Fecha de \u00faltima actualizaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten\n}\n</code></pre>"},{"location":"data-loading/master-data/transactions/#campos-de-pricing","title":"Campos de Pricing","text":""},{"location":"data-loading/master-data/transactions/#transaccion_1","title":"Transacci\u00f3n","text":"<p>Los campos de pricing siguen un orden l\u00f3gico que refleja c\u00f3mo se calcula el precio final de una transacci\u00f3n:</p> Campo Requerido Descripci\u00f3n Ejemplo <code>pricing_net_amount</code> \u2705 S\u00ed Monto base neto antes de descuentos, impuestos o env\u00edo <code>100.00</code> <code>pricing_discount_amount</code> \u274c No Total de descuentos aplicados al monto neto <code>20.00</code> <code>pricing_tax_amount</code> \u274c No Impuestos calculados sobre el monto neto menos descuentos <code>16.00</code> <code>pricing_shipping_amount</code> \u274c No Costo de env\u00edo de la transacci\u00f3n completa <code>10.00</code> <code>pricing_final_amount</code> \u274c No Monto total final que paga el cliente <code>106.00</code>"},{"location":"data-loading/master-data/transactions/#flujo-de-calculo-logico","title":"Flujo de C\u00e1lculo L\u00f3gico:","text":"<ol> <li>Monto Neto Base (<code>pricing_net_amount</code>): Es el precio base de los productos/servicios</li> <li>Aplicar Descuentos (<code>pricing_discount_amount</code>): Se restan del monto neto</li> <li>Calcular Impuestos (<code>pricing_tax_amount</code>): Se calculan sobre (neto - descuentos)</li> <li>Agregar Env\u00edo (<code>pricing_shipping_amount</code>): Costo adicional de entrega</li> <li>Monto Final (<code>pricing_final_amount</code>): Suma total que incluye todos los componentes</li> </ol>"},{"location":"data-loading/master-data/transactions/#ejemplo-de-calculo","title":"Ejemplo de C\u00e1lculo:","text":"<pre><code>Monto Neto: $100.00\n- Descuento: $20.00\n= Subtotal: $80.00\n+ Impuestos (20%): $16.00\n+ Env\u00edo: $10.00\n= Total Final: $106.00\n</code></pre>"},{"location":"data-loading/master-data/transactions/#items-de-transaccion","title":"Items de Transacci\u00f3n","text":"<p>Los campos de pricing para items individuales siguen la misma l\u00f3gica pero aplicados a cada producto:</p> Campo Requerido Descripci\u00f3n Ejemplo <code>pricing_net_amount</code> \u2705 S\u00ed Precio base neto del producto individual <code>50.00</code> <code>pricing_discount_amount</code> \u274c No Descuento aplicado espec\u00edficamente a este item <code>10.00</code> <code>pricing_tax_amount</code> \u274c No Impuestos del producto (calculados sobre neto - descuento) <code>8.00</code> <code>pricing_shipping_amount</code> \u274c No Costo de env\u00edo proporcional para este item <code>2.00</code> <code>pricing_final_amount</code> \u274c No Precio final del item individual <code>50.00</code>"},{"location":"data-loading/master-data/transactions/#consideraciones-para-items","title":"Consideraciones para Items:","text":"<ul> <li>Los montos de items NO se suman autom\u00e1ticamente para obtener los totales de transacci\u00f3n</li> <li>El total de transacci\u00f3n se calcula por separado y puede incluir descuentos globales</li> <li>Los impuestos de items pueden calcularse de forma individual o agregada</li> <li>El env\u00edo puede distribuirse entre items o calcularse a nivel de transacci\u00f3n</li> </ul>"},{"location":"data-loading/master-data/transactions/#reglas-generales-de-pricing","title":"Reglas Generales de Pricing","text":""},{"location":"data-loading/master-data/transactions/#consistencia-de-datos","title":"Consistencia de Datos:","text":"<ul> <li>Si se informa <code>pricing_final_amount</code>, debe ser consistente con los dem\u00e1s campos</li> <li>Los descuentos siempre deben ser valores positivos</li> <li>Los montos pueden ser cero pero nunca negativos (excepto descuentos)</li> </ul>"},{"location":"data-loading/master-data/transactions/#campos-opcionales","title":"Campos Opcionales:","text":"<ul> <li>Enviar todos los campos que conozcas: Mayor informaci\u00f3n = mejor an\u00e1lisis</li> <li>M\u00ednimo requerido: Solo <code>pricing_net_amount</code></li> <li>Campos complementarios: Ayudan a entender mejor la estructura de precios</li> </ul>"},{"location":"data-loading/master-data/transactions/#manejo-de-casos-especiales","title":"Manejo de Casos Especiales:","text":"<ul> <li>Productos gratis: <code>pricing_net_amount: 0</code></li> <li>Descuentos 100%: <code>pricing_discount_amount = pricing_net_amount</code></li> <li>Sin impuestos: <code>pricing_tax_amount: 0</code> o no enviar</li> <li>Env\u00edo gratuito: <code>pricing_shipping_amount: 0</code> o no enviar</li> </ul>"},{"location":"data-loading/master-data/transactions/#estados-validos","title":"Estados V\u00e1lidos","text":""},{"location":"data-loading/master-data/transactions/#estado-de-transaccion","title":"Estado de Transacci\u00f3n","text":"<ul> <li><code>completed</code>: Transacci\u00f3n completada</li> <li><code>cancelled</code>: Transacci\u00f3n cancelada</li> <li><code>pending</code>: Pendiente de confirmaci\u00f3n</li> <li><code>rejected</code>: Transacci\u00f3n rechazada</li> </ul>"},{"location":"data-loading/master-data/transactions/#estado-de-pago","title":"Estado de Pago","text":"<ul> <li><code>paid</code>: Pago completado</li> <li><code>pending</code>: Pago pendiente</li> <li><code>failed</code>: Pago fallido</li> <li><code>refunded</code>: Pago reembolsado</li> </ul>"},{"location":"data-loading/master-data/transactions/#tipo-de-transaccion","title":"Tipo de Transacci\u00f3n","text":"<ul> <li><code>order</code>: Orden de compra</li> <li><code>invoice</code>: Factura</li> <li><code>credit_note</code>: Nota de cr\u00e9dito</li> <li><code>debit_note</code>: Nota de d\u00e9bito</li> </ul>"},{"location":"data-loading/master-data/transactions/#metodo-de-pago","title":"M\u00e9todo de Pago","text":"<ul> <li><code>credit_card</code>: Tarjeta de cr\u00e9dito</li> <li><code>debit_card</code>: Tarjeta de d\u00e9bito</li> <li><code>cash</code>: Efectivo</li> <li><code>transfer</code>: Transferencia bancaria</li> <li><code>bank_transfer</code>: Transferencia bancaria</li> <li><code>check</code>: Cheque</li> </ul>"},{"location":"data-loading/master-data/transactions/#validaciones","title":"Validaciones","text":""},{"location":"data-loading/master-data/transactions/#identificadores","title":"Identificadores","text":"<ul> <li><code>transaction_id</code> debe ser \u00fanico en todo el sistema</li> <li><code>user_id</code> debe corresponder a un usuario existente</li> <li><code>attribution_entity_id</code> debe existir si <code>attribution_type</code> no es <code>self_service</code></li> </ul>"},{"location":"data-loading/master-data/transactions/#origen","title":"Origen","text":"<ul> <li><code>origin_channel</code> debe ser uno de: <code>web</code>, <code>app</code>, <code>marketplace</code>, <code>pos</code>, <code>call_center</code>, <code>whatsapp</code></li> <li><code>origin_platform</code> debe ser consistente con el canal seleccionado</li> </ul>"},{"location":"data-loading/master-data/transactions/#atribucion","title":"Atribuci\u00f3n","text":"<ul> <li><code>attribution_type</code> debe ser uno de: <code>seller</code>, <code>agent</code>, <code>self_service</code></li> <li><code>attribution_entity_id</code> debe estar presente si <code>attribution_type</code> no es <code>self_service</code></li> </ul>"},{"location":"data-loading/master-data/transactions/#fechas","title":"Fechas","text":"<ul> <li><code>created_at</code> no puede ser posterior a <code>updated_at</code></li> <li><code>order_date</code> debe ser anterior o igual a <code>transaction_date</code></li> <li><code>_created_at</code> y <code>_updated_at</code> son timestamps de sincronizaci\u00f3n con Reten</li> </ul>"},{"location":"data-loading/master-data/transactions/#items-transaction-items","title":"Items (Transaction Items)","text":"<ul> <li>Los items son opcionales (cliente puede no informar items)</li> <li>Si se informan items, <code>product_id</code> debe existir en el cat\u00e1logo</li> <li><code>quantity</code> debe ser positivo</li> <li><code>pricing_net_amount</code> es requerido para cada item</li> </ul>"},{"location":"data-loading/master-data/transactions/#precios","title":"Precios","text":"<ul> <li><code>pricing_net_amount</code> es el campo obligatorio b\u00e1sico</li> <li>Si se especifican otros campos de precio, deben ser consistentes</li> <li>Los descuentos deben ser positivos cuando se apliquen</li> </ul>"},{"location":"data-loading/master-data/transactions/#atributos-personalizados","title":"Atributos Personalizados","text":"<p>Importante: El campo <code>attributes</code> NO es enviado por el cliente. Reten lo construye autom\u00e1ticamente durante el proceso de carga de datos, extrayendo todas las columnas adicionales que vengan en la base de datos o archivo CSV y que no est\u00e9n definidas en el modelo est\u00e1ndar de transacciones.</p>"},{"location":"data-loading/master-data/transactions/#como-funciona","title":"C\u00f3mo Funciona:","text":"<ol> <li>Cliente env\u00eda datos con columnas adicionales (ej: <code>campaign_id</code>, <code>priority_level</code>, <code>custom_field</code>)</li> <li>Reten detecta autom\u00e1ticamente las columnas no mapeadas al modelo</li> <li>Reten construye el campo <code>attributes</code> con estas columnas adicionales</li> <li>Se almacena como array de objetos con <code>key</code>, <code>value</code> y <code>type</code> inferido</li> </ol>"},{"location":"data-loading/master-data/transactions/#casos-de-uso-comunes","title":"Casos de Uso Comunes:","text":"<ul> <li>Campos espec\u00edficos del cliente: Informaci\u00f3n particular de cada negocio</li> <li>Metadatos de integraci\u00f3n: Datos del sistema origen que no tienen equivalente en Reten</li> <li>Atributos de negocio: Campos espec\u00edficos de la industria o empresa</li> <li>Configuraciones personalizadas: Par\u00e1metros \u00fanicos del cliente</li> </ul>"},{"location":"data-loading/master-data/transactions/#formato-del-campo-construido-por-reten","title":"Formato del Campo (Construido por Reten):","text":"<pre><code>\"attributes\": [\n  {\n    \"key\": \"campaign_id\",\n    \"value\": \"SUMMER2024\",\n    \"type\": \"string\"\n  },\n  {\n    \"key\": \"priority_level\",\n    \"value\": \"5\",\n    \"type\": \"number\"\n  },\n  {\n    \"key\": \"custom_field\",\n    \"value\": \"valor_personalizado\",\n    \"type\": \"string\"\n  }\n]\n</code></pre>"},{"location":"data-loading/master-data/transactions/#tipos-de-datos-soportados","title":"Tipos de Datos Soportados:","text":"<ul> <li><code>string</code>: Texto libre</li> <li><code>number</code>: N\u00fameros enteros o decimales</li> <li><code>date</code>: Fechas en formato ISO 8601</li> <li><code>boolean</code>: Valores true/false</li> </ul>"},{"location":"data-loading/master-data/transactions/#ventajas","title":"Ventajas:","text":"<ul> <li>Flexibilidad total para adaptarse a cualquier modelo de datos</li> <li>Extensibilidad sin modificar el esquema principal</li> <li>Compatibilidad con sistemas legacy o personalizados</li> <li>Escalabilidad para futuras necesidades del negocio</li> <li>Procesamiento autom\u00e1tico sin intervenci\u00f3n del cliente</li> </ul>"},{"location":"data-loading/master-data/transactions/#ejemplos","title":"Ejemplos","text":""},{"location":"data-loading/master-data/transactions/#ejemplo-base-transaccion-completa-transaction","title":"Ejemplo Base (Transacci\u00f3n Completa) - Transaction","text":"<pre><code>{\n  \"transaction_id\": \"TRX_001\",\n  \"order_id\": \"ORDER_001\",\n  \"user_id\": \"CLIENT_123\",\n\n  \"transaction_type\": \"order\",\n  \"status\": \"completed\",\n  \"currency\": \"CLP\",\n\n  \"payment_method\": \"credit_card\",\n  \"payment_provider\": \"transbank\",\n  \"payment_reference\": \"1234567890\",\n  \"payment_installments\": 1,\n  \"payment_status\": \"paid\",\n  \"payment_date\": \"2024-03-19T10:00:00Z\",\n  \"payment_card_type\": \"credit\",\n  \"payment_card_brand\": \"visa\",\n  \"payment_card_last_digits\": \"1234\",\n  \"payment_card_holder_name\": \"Juan P\u00e9rez\",\n\n  \"order_date\": \"2024-03-19T09:45:00Z\",\n  \"transaction_date\": \"2024-03-19T10:00:00Z\",\n  \"approval_date\": \"2024-03-19T10:00:00Z\",\n\n  \"origin_channel\": \"web\",\n  \"origin_platform\": \"website\",\n  \"attribution_type\": \"seller\",\n  \"attribution_entity_id\": \"SELLER_456\",\n\n  \"pricing_net_amount\": 200.00,\n  \"pricing_discount_amount\": 0,\n  \"pricing_tax_amount\": 38.00,\n  \"pricing_shipping_amount\": 0,\n  \"pricing_final_amount\": 238.00,\n\n  \"shipping_name\": \"Juan P\u00e9rez\",\n  \"shipping_street\": \"Av. Principal\",\n  \"shipping_number\": \"123\",\n  \"shipping_city\": \"Santiago\",\n  \"shipping_commune\": \"Las Condes\",\n  \"shipping_region\": \"Metropolitana\",\n  \"shipping_lat\": \"-33.4513\",\n  \"shipping_long\": \"-70.5947\",\n\n  \"billing_name\": \"Juan P\u00e9rez\",\n  \"billing_street\": \"Av. Principal\",\n  \"billing_number\": \"123\",\n  \"billing_city\": \"Santiago\",\n  \"billing_commune\": \"Las Condes\",\n  \"billing_region\": \"Metropolitana\",\n  \"billing_lat\": \"-33.4513\",\n  \"billing_long\": \"-70.5947\",\n\n  \"notes\": \"\",\n  \"tags\": \"\",\n  \"attributes\": [\n    {\n      \"key\": \"custom_attribute\",\n      \"value\": \"value1\",\n      \"type\": \"string\"\n    }\n  ],\n\n  \"created_at\": \"2024-03-19T10:00:00Z\",\n  \"updated_at\": \"2024-03-19T10:00:00Z\",\n  \"_created_at\": \"2024-03-19T10:00:00Z\",\n  \"_updated_at\": \"2024-03-19T10:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/transactions/#ejemplo-transaction-items","title":"Ejemplo - Transaction Items","text":"<pre><code>{\n  \"transaction_id\": \"TRX_001\",\n  \"product_id\": \"PROD_789\",\n  \"item_id\": \"ITEM_001\",\n\n  \"display_name\": \"Producto A\",\n  \"slug\": \"producto-a\",\n  \"category_id\": \"CAT_001\",\n  \"category_name\": \"Electr\u00f3nicos\",\n  \"sku\": \"SKU123\",\n  \"brand\": \"Marca A\",\n\n  \"quantity\": 2,\n  \"pricing_net_amount\": 200.00,\n  \"pricing_discount_amount\": 0,\n  \"pricing_tax_amount\": 0,\n  \"pricing_shipping_amount\": 0,\n  \"pricing_final_amount\": 200.00,\n\n  \"attributes\": [\n    {\n      \"key\": \"custom_item_attribute\",\n      \"value\": \"value1\",\n      \"type\": \"string\"\n    }\n  ]\n}\n</code></pre>"},{"location":"data-loading/master-data/transactions/#ejemplos-de-casos-especificos","title":"Ejemplos de Casos Espec\u00edficos","text":""},{"location":"data-loading/master-data/transactions/#transaccion-con-descuento-por-cupon-transaction","title":"Transacci\u00f3n con Descuento por Cup\u00f3n - Transaction","text":"<pre><code>{\n  \"transaction_id\": \"TRX_002\",\n  \"order_id\": \"ORDER_002\",\n  \"user_id\": \"CLIENT_123\",\n\n  \"transaction_type\": \"order\",\n  \"status\": \"completed\",\n  \"currency\": \"CLP\",\n\n  \"payment_method\": \"cash\",\n  \"payment_provider\": \"store\",\n  \"payment_reference\": \"STORE_001\",\n  \"payment_status\": \"paid\",\n  \"payment_date\": \"2024-03-19T11:00:00Z\",\n\n  \"order_date\": \"2024-03-19T10:45:00Z\",\n  \"transaction_date\": \"2024-03-19T11:00:00Z\",\n  \"approval_date\": \"2024-03-19T11:00:00Z\",\n\n  \"origin_channel\": \"pos\",\n  \"origin_platform\": \"store\",\n  \"attribution_type\": \"seller\",\n  \"attribution_entity_id\": \"SELLER_789\",\n\n  \"pricing_net_amount\": 100.00,\n  \"pricing_discount_amount\": 20.00,\n  \"pricing_tax_amount\": 15.20,\n  \"pricing_shipping_amount\": 0,\n  \"pricing_final_amount\": 95.20,\n\n  \"coupon_id\": \"COUPON_001\",\n  \"coupon_code\": \"SUMMER20\",\n  \"coupon_discount_value\": 20.00,\n  \"coupon_type\": \"percentage\",\n\n  \"attributes\": [\n    {\n      \"key\": \"custom_transaction_attribute\",\n      \"value\": \"value1\",\n      \"type\": \"string\"\n    }\n  ],\n\n  \"created_at\": \"2024-03-19T11:00:00Z\",\n  \"updated_at\": \"2024-03-19T11:00:00Z\",\n  \"_created_at\": \"2024-03-19T11:00:00Z\",\n  \"_updated_at\": \"2024-03-19T11:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/transactions/#transaccion-con-descuento-por-cupon-transaction-items","title":"Transacci\u00f3n con Descuento por Cup\u00f3n - Transaction Items","text":"<pre><code>{\n  \"transaction_id\": \"TRX_002\",\n  \"product_id\": \"PROD_789\",\n  \"item_id\": \"ITEM_002\",\n\n  \"display_name\": \"Producto A\",\n  \"slug\": \"producto-a\",\n  \"category_id\": \"CAT_001\",\n  \"category_name\": \"Electr\u00f3nicos\",\n  \"sku\": \"SKU123\",\n  \"brand\": \"Marca A\",\n\n  \"quantity\": 1,\n  \"pricing_net_amount\": 100.00,\n  \"pricing_discount_amount\": 20.00,\n  \"pricing_tax_amount\": 12.16,\n  \"pricing_shipping_amount\": 0,\n  \"pricing_final_amount\": 80.00,\n\n  \"coupon_id\": \"COUPON_001\",\n  \"coupon_code\": \"SUMMER20\",\n  \"coupon_discount_value\": 20.00,\n  \"coupon_type\": \"percentage\",\n\n  \"attributes\": [\n    {\n      \"key\": \"custom_item_attribute\",\n      \"value\": \"value1\",\n      \"type\": \"string\"\n    }\n  ]\n}\n</code></pre>"},{"location":"data-loading/master-data/transactions/#integracion","title":"\ud83d\udd04 Integraci\u00f3n","text":""},{"location":"data-loading/master-data/transactions/#metodo-por-archivo","title":"M\u00e9todo por Archivo","text":""},{"location":"data-loading/master-data/transactions/#archivo-de-transacciones","title":"Archivo de Transacciones","text":"<p>Las transacciones se cargan en archivos CSV con todas las columnas:</p> <pre><code>transaction_id,order_id,user_id,transaction_type,status,currency,payment_method,payment_provider,payment_reference,payment_installments,payment_status,payment_date,payment_card_type,payment_card_brand,payment_card_last_digits,payment_card_holder_name,order_date,transaction_date,approval_date,rejection_date,cancellation_date,origin_channel,origin_platform,attribution_type,attribution_entity_id,pricing_net_amount,pricing_discount_amount,pricing_tax_amount,pricing_shipping_amount,pricing_final_amount,shipping_name,shipping_street,shipping_number,shipping_dept_number,shipping_city,shipping_commune,shipping_region,shipping_lat,shipping_long,billing_name,billing_street,billing_number,billing_dept_number,billing_city,billing_commune,billing_region,billing_lat,billing_long,coupon_id,coupon_code,coupon_discount_value,coupon_type,notes,tags,attributes,created_at,updated_at,_created_at,_updated_at\nTRX_001,ORDER_001,CLIENT_123,order,completed,CLP,credit_card,transbank,1234567890,1,paid,2024-03-19T10:00:00Z,credit,visa,1234,Juan P\u00e9rez,2024-03-19T09:45:00Z,2024-03-19T10:00:00Z,2024-03-19T10:00:00Z,,,,web,website,seller,SELLER_456,200.00,0,38.00,0,238.00,Juan P\u00e9rez,Av. Principal,123,,Santiago,Las Condes,Metropolitana,-33.4513,-70.5947,Juan P\u00e9rez,Av. Principal,123,,Santiago,Las Condes,Metropolitana,-33.4513,-70.5947,,,,,,,,,2024-03-19T10:00:00Z,2024-03-19T10:00:00Z,2024-03-19T10:00:00Z,2024-03-19T10:00:00Z\nTRX_002,ORDER_002,CLIENT_124,order,pending,CLP,bank_transfer,banco_chile,TRANSFER_001,,pending,2024-03-19T11:00:00Z,,,,,2024-03-19T10:45:00Z,2024-03-19T11:00:00Z,,,,,,,,100.00,20.00,15.20,0,95.20,,,,,,,,,,,,COUPON_001,SUMMER20,20.00,percentage,,,2024-03-19T11:00:00Z,2024-03-19T11:00:00Z,2024-03-19T11:00:00Z,2024-03-19T11:00:00Z\n</code></pre>"},{"location":"data-loading/master-data/transactions/#archivo-de-transaction-items","title":"Archivo de Transaction Items","text":"<p>Los items se cargan en un archivo separado:</p> <pre><code>transaction_id,product_id,item_id,display_name,slug,category_id,category_name,sku,gtin,brand,quantity,pricing_net_amount,pricing_discount_amount,pricing_tax_amount,pricing_shipping_amount,pricing_final_amount,coupon_id,coupon_code,coupon_discount_value,coupon_type,attributes\nTRX_001,PROD_789,ITEM_001,Producto A,producto-a,CAT_001,Electr\u00f3nicos,SKU123,,Marca A,2,200.00,0,0,0,200.00,,,,\nTRX_002,PROD_790,ITEM_002,Producto B,producto-b,CAT_002,Hogar,SKU456,,Marca B,1,100.00,20.00,12.16,0,80.00,COUPON_001,SUMMER20,20.00,percentage,\n</code></pre>"},{"location":"data-loading/master-data/transactions/#metodo-por-base-de-datos","title":"M\u00e9todo por Base de Datos","text":""},{"location":"data-loading/master-data/transactions/#tabla-de-transacciones","title":"Tabla de Transacciones","text":"<pre><code>CREATE TABLE transactions (\n    transaction_id VARCHAR(255) PRIMARY KEY,\n    order_id VARCHAR(255) NOT NULL,\n    user_id VARCHAR(255) NOT NULL,\n    transaction_type VARCHAR(50),\n    status VARCHAR(50) NOT NULL,\n    currency VARCHAR(10) NOT NULL,\n    payment_method VARCHAR(50),\n    payment_provider VARCHAR(100),\n    payment_reference VARCHAR(255),\n    payment_installments INTEGER,\n    payment_status VARCHAR(50),\n    payment_date TIMESTAMP,\n    payment_card_type VARCHAR(50),\n    payment_card_brand VARCHAR(50),\n    payment_card_last_digits VARCHAR(10),\n    payment_card_holder_name VARCHAR(255),\n    order_date TIMESTAMP NOT NULL,\n    transaction_date TIMESTAMP NOT NULL,\n    approval_date TIMESTAMP,\n    rejection_date TIMESTAMP,\n    cancellation_date TIMESTAMP,\n    origin_channel VARCHAR(50),\n    origin_platform VARCHAR(100),\n    attribution_type VARCHAR(50),\n    attribution_entity_id VARCHAR(255),\n    pricing_net_amount DECIMAL(15,2) NOT NULL,\n    pricing_discount_amount DECIMAL(15,2),\n    pricing_tax_amount DECIMAL(15,2),\n    pricing_shipping_amount DECIMAL(15,2),\n    pricing_final_amount DECIMAL(15,2),\n    shipping_name VARCHAR(255),\n    shipping_street VARCHAR(255),\n    shipping_number VARCHAR(50),\n    shipping_dept_number VARCHAR(50),\n    shipping_city VARCHAR(100),\n    shipping_commune VARCHAR(100),\n    shipping_region VARCHAR(100),\n    shipping_lat VARCHAR(20),\n    shipping_long VARCHAR(20),\n    billing_name VARCHAR(255),\n    billing_street VARCHAR(255),\n    billing_number VARCHAR(50),\n    billing_dept_number VARCHAR(50),\n    billing_city VARCHAR(100),\n    billing_commune VARCHAR(100),\n    billing_region VARCHAR(100),\n    billing_lat VARCHAR(20),\n    billing_long VARCHAR(20),\n    coupon_id VARCHAR(255),\n    coupon_code VARCHAR(100),\n    coupon_discount_value DECIMAL(15,2),\n    coupon_type VARCHAR(50),\n    notes TEXT,\n    tags VARCHAR(1000),\n    attributes JSON,\n    created_at TIMESTAMP NOT NULL,\n    updated_at TIMESTAMP,\n    _created_at TIMESTAMP,\n    _updated_at TIMESTAMP,\n    INDEX idx_updated_at (updated_at),\n    INDEX idx_user_id (user_id),\n    INDEX idx_transaction_date (transaction_date)\n);\n</code></pre>"},{"location":"data-loading/master-data/transactions/#tabla-de-transaction-items","title":"Tabla de Transaction Items","text":"<pre><code>CREATE TABLE transaction_items (\n    transaction_id VARCHAR(255) NOT NULL,\n    product_id VARCHAR(255) NOT NULL,\n    item_id VARCHAR(255) NOT NULL,\n    display_name VARCHAR(255),\n    slug VARCHAR(255),\n    category_id VARCHAR(255),\n    category_name VARCHAR(255),\n    sku VARCHAR(100),\n    gtin VARCHAR(100),\n    brand VARCHAR(100),\n    quantity INTEGER NOT NULL,\n    pricing_net_amount DECIMAL(15,2) NOT NULL,\n    pricing_discount_amount DECIMAL(15,2),\n    pricing_tax_amount DECIMAL(15,2),\n    pricing_shipping_amount DECIMAL(15,2),\n    pricing_final_amount DECIMAL(15,2),\n    coupon_id VARCHAR(255),\n    coupon_code VARCHAR(100),\n    coupon_discount_value DECIMAL(15,2),\n    coupon_type VARCHAR(50),\n    attributes JSON,\n    PRIMARY KEY (transaction_id, item_id),\n    FOREIGN KEY (transaction_id) REFERENCES transactions(transaction_id),\n    INDEX idx_product_id (product_id),\n    INDEX idx_category_id (category_id)\n);\n</code></pre>"},{"location":"data-loading/master-data/transactions/#consulta-de-sincronizacion","title":"Consulta de Sincronizaci\u00f3n","text":"<pre><code>-- Consultar transacciones modificadas desde la \u00faltima sincronizaci\u00f3n\nSELECT * FROM transactions\nWHERE _updated_at &gt; :last_sync_timestamp\nORDER BY _updated_at ASC;\n\n-- Consultar items de transacciones modificadas\nSELECT ti.* FROM transaction_items ti\nJOIN transactions t ON ti.transaction_id = t.transaction_id\nWHERE t._updated_at &gt; :last_sync_timestamp\nORDER BY t._updated_at ASC, ti.item_id ASC;\n</code></pre>"},{"location":"data-loading/master-data/user/","title":"Usuarios","text":"<p>Los usuarios son los establecimientos, negocios o personas que interact\u00faan con la plataforma Reten. Esta entidad almacena toda la informaci\u00f3n relevante sobre los usuarios.</p>"},{"location":"data-loading/master-data/user/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  // Identificadores\n  \"user_id\": \"string\",           // Identificador principal (not null)\n  \"miscellaneous_id\": \"string\",  // ID externo adicional del usuario (opcional)\n\n  // Informaci\u00f3n b\u00e1sica\n  \"name\": \"string\",              // Nombre del usuario\n\n  // Clasificaci\u00f3n y categorizaci\u00f3n\n  \"channel\": \"string\",           // Canal del usuario (ej: \"ferretero\", \"retail\", \"mayorista\", \"b2b\", \"b2c\")\n  \"subchannel\": \"string\",        // Subcanal espec\u00edfico (ej: \"construccion\", \"industrial\", \"tienda\", \"online\")\n  \"category\": \"string\",          // Nivel de usuario (ej: \"oro\", \"plata\", \"bronce\")\n  \"subcategory\": \"string\",       // Prioridad (ej: \"prioritario\", \"normal\", \"bajo\")\n\n  // Informaci\u00f3n de contacto directa\n  \"email\": \"string\",             // Email principal del usuario\n  \"phone\": \"string\",             // Tel\u00e9fono principal del usuario\n  \"push_token\": \"string\",        // Identificador \u00fanico para notificaciones push (Firebase token, etc.)\n\n  // Ubicaci\u00f3n\n  \"country\": \"string\",           // Pa\u00eds del usuario\n\n  // Direcci\u00f3n principal (opcional)\n  \"address\": \"string\",           // Direcci\u00f3n completa como string\n\n  // Direcci\u00f3n desglosada (opcional)\n  \"address_street\": \"string\",    // Calle\n  \"address_number\": \"string\",    // N\u00famero\n  \"address_commune\": \"string\",   // Comuna\n  \"address_city\": \"string\",      // Ciudad\n  \"address_region\": \"string\",    // Regi\u00f3n\n  \"address_dept\": \"string\",      // Departamento/oficina\n\n  // Fechas relevantes\n  \"signup_at\": \"timestamp\",      // Fecha de registro (not null)\n  \"setup_at\": \"timestamp\",       // Fecha de configuraci\u00f3n final\n\n  // Marcas temporales\n  \"created_at\": \"timestamp\",     // Fecha de creaci\u00f3n en sistema usuario (not null)\n  \"updated_at\": \"timestamp\",     // Fecha de \u00faltima actualizaci\u00f3n en sistema usuario\n\n  // Atributos personalizados - Cualquier columna no definida en el modelo se almacenar\u00e1 aqu\u00ed\n  \"attributes\": [\n    {\n      \"key\": \"string\",        // Nombre del atributo personalizado\n      \"value\": \"string\",      // Valor del atributo\n      \"type\": \"string\"        // Tipo de dato: string, number, date, boolean\n    }\n  ],\n\n  // Marcas temporales de sincronizaci\u00f3n con Reten\n  \"_created_at\": \"timestamp\",           // Fecha de creaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten\n  \"_updated_at\": \"timestamp\"            // Fecha de \u00faltima actualizaci\u00f3n del registro en M\u00e9todo de Conexi\u00f3n con Reten\n}\n</code></pre>"},{"location":"data-loading/master-data/user/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-loading/master-data/user/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n user_id string S\u00ed Identificador \u00fanico en Reten miscellaneous_id string No ID externo adicional del usuario"},{"location":"data-loading/master-data/user/#informacion-basica","title":"Informaci\u00f3n B\u00e1sica","text":"Campo Tipo Requerido Descripci\u00f3n name string S\u00ed Nombre del usuario country string No Pa\u00eds donde opera el usuario"},{"location":"data-loading/master-data/user/#clasificacion-y-categorizacion","title":"Clasificaci\u00f3n y Categorizaci\u00f3n","text":"Campo Tipo Requerido Descripci\u00f3n channel string No Canal del usuario (ej: \"ferretero\", \"retail\", \"mayorista\", \"b2b\", \"b2c\") subchannel string No Subcanal espec\u00edfico (ej: \"construccion\", \"industrial\", \"tienda\", \"online\") category string No Categor\u00eda de usuario (ej: \"oro\", \"plata\", \"bronce\") subcategory string No Subcategor\u00eda de usuario (ej: \"prioritario\", \"normal\", \"bajo\")"},{"location":"data-loading/master-data/user/#informacion-de-contacto-directa","title":"Informaci\u00f3n de Contacto Directa","text":"Campo Tipo Requerido Descripci\u00f3n email string S\u00ed Email principal del usuario phone string S\u00ed Tel\u00e9fono principal del usuario push_token string No Identificador \u00fanico para notificaciones push (Firebase token, etc.)"},{"location":"data-loading/master-data/user/#direccion-principal","title":"Direcci\u00f3n Principal","text":"Campo Tipo Requerido Descripci\u00f3n address string No Direcci\u00f3n completa como string address_street string No Calle address_number string No N\u00famero address_commune string No Comuna address_city string No Ciudad address_region string No Regi\u00f3n address_dept string No Departamento/oficina"},{"location":"data-loading/master-data/user/#fechas-relevantes","title":"Fechas Relevantes","text":"Campo Tipo Requerido Descripci\u00f3n signup_at timestamp S\u00ed Fecha de registro inicial setup_at timestamp No Fecha de configuraci\u00f3n final"},{"location":"data-loading/master-data/user/#marcas-temporales","title":"Marcas Temporales","text":"Campo Tipo Requerido Descripci\u00f3n created_at timestamp S\u00ed Fecha de creaci\u00f3n en sistema usuario updated_at timestamp No \u00daltima actualizaci\u00f3n en sistema usuario"},{"location":"data-loading/master-data/user/#atributos-personalizados","title":"Atributos Personalizados","text":"<p>Importante: El campo <code>attributes</code> NO es enviado por el usuario. Reten lo construye autom\u00e1ticamente durante el proceso de carga de datos, extrayendo todas las columnas adicionales que vengan en la base de datos o archivo CSV y que no est\u00e9n definidas en el modelo est\u00e1ndar de usuarios.</p>"},{"location":"data-loading/master-data/user/#como-funciona","title":"C\u00f3mo Funciona:","text":"<ol> <li>Usuario env\u00eda datos con columnas adicionales (ej: <code>segment_id</code>, <code>credit_score</code>, <code>business_type</code>)</li> <li>Reten detecta autom\u00e1ticamente las columnas no mapeadas al modelo</li> <li>Reten construye el campo <code>attributes</code> con estas columnas adicionales</li> <li>Se almacena como array de objetos con <code>key</code>, <code>value</code> y <code>type</code> inferido</li> </ol>"},{"location":"data-loading/master-data/user/#casos-de-uso-comunes","title":"Casos de Uso Comunes:","text":"<ul> <li>Campos espec\u00edficos del usuario: Informaci\u00f3n particular de cada negocio</li> <li>Metadatos de integraci\u00f3n: Datos del sistema origen que no tienen equivalente en Reten</li> <li>Atributos de negocio: Campos espec\u00edficos de la industria o empresa</li> <li>Configuraciones personalizadas: Par\u00e1metros \u00fanicos del usuario</li> </ul>"},{"location":"data-loading/master-data/user/#formato-del-campo-construido-por-reten","title":"Formato del Campo (Construido por Reten):","text":"<pre><code>\"attributes\": [\n  {\n    \"key\": \"segment_id\",\n    \"value\": \"SEG_001\",\n    \"type\": \"string\"\n  },\n  {\n    \"key\": \"credit_score\",\n    \"value\": \"850\",\n    \"type\": \"number\"\n  },\n  {\n    \"key\": \"business_type\",\n    \"value\": \"retail\",\n    \"type\": \"string\"\n  }\n]\n</code></pre>"},{"location":"data-loading/master-data/user/#tipos-de-datos-soportados","title":"Tipos de Datos Soportados:","text":"<ul> <li><code>string</code>: Texto libre</li> <li><code>number</code>: N\u00fameros enteros o decimales</li> <li><code>date</code>: Fechas en formato ISO 8601</li> <li><code>boolean</code>: Valores true/false</li> </ul>"},{"location":"data-loading/master-data/user/#ventajas","title":"Ventajas:","text":"<ul> <li>Flexibilidad total para adaptarse a cualquier modelo de datos</li> <li>Extensibilidad sin modificar el esquema principal</li> <li>Compatibilidad con sistemas legacy o personalizados</li> <li>Escalabilidad para futuras necesidades del negocio</li> <li>Procesamiento autom\u00e1tico sin intervenci\u00f3n del usuario</li> </ul>"},{"location":"data-loading/master-data/user/#validaciones","title":"Validaciones","text":""},{"location":"data-loading/master-data/user/#validaciones-generales","title":"Validaciones Generales","text":""},{"location":"data-loading/master-data/user/#identificadores_1","title":"Identificadores","text":"<ul> <li><code>user_id</code> debe ser \u00fanico en todo el sistema</li> </ul>"},{"location":"data-loading/master-data/user/#fechas","title":"Fechas","text":"<ul> <li><code>created_at</code> no puede ser posterior a <code>updated_at</code></li> <li><code>signup_at</code> no puede ser posterior a <code>setup_at</code></li> <li>Todas las fechas deben ser v\u00e1lidas y en formato ISO 8601</li> </ul>"},{"location":"data-loading/master-data/user/#informacion-de-contacto","title":"Informaci\u00f3n de Contacto","text":"<ul> <li><code>email</code> y <code>phone</code> son campos requeridos en ra\u00edz</li> <li>Los emails deben tener formato v\u00e1lido</li> <li>Los tel\u00e9fonos deben tener formato v\u00e1lido seg\u00fan el pa\u00eds</li> </ul>"},{"location":"data-loading/master-data/user/#direccion-principal_1","title":"Direcci\u00f3n Principal","text":"<ul> <li>Al menos uno de los campos de direcci\u00f3n debe estar presente (<code>address</code> o combinaci\u00f3n de campos desglosados)</li> <li>Si se usan campos desglosados, <code>address_city</code> es recomendado para ubicaci\u00f3n b\u00e1sica</li> </ul>"},{"location":"data-loading/master-data/user/#clasificacion-y-categorizacion_1","title":"Clasificaci\u00f3n y Categorizaci\u00f3n","text":"<ul> <li>Los campos <code>channel</code>, <code>subchannel</code>, <code>category</code> y <code>subcategory</code> son opcionales pero recomendados para an\u00e1lisis</li> <li>Si se proporciona <code>subchannel</code>, se recomienda tener tambi\u00e9n <code>channel</code> para consistencia</li> <li>Si se proporciona <code>subcategory</code>, se recomienda tener tambi\u00e9n <code>category</code> para jerarqu\u00eda l\u00f3gica</li> <li>Los valores deben ser descriptivos y consistentes para an\u00e1lisis posterior</li> </ul>"},{"location":"data-loading/master-data/user/#validaciones-de-negocio","title":"Validaciones de Negocio","text":""},{"location":"data-loading/master-data/user/#configuracion-inicial","title":"Configuraci\u00f3n Inicial","text":"<ul> <li><code>setup_at</code> solo se establece cuando se completan todos los campos requeridos</li> <li>La configuraci\u00f3n requiere al menos <code>email</code>, <code>phone</code> y un campo de direcci\u00f3n v\u00e1lido</li> </ul>"},{"location":"data-loading/master-data/user/#atributos","title":"Atributos","text":"<ul> <li>Las claves de atributos deben ser \u00fanicas por usuario</li> <li>Los valores deben corresponder al tipo esperado</li> <li>El campo <code>attributes</code> es construido autom\u00e1ticamente por Reten</li> </ul>"},{"location":"data-loading/master-data/user/#ejemplos-de-uso","title":"Ejemplos de Uso","text":""},{"location":"data-loading/master-data/user/#usuario-persona-natural","title":"Usuario Persona Natural","text":"<pre><code>{\n  \"user_id\": \"CLI_001\",\n  \"miscellaneous_id\": \"EXT_001\",\n  \"name\": \"Jos\u00e9 P\u00e9rez\",\n  \"channel\": \"b2c\",\n  \"subchannel\": \"online\",\n  \"category\": \"oro\",\n  \"subcategory\": \"prioritario\",\n  \"email\": \"jose.perez@email.com\",\n  \"phone\": \"+56912345678\",\n  \"push_token\": \"fcm_token_abc123\",\n  \"country\": \"CL\",\n  \"address\": \"Los Alerces 123, Santiago, Regi\u00f3n Metropolitana\",\n  \"signup_at\": \"2024-03-19T10:00:00Z\",\n  \"created_at\": \"2024-03-19T10:00:00Z\",\n  \"updated_at\": \"2024-03-19T10:00:00Z\",\n  \"attributes\": [\n    {\n      \"key\": \"customer_type\",\n      \"value\": \"individual\",\n      \"type\": \"string\"\n    }\n  ],\n  \"_created_at\": \"2024-03-19T10:00:00Z\",\n  \"_updated_at\": \"2024-03-19T10:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/user/#usuario-empresa","title":"Usuario Empresa","text":"<pre><code>{\n  \"user_id\": \"CLI_002\",\n  \"miscellaneous_id\": \"ERP_456\",\n  \"name\": \"Supermercados El Sol\",\n  \"channel\": \"retail\",\n  \"subchannel\": \"tienda\",\n  \"category\": \"plata\",\n  \"subcategory\": \"normal\",\n  \"email\": \"gerencia@elsol.cl\",\n  \"phone\": \"+56922334455\",\n  \"push_token\": \"fcm_business_xyz789\",\n  \"country\": \"CL\",\n  \"address_street\": \"Av. Providencia\",\n  \"address_number\": \"1234\",\n  \"address_commune\": \"Providencia\",\n  \"address_city\": \"Santiago\",\n  \"address_region\": \"Metropolitana\",\n  \"signup_at\": \"2024-01-15T09:00:00Z\",\n  \"setup_at\": \"2024-01-20T16:00:00Z\",\n  \"created_at\": \"2024-01-15T09:00:00Z\",\n  \"updated_at\": \"2024-01-20T16:00:00Z\",\n  \"attributes\": [\n    {\n      \"key\": \"business_type\",\n      \"value\": \"retail\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"segment_id\",\n      \"value\": \"SEG_001\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"credit_score\",\n      \"value\": \"850\",\n      \"type\": \"number\"\n    }\n  ],\n  \"_created_at\": \"2024-01-15T09:00:00Z\",\n  \"_updated_at\": \"2024-01-20T16:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/user/#usuario-con-atributos-personalizados","title":"Usuario con Atributos Personalizados","text":"<pre><code>{\n  \"user_id\": \"CLI_003\",\n  \"miscellaneous_id\": \"CRM_789\",\n  \"name\": \"Distribuidora Mayor\",\n  \"channel\": \"mayorista\",\n  \"subchannel\": \"industrial\",\n  \"category\": \"oro\",\n  \"subcategory\": \"prioritario\",\n  \"email\": \"contacto@distribuidora.cl\",\n  \"phone\": \"+56933445566\",\n  \"push_token\": \"fcm_enterprise_def456\",\n  \"country\": \"CL\",\n  \"address\": \"Camino Industrial 567, Maip\u00fa, Regi\u00f3n Metropolitana\",\n  \"signup_at\": \"2024-02-10T08:00:00Z\",\n  \"setup_at\": \"2024-02-15T14:00:00Z\",\n  \"created_at\": \"2024-02-10T08:00:00Z\",\n  \"updated_at\": \"2024-02-15T14:00:00Z\",\n  \"attributes\": [\n    {\n      \"key\": \"zone\",\n      \"value\": \"north\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"manager_id\",\n      \"value\": \"MANAGER_001\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"loyalty_level\",\n      \"value\": \"gold\",\n      \"type\": \"string\"\n    },\n    {\n      \"key\": \"last_purchase_date\",\n      \"value\": \"2024-03-15\",\n      \"type\": \"date\"\n    },\n    {\n      \"key\": \"is_active\",\n      \"value\": \"true\",\n      \"type\": \"boolean\"\n    }\n  ],\n  \"_created_at\": \"2024-02-10T08:00:00Z\",\n  \"_updated_at\": \"2024-02-15T14:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/master-data/user/#integracion","title":"\ud83d\udd04 Integraci\u00f3n","text":""},{"location":"data-loading/master-data/user/#metodo-por-archivo","title":"M\u00e9todo por Archivo","text":"<p>Los usuarios se cargan en archivos CSV con las columnas correspondientes:</p> <pre><code>user_id,miscellaneous_id,name,channel,subchannel,category,subcategory,email,phone,push_token,country,address,signup_at,setup_at,created_at,updated_at,attributes,_created_at,_updated_at\nCLI_001,EXT_001,Restaurante La Pasta,b2c,online,oro,prioritario,contacto@lapasta.cl,+56911223344,fcm_restaurant_abc123,CL,\"Los Alerces 123, Santiago, Regi\u00f3n Metropolitana\",2024-03-19T10:00:00Z,,2024-03-19T10:00:00Z,2024-03-19T10:00:00Z,\"\",2024-03-19T10:00:00Z,2024-03-19T10:00:00Z\nCLI_002,ERP_456,Supermercados El Sol,retail,tienda,plata,normal,gerencia@elsol.cl,+56922334455,fcm_business_xyz789,CL,Av. Providencia 1234,2024-01-15T09:00:00Z,2024-01-20T16:00:00Z,2024-01-15T09:00:00Z,2024-01-20T16:00:00Z,\"\",2024-01-15T09:00:00Z,2024-01-20T16:00:00Z\n</code></pre>"},{"location":"data-loading/master-data/user/#metodo-por-base-de-datos","title":"M\u00e9todo por Base de Datos","text":"<p>Los usuarios se consultan desde una tabla con la estructura correspondiente:</p> <pre><code>SELECT\n    user_id,\n    miscellaneous_id,\n    name,\n    channel,\n    subchannel,\n    category,\n    subcategory,\n    email,\n    phone,\n    push_token,\n    country,\n    address,\n    signup_at,\n    setup_at,\n    created_at,\n    updated_at,\n    attributes,\n    _created_at,\n    _updated_at\nFROM users\nWHERE _updated_at &gt; '2024-01-15T00:00:00Z'\nORDER BY _updated_at ASC;\n</code></pre>"},{"location":"data-loading/settings/","title":"Configuraciones","text":"<p>Las configuraciones representan las reglas y par\u00e1metros operativos que definen el comportamiento del sistema Reten. Cada configuraci\u00f3n establece c\u00f3mo los diferentes componentes del sistema interact\u00faan y operan, permitiendo una personalizaci\u00f3n flexible seg\u00fan las necesidades del negocio.</p> <p> Asignaciones </p> <p>Relaciones entre vendedores y clientes</p> <p> Rutas </p> <p>Programaci\u00f3n de visitas a clientes</p>"},{"location":"data-loading/settings/#caracteristicas-comunes","title":"Caracter\u00edsticas Comunes","text":"<p>Todas las configuraciones comparten:</p> <ul> <li>Identificaci\u00f3n \u00fanica por entidad</li> <li>Control de versiones y cambios</li> <li>Validaciones espec\u00edficas por contexto</li> <li>Trazabilidad de modificaciones</li> <li>Extensibilidad mediante atributos personalizados</li> </ul> <p>Para asegurar la consistencia en la documentaci\u00f3n y estructura de las configuraciones, se proporciona una plantilla que debe seguirse al crear nuevas configuraciones.</p>"},{"location":"data-loading/settings/#convenciones-generales","title":"Convenciones Generales","text":"<ul> <li>Campos en <code>snake_case</code></li> <li>Fechas en formato ISO 8601 (UTC)</li> <li>Validaciones expl\u00edcitas por configuraci\u00f3n</li> <li>Documentaci\u00f3n de impacto en el sistema</li> <li>Referencias mediante IDs para mantener integridad</li> </ul>"},{"location":"data-loading/settings/#consideraciones-de-implementacion","title":"Consideraciones de Implementaci\u00f3n","text":""},{"location":"data-loading/settings/#gestion-de-cambios","title":"Gesti\u00f3n de Cambios","text":"<ul> <li>Validaci\u00f3n previa de impacto</li> <li>Notificaci\u00f3n a usuarios afectados</li> <li>Registro de historial de cambios</li> <li>Rollback en caso de errores</li> </ul>"},{"location":"data-loading/settings/#seguridad","title":"Seguridad","text":"<ul> <li>Control de acceso por rol</li> <li>Auditor\u00eda de modificaciones</li> <li>Protecci\u00f3n de datos sensibles</li> <li>Validaci\u00f3n de permisos</li> </ul>"},{"location":"data-loading/settings/#integracion","title":"Integraci\u00f3n","text":"<ul> <li>Webhooks para cambios cr\u00edticos</li> <li>APIs para gesti\u00f3n externa</li> <li>Sincronizaci\u00f3n con otros sistemas</li> <li>Cache y optimizaci\u00f3n</li> </ul> <p>Para m\u00e1s detalles sobre cada configuraci\u00f3n, consulta su documentaci\u00f3n espec\u00edfica en los enlaces proporcionados. </p>"},{"location":"data-loading/settings/_template/","title":"[Nombre de la Configuraci\u00f3n]","text":"<p>[Descripci\u00f3n breve de la configuraci\u00f3n y su prop\u00f3sito en el sistema]</p>"},{"location":"data-loading/settings/_template/#modelo-de-relaciones","title":"Modelo de Relaciones","text":"<pre><code>erDiagram\n    direction LR\n    %% Define las entidades y sus relaciones\n    %% Ejemplo:\n    Entidad1 ||--o{ Entidad2 : accion\n    Entidad2 }o--|| Entidad3 : accion\n\n    Entidad1 {\n        string id PK\n        string campo1\n        string campo2\n    }\n\n    Entidad2 {\n        string id PK\n        string entidad1_id FK\n        string entidad3_id FK\n        string campo1\n    }\n\n    Entidad3 {\n        string id PK\n        string campo1\n    }</code></pre>"},{"location":"data-loading/settings/_template/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  // Identificadores\n  \"config_id\": \"string\",        // Identificador \u00fanico de la configuraci\u00f3n (not null)\n  \"external_id\": \"string\",      // Identificador externo del cliente (opcional)\n\n  // Informaci\u00f3n b\u00e1sica\n  \"name\": {\n    \"display_name\": \"string\",   // Nombre para mostrar (not null)\n    \"short_name\": \"string\"      // Nombre corto (opcional)\n  },\n  \"description\": \"string\",      // Descripci\u00f3n detallada\n  \"status\": \"string\",           // Estado actual\n\n  // Configuraci\u00f3n espec\u00edfica\n  \"settings\": {\n    // Campos espec\u00edficos de la configuraci\u00f3n\n  },\n\n  // Validaciones y reglas\n  \"rules\": [{\n    \"type\": \"string\",          // Tipo de regla\n    \"condition\": \"string\",     // Condici\u00f3n a evaluar\n    \"action\": \"string\"         // Acci\u00f3n a tomar\n  }],\n\n  // Marcas temporales\n  \"created_at\": \"timestamp\",   // Fecha de creaci\u00f3n (not null)\n  \"updated_at\": \"timestamp\"    // \u00daltima actualizaci\u00f3n (not null)\n}\n</code></pre>"},{"location":"data-loading/settings/_template/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-loading/settings/_template/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n config_id string S\u00ed Identificador \u00fanico en Reten external_id string No Identificador en el sistema del cliente <p>[Continuar con otros grupos de campos...]</p>"},{"location":"data-loading/settings/_template/#validaciones","title":"Validaciones","text":""},{"location":"data-loading/settings/_template/#validaciones-generales","title":"Validaciones Generales","text":""},{"location":"data-loading/settings/_template/#identificadores_1","title":"Identificadores","text":"<ul> <li>Lista de validaciones para identificadores</li> </ul>"},{"location":"data-loading/settings/_template/#otros-grupos-de-validacion","title":"[Otros grupos de validaci\u00f3n]","text":"<ul> <li>Lista de validaciones espec\u00edficas</li> </ul>"},{"location":"data-loading/settings/_template/#validaciones-de-negocio","title":"Validaciones de Negocio","text":"<ul> <li>Lista de reglas de negocio aplicables</li> <li>Restricciones espec\u00edficas del dominio</li> <li>Casos especiales a considerar</li> </ul>"},{"location":"data-loading/settings/_template/#ejemplos","title":"Ejemplos","text":""},{"location":"data-loading/settings/_template/#caso-de-uso-1","title":"[Caso de Uso 1]","text":"<pre><code>{\n  // Ejemplo de configuraci\u00f3n para el caso de uso 1\n}\n</code></pre>"},{"location":"data-loading/settings/_template/#caso-de-uso-2","title":"[Caso de Uso 2]","text":"<pre><code>{\n  // Ejemplo de configuraci\u00f3n para el caso de uso 2\n}\n</code></pre>"},{"location":"data-loading/settings/_template/#notas-de-implementacion","title":"Notas de Implementaci\u00f3n","text":""},{"location":"data-loading/settings/_template/#aspecto-tecnico-1","title":"[Aspecto T\u00e9cnico 1]","text":"<ul> <li>Consideraciones t\u00e9cnicas</li> <li>Mejores pr\u00e1cticas</li> <li>Casos de borde</li> </ul>"},{"location":"data-loading/settings/_template/#aspecto-tecnico-2","title":"[Aspecto T\u00e9cnico 2]","text":"<ul> <li>Detalles de implementaci\u00f3n</li> <li>Optimizaciones recomendadas</li> <li>Advertencias importantes</li> </ul>"},{"location":"data-loading/settings/_template/#integracion-con-otros-sistemas","title":"Integraci\u00f3n con Otros Sistemas","text":""},{"location":"data-loading/settings/_template/#apis","title":"APIs","text":""},{"location":"data-loading/settings/_template/#endpoints-principales","title":"Endpoints Principales","text":"<pre><code>GET    /api/v1/[recurso]\nPOST   /api/v1/[recurso]\nPUT    /api/v1/[recurso]/{id}\nDELETE /api/v1/[recurso]/{id}\n</code></pre>"},{"location":"data-loading/settings/_template/#webhooks","title":"Webhooks","text":""},{"location":"data-loading/settings/_template/#eventos-disponibles","title":"Eventos Disponibles","text":"<ul> <li>Lista de eventos que disparan webhooks</li> <li>Formato de payload por evento</li> <li>Manejo de errores</li> </ul>"},{"location":"data-loading/settings/_template/#preguntas-frecuentes","title":"Preguntas Frecuentes","text":"<p>[Pregunta 1] - Respuesta detallada - Ejemplos si aplica - Referencias a documentaci\u00f3n adicional</p> <p>[Pregunta 2] - Respuesta detallada - Casos de uso comunes - Soluciones recomendadas </p>"},{"location":"data-loading/settings/assignments/","title":"Asignaciones","text":"<p>Las asignaciones en Reten definen la relaci\u00f3n entre vendedores y los usuarios que tienen a su cargo. Esta entidad permite gestionar qu\u00e9 vendedor es responsable de cada usuario, facilitando la organizaci\u00f3n del trabajo en terreno y el seguimiento de las relaciones comerciales.</p> <pre><code>erDiagram\n    direction LR\n\n    %% Estilos personalizados para las entidades - bordes redondeados y solo relleno\n    classDef sellerClass fill:#e8f5e8,stroke:none,color:#000,rx:8,ry:8\n    classDef assignmentClass fill:#fce4ec,stroke:none,color:#000,rx:8,ry:8\n    classDef userClass fill:#fff3e0,stroke:none,color:#000,rx:8,ry:8\n\n    Vendedor ||--o{ Asignacion : \"es responsable de\"\n    Asignacion }o--|| Usuario : \"es gestionado por\"\n\n    Asignacion {\n    }\n\n    Vendedor {\n    }\n\n    Usuario {\n    }\n\n    %% Aplicar estilos\n    class Asignacion assignmentClass\n    class Vendedor sellerClass\n    class Usuario userClass</code></pre> <p>La asignaci\u00f3n act\u00faa como un conector inteligente que:</p> <ul> <li>Define la responsabilidad de un vendedor sobre un usuario espec\u00edfico</li> <li>Establece el tipo de relaci\u00f3n (principal, secundaria, temporal)</li> <li>Controla el estado de la relaci\u00f3n comercial</li> <li>Permite la gesti\u00f3n de m\u00faltiples vendedores por usuario</li> <li>Facilita la transferencia de usuarios entre vendedores</li> </ul> <p>Un vendedor puede tener m\u00faltiples asignaciones de usuarios, y un usuario puede ser gestionado por diferentes vendedores seg\u00fan el tipo de asignaci\u00f3n.</p>"},{"location":"data-loading/settings/assignments/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  // Identificadores\n  \"assignment_id\": \"string\",      // Identificador \u00fanico de la asignaci\u00f3n (not null)\n  \"seller_id\": \"string\",         // Identificador del vendedor (not null)\n  \"user_id\": \"string\",          // Identificador del usuario (not null)\n\n  // Informaci\u00f3n b\u00e1sica\n  \"description\": \"string\",       // Descripci\u00f3n de la asignaci\u00f3n\n  \"type\": \"string\",             // Tipo de asignaci\u00f3n: \"primary\", \"secondary\", \"temporary\"\n\n  // Estado\n  \"status\": \"string\",            // Estado actual de la asignaci\u00f3n (active, inactive, pending, completed, transferred)\n\n  // Atributos personalizados\n  \"attributes\": [{\n    \"key\": \"string\",\n    \"value\": \"string\",\n    \"type\": \"string\"            // Tipo de valor (string, number, date, boolean)\n  }],\n\n  // Marcas temporales\n  \"created_at\": \"timestamp\",    // Fecha de creaci\u00f3n (not null)\n  \"updated_at\": \"timestamp\"    // Fecha de \u00faltima actualizaci\u00f3n (not null)\n}\n</code></pre>"},{"location":"data-loading/settings/assignments/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-loading/settings/assignments/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n assignment_id string S\u00ed Identificador \u00fanico en Reten seller_id string S\u00ed Identificador del vendedor user_id string S\u00ed Identificador del usuario"},{"location":"data-loading/settings/assignments/#informacion-basica","title":"Informaci\u00f3n B\u00e1sica","text":"Campo Tipo Requerido Descripci\u00f3n description string No Descripci\u00f3n detallada type string S\u00ed Tipo de asignaci\u00f3n <p>Tipos de Asignaci\u00f3n: - <code>primary</code>: Vendedor principal del usuario - <code>secondary</code>: Vendedor secundario o de apoyo - <code>temporary</code>: Asignaci\u00f3n temporal o de reemplazo</p>"},{"location":"data-loading/settings/assignments/#estado","title":"Estado","text":"<p>Estados V\u00e1lidos: - <code>active</code>: Asignaci\u00f3n activa y vigente - <code>inactive</code>: Asignaci\u00f3n temporalmente suspendida - <code>pending</code>: Asignaci\u00f3n pendiente de inicio - <code>completed</code>: Asignaci\u00f3n finalizada - <code>transferred</code>: Asignaci\u00f3n transferida a otro vendedor</p>"},{"location":"data-loading/settings/assignments/#validaciones","title":"Validaciones","text":""},{"location":"data-loading/settings/assignments/#validaciones-generales","title":"Validaciones Generales","text":""},{"location":"data-loading/settings/assignments/#identificadores_1","title":"Identificadores","text":"<ul> <li><code>assignment_id</code> debe ser \u00fanico en todo el sistema</li> <li><code>seller_id</code> debe corresponder a un vendedor existente y activo</li> <li><code>user_id</code> debe corresponder a un usuario existente y activo</li> </ul>"},{"location":"data-loading/settings/assignments/#tipos-y-estados","title":"Tipos y Estados","text":"<ul> <li><code>type</code> debe ser uno de los tipos v\u00e1lidos</li> <li>Un usuario debe tener al menos un vendedor con tipo \"primary\"</li> </ul>"},{"location":"data-loading/settings/assignments/#validaciones-de-negocio","title":"Validaciones de Negocio","text":"<ul> <li>Un usuario no puede tener m\u00e1s de un vendedor con tipo \"primary\" activo</li> <li>Un vendedor no puede tener asignaciones superpuestas para el mismo usuario</li> </ul>"},{"location":"data-loading/settings/assignments/#ejemplos-de-uso","title":"Ejemplos de Uso","text":""},{"location":"data-loading/settings/assignments/#ejemplo-basico-asignacion-principal","title":"Ejemplo B\u00e1sico - Asignaci\u00f3n Principal","text":"<pre><code>{\n  \"assignment_id\": \"ASG_001\",\n  \"seller_id\": \"SLR_001\",\n  \"user_id\": \"CLT_001\",\n  \"description\": \"Asignaci\u00f3n Principal Zona Norte\",\n  \"type\": \"primary\",\n  \"created_at\": \"2024-03-19T10:00:00Z\",\n  \"updated_at\": \"2024-03-19T10:00:00Z\",\n  \"status\": \"active\",\n  \"attributes\": []\n}\n</code></pre>"},{"location":"data-loading/settings/assignments/#ejemplo-completo-asignacion-temporal","title":"Ejemplo Completo - Asignaci\u00f3n Temporal","text":"<pre><code>{\n  \"assignment_id\": \"ASG_002\",\n  \"seller_id\": \"SLR_002\",\n  \"user_id\": \"CLT_001\",\n  \"description\": \"Reemplazo temporal por per\u00edodo de vacaciones del vendedor principal\",\n  \"type\": \"temporary\",\n  \"created_at\": \"2024-01-10T10:00:00Z\",\n  \"updated_at\": \"2024-01-10T10:00:00Z\",\n  \"status\": \"completed\",\n  \"attributes\": [{\n    \"key\": \"replacement_reason\",\n    \"value\": \"vacation\",\n    \"type\": \"string\"\n  }]\n}\n</code></pre>"},{"location":"data-loading/settings/assignments/#asignacion-con-periodo","title":"Asignaci\u00f3n con Per\u00edodo","text":"<pre><code>{\n  \"assignment_id\": \"ASG_002\",\n  \"seller_id\": \"SELLER_002\",\n  \"route_id\": \"ROUTE_002\",\n  \"status\": \"scheduled\",\n  \"period\": {\n    \"start_date\": \"2024-01-01\",\n    \"end_date\": \"2024-12-31\"\n  },\n  \"created_at\": \"2024-01-10T10:00:00Z\",\n  \"updated_at\": \"2024-01-10T10:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/settings/routes/","title":"Rutas","text":"<p>Las rutas en Reten definen c\u00f3mo los vendedores visitan sus usuarios asignados, permitiendo una planificaci\u00f3n eficiente de tareas y visitas. Una ruta representa ya sea un patr\u00f3n recurrente de visitas o fechas espec\u00edficas programadas para visitar los usuarios en la cartera del vendedor.</p> <pre><code>erDiagram\n    direction LR\n\n    %% Estilos personalizados para las entidades - bordes redondeados y solo relleno\n    classDef sellerClass fill:#e8f5e8,stroke:none,color:#000,rx:8,ry:8\n    classDef routeClass fill:#e3f2fd,stroke:none,color:#000,rx:8,ry:8\n    classDef clientClass fill:#fff3e0,stroke:none,color:#000,rx:8,ry:8\n\n    Vendedor ||--o{ Ruta : \"planifica\"\n    Ruta ||--o{ Usuario : \"programa visitas a\"\n\n    Vendedor {\n    }\n\n    Ruta {\n    }\n\n    Usuario {\n    }\n\n    %% Aplicar estilos\n    class Vendedor sellerClass\n    class Ruta routeClass\n    class Usuario clientClass</code></pre> <p>La ruta act\u00faa como un planificador inteligente que:</p> <ul> <li>Organiza las visitas de un vendedor a sus usuarios asignados</li> <li>Define patrones de frecuencia (semanal, quincenal, mensual, personalizado)</li> <li>Programa fechas espec\u00edficas para visitas especiales o campa\u00f1as</li> <li>Optimiza la log\u00edstica del trabajo en terreno</li> <li>Permite flexibilidad entre patrones recurrentes y fechas espec\u00edficas</li> </ul> <p>Un vendedor puede planificar m\u00faltiples rutas, y cada ruta puede programar visitas a diferentes usuarios seg\u00fan patrones de frecuencia o fechas espec\u00edficas.</p>"},{"location":"data-loading/settings/routes/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  // Identificadores\n  \"route_id\": \"string\",         // Identificador principal de la ruta (not null)\n  \"user_id\": \"string\",        // Identificador del usuario a visitar (not null)\n\n  // Informaci\u00f3n b\u00e1sica\n  \"description\": \"string\",      // Descripci\u00f3n de la ruta\n\n  // Configuraci\u00f3n de la ruta\n  \"pattern_type\": \"string\",     // Tipo de patr\u00f3n: \"recurring\" o \"specific\" (not null)\n  \"visit_date\": \"date\",         // Fecha espec\u00edfica de visita (requerido si pattern_type es \"specific\")\n  \"recurring_pattern\": {        // Patr\u00f3n recurrente (requerido si pattern_type es \"recurring\")\n    \"frequency\": \"string\",      // \"weekly\", \"monthly\", \"custom\"\n    \"days\": [\"string\"],        // D\u00edas de la semana [\"MONDAY\", \"TUESDAY\", etc.]\n    \"week_of_month\": \"number\",  // Para patrones mensuales (1-5)\n    \"interval\": \"number\",       // N\u00famero de unidades entre visitas (default: 1)\n    \"start_date\": \"date\"       // Fecha de inicio del patr\u00f3n (determina la secuencia de semanas)\n  },\n\n  // Estado\n  \"status\": \"string\",           // Estado actual de la ruta (active, inactive, archived, draft)\n\n  // Atributos personalizados\n  \"attributes\": [{\n    \"key\": \"string\",\n    \"value\": \"string\",\n    \"type\": \"string\"           // Tipo de valor (string, number, date, boolean)\n  }],\n\n  // Marcas temporales\n  \"created_at\": \"timestamp\",   // Fecha de creaci\u00f3n (not null)\n  \"updated_at\": \"timestamp\"    // \u00daltima actualizaci\u00f3n (not null)\n}\n</code></pre>"},{"location":"data-loading/settings/routes/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-loading/settings/routes/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n route_id string S\u00ed Identificador \u00fanico en Reten user_id string S\u00ed Identificador del usuario a visitar"},{"location":"data-loading/settings/routes/#informacion-basica","title":"Informaci\u00f3n B\u00e1sica","text":"Campo Tipo Requerido Descripci\u00f3n description string No Descripci\u00f3n detallada pattern_type string S\u00ed Tipo de patr\u00f3n de visitas"},{"location":"data-loading/settings/routes/#configuracion-de-la-ruta","title":"Configuraci\u00f3n de la Ruta","text":""},{"location":"data-loading/settings/routes/#patron-especifico","title":"Patr\u00f3n Espec\u00edfico","text":"Campo Tipo Requerido Descripci\u00f3n visit_date date S\u00ed* Fecha espec\u00edfica de visita (formato ISO 8601) <p>* Requerido cuando <code>pattern_type</code> es \"specific\"</p>"},{"location":"data-loading/settings/routes/#patron-recurrente","title":"Patr\u00f3n Recurrente","text":"Campo Tipo Requerido Descripci\u00f3n frequency string S\u00ed* Frecuencia: \"weekly\", \"monthly\", \"custom\" days string[] S\u00ed* D\u00edas de la semana: [\"MONDAY\", \"TUESDAY\", etc.] week_of_month number No Semana del mes (1-5) para patrones mensuales interval number No N\u00famero de unidades (semanas/meses) entre visitas. Por defecto 1 start_date date No Fecha de inicio del patr\u00f3n. Define la secuencia de semanas <p>* Requerido cuando <code>pattern_type</code> es \"recurring\"</p>"},{"location":"data-loading/settings/routes/#estado","title":"Estado","text":"<p>Estados V\u00e1lidos: - <code>active</code>: Ruta activa y en uso - <code>inactive</code>: Ruta temporalmente desactivada - <code>archived</code>: Ruta archivada y no disponible para uso - <code>draft</code>: Ruta en proceso de creaci\u00f3n</p>"},{"location":"data-loading/settings/routes/#validaciones","title":"Validaciones","text":""},{"location":"data-loading/settings/routes/#validaciones-generales","title":"Validaciones Generales","text":""},{"location":"data-loading/settings/routes/#identificadores_1","title":"Identificadores","text":"<ul> <li><code>route_id</code> debe ser \u00fanico en todo el sistema</li> <li><code>user_id</code> debe corresponder a un usuario existente y asignado al vendedor</li> </ul>"},{"location":"data-loading/settings/routes/#fechas","title":"Fechas","text":"<ul> <li><code>created_at</code> no puede ser posterior a <code>updated_at</code></li> <li><code>visit_date</code> debe ser v\u00e1lida y en formato ISO 8601 cuando pattern_type es \"specific\"</li> <li>Las fechas espec\u00edficas de visita no pueden ser en el pasado</li> </ul>"},{"location":"data-loading/settings/routes/#patrones","title":"Patrones","text":"<ul> <li>Si <code>pattern_type</code> es \"specific\", debe tener una <code>visit_date</code> v\u00e1lida</li> <li>Si <code>pattern_type</code> es \"recurring\", debe tener un <code>recurring_pattern</code> v\u00e1lido</li> <li>Los d\u00edas en <code>recurring_pattern.days</code> deben ser d\u00edas v\u00e1lidos de la semana</li> </ul>"},{"location":"data-loading/settings/routes/#validaciones-de-negocio","title":"Validaciones de Negocio","text":"<ul> <li>Un vendedor no puede tener visitas programadas simult\u00e1neas en diferentes usuarios</li> <li>El usuario debe pertenecer a la cartera del vendedor</li> <li>Los patrones recurrentes no pueden tener intervalos menores a 1 d\u00eda</li> </ul>"},{"location":"data-loading/settings/routes/#ejemplos-de-uso","title":"Ejemplos de Uso","text":""},{"location":"data-loading/settings/routes/#ejemplo-basico-ruta-recurrente","title":"Ejemplo B\u00e1sico - Ruta Recurrente","text":"<pre><code>{\n  // Identificadores\n  \"route_id\": \"RTE_001\",\n  \"user_id\": \"CLT_001\",\n\n  // Informaci\u00f3n b\u00e1sica\n  \"description\": \"Visita semanal usuario principal zona norte\",\n\n  // Configuraci\u00f3n de la ruta\n  \"pattern_type\": \"recurring\",\n  \"recurring_pattern\": {\n    \"frequency\": \"weekly\",\n    \"days\": [\"MONDAY\", \"THURSDAY\"],\n    \"interval\": 1  // Visita todas las semanas\n  },\n\n  // Estado\n  \"status\": \"active\",\n\n  // Atributos personalizados\n  \"attributes\": [],\n\n  // Marcas temporales\n  \"created_at\": \"2024-03-19T10:00:00Z\",\n  \"updated_at\": \"2024-03-19T10:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/settings/routes/#ejemplo-ruta-bi-semanal","title":"Ejemplo - Ruta Bi-semanal","text":"<pre><code>{\n  // Identificadores\n  \"route_id\": \"RTE_003\",\n  \"user_id\": \"CLT_003\",\n\n  // Informaci\u00f3n b\u00e1sica\n  \"description\": \"Visita quincenal usuario secundario\",\n\n  // Configuraci\u00f3n de la ruta\n  \"pattern_type\": \"recurring\",\n  \"recurring_pattern\": {\n    \"frequency\": \"weekly\",\n    \"days\": [\"WEDNESDAY\"],\n    \"interval\": 2,  // Visita cada dos semanas\n    \"start_date\": \"2024-01-10\"  // Comienza en semana 2, por lo que las visitas ser\u00e1n en semanas pares\n  },\n\n  // Estado\n  \"status\": \"active\",\n\n  // Atributos personalizados\n  \"attributes\": [],\n\n  // Marcas temporales\n  \"created_at\": \"2024-03-19T10:00:00Z\",\n  \"updated_at\": \"2024-03-19T10:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/settings/routes/#ejemplo-ruta-con-patron-personalizado","title":"Ejemplo - Ruta con Patr\u00f3n Personalizado","text":"<pre><code>{\n  // Identificadores\n  \"route_id\": \"RTE_004\",\n  \"user_id\": \"CLT_004\",\n\n  // Informaci\u00f3n b\u00e1sica\n  \"description\": \"Visita en d\u00edas espec\u00edficos del mes\",\n\n  // Configuraci\u00f3n de la ruta\n  \"pattern_type\": \"recurring\",\n  \"recurring_pattern\": {\n    \"frequency\": \"custom\",\n    \"days\": [\"MONDAY\", \"THURSDAY\"],  // D\u00edas permitidos\n    \"week_of_month\": [1, 3],         // Primera y tercera semana\n    \"start_date\": \"2024-01-01\"       // Fecha de inicio del patr\u00f3n\n  },\n\n  // Estado\n  \"status\": \"active\",\n\n  // Atributos personalizados\n  \"attributes\": [{\n    \"key\": \"visit_duration\",\n    \"value\": \"60\",\n    \"type\": \"number\"\n  }],\n\n  // Marcas temporales\n  \"created_at\": \"2024-03-19T10:00:00Z\",\n  \"updated_at\": \"2024-03-19T10:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/settings/routes/#ejemplo-completo-ruta-con-fecha-especifica","title":"Ejemplo Completo - Ruta con Fecha Espec\u00edfica","text":"<pre><code>{\n  // Identificadores\n  \"route_id\": \"RTE_002\",\n  \"user_id\": \"CLT_002\",\n\n  // Informaci\u00f3n b\u00e1sica\n  \"description\": \"Visita especial campa\u00f1a navide\u00f1a\",\n\n  // Configuraci\u00f3n de la ruta\n  \"pattern_type\": \"specific\",\n  \"visit_date\": \"2024-12-01\",\n\n  // Estado\n  \"status\": \"active\",\n\n  // Atributos personalizados\n  \"attributes\": [{\n    \"key\": \"campaign\",\n    \"value\": \"navidad_2024\",\n    \"type\": \"string\"\n  }, {\n    \"key\": \"priority\",\n    \"value\": \"1\",\n    \"type\": \"number\"\n  }],\n\n  // Marcas temporales\n  \"created_at\": \"2024-03-19T10:00:00Z\",\n  \"updated_at\": \"2024-03-19T10:00:00Z\"\n}\n</code></pre>"},{"location":"data-loading/settings/subscription/","title":"Suscripciones","text":"<p>Las suscripciones a canales representan las preferencias de comunicaci\u00f3n y notificaciones de los usuarios en la plataforma Reten. Esta entidad almacena la informaci\u00f3n sobre los canales de comunicaci\u00f3n, consentimientos, y configuraciones espec\u00edficas para cada usuario.</p>"},{"location":"data-loading/settings/subscription/#modelo-de-relaciones","title":"Modelo de Relaciones","text":"<pre><code>erDiagram\n    direction LR\n\n    %% Estilos personalizados para las entidades - bordes redondeados y solo relleno\n    classDef clientClass fill:#fff3e0,stroke:none,color:#000,rx:8,ry:8\n    classDef subscriptionClass fill:#e8f4fd,stroke:none,color:#000,rx:8,ry:8\n\n    Usuario ||--o{ Suscripcion : tiene\n    Suscripcion {\n    }\n    Usuario {\n    }\n\n    %% Aplicar estilos\n    class Suscripcion subscriptionClass\n    class Usuario clientClass</code></pre>"},{"location":"data-loading/settings/subscription/#estructura-de-datos","title":"Estructura de Datos","text":"<pre><code>{\n  // Identificadores\n  \"subscription_id\": \"string\",    // Identificador \u00fanico de la suscripci\u00f3n (not null)\n  \"user_id\": \"string\",           // Identificador del usuario (not null)\n\n  // Informaci\u00f3n del canal\n  \"channel\": {\n    \"type\": \"string\",            // Tipo de canal (email, sms, push, whatsapp) (not null)\n    \"identifier\": \"string\",      // Identificador del canal (email, tel\u00e9fono, token) (not null)\n    \"name\": \"string\",            // Nombre descriptivo del canal\n    \"status\": \"string\"           // Estado del canal (active, inactive, pending, blocked)\n  },\n\n  // Consentimientos y preferencias\n  \"preferences\": {\n    \"marketing\": \"boolean\",      // Comunicaciones de marketing\n    \"notifications\": \"boolean\",  // Notificaciones del sistema\n    \"promotions\": \"boolean\",    // Ofertas y promociones\n    \"news\": \"boolean\",          // Noticias y actualizaciones\n    \"orders\": \"boolean\",        // Actualizaciones de \u00f3rdenes\n    \"support\": \"boolean\"        // Comunicaciones de soporte\n  },\n\n  // Configuraci\u00f3n de frecuencia\n  \"frequency\": {\n    \"type\": \"string\",           // Tipo de frecuencia (immediate, daily, weekly, custom)\n    \"time_zone\": \"string\",      // Zona horaria del usuario\n    \"quiet_hours\": {            // Horas de no disturbar\n      \"start\": \"string\",        // Hora de inicio (HH:mm)\n      \"end\": \"string\"          // Hora de fin (HH:mm)\n    },\n    \"custom_schedule\": JSON     // Configuraci\u00f3n personalizada de horarios\n  },\n\n  // Metadatos de verificaci\u00f3n\n  \"verification\": {\n    \"is_verified\": \"boolean\",   // Canal verificado\n    \"verified_at\": \"timestamp\", // Fecha de verificaci\u00f3n\n    \"verification_method\": \"string\", // M\u00e9todo de verificaci\u00f3n usado\n    \"last_verification_attempt\": \"timestamp\" // \u00daltimo intento de verificaci\u00f3n\n  },\n\n  // Marcas temporales\n  \"created_at\": \"timestamp\",    // Fecha de creaci\u00f3n (not null)\n  \"updated_at\": \"timestamp\"    // \u00daltima actualizaci\u00f3n (not null)\n}\n</code></pre>"},{"location":"data-loading/settings/subscription/#tipos-de-canal","title":"Tipos de Canal","text":"<p>Los tipos de canal disponibles son:</p> <ul> <li><code>email</code>: Comunicaciones por correo electr\u00f3nico</li> <li><code>sms</code>: Mensajes de texto SMS</li> <li><code>push</code>: Notificaciones push m\u00f3viles o web</li> <li><code>whatsapp</code>: Mensajes por WhatsApp</li> </ul>"},{"location":"data-loading/settings/subscription/#estados-del-canal","title":"Estados del Canal","text":"<ul> <li><code>active</code>: Canal activo y verificado</li> <li><code>inactive</code>: Canal temporalmente desactivado</li> <li><code>pending</code>: Pendiente de verificaci\u00f3n</li> <li><code>blocked</code>: Canal bloqueado por errores o spam</li> </ul>"},{"location":"data-loading/settings/subscription/#tipos-de-frecuencia","title":"Tipos de Frecuencia","text":"<ul> <li><code>immediate</code>: Env\u00edo inmediato</li> <li><code>daily</code>: Resumen diario</li> <li><code>weekly</code>: Resumen semanal</li> <li><code>custom</code>: Configuraci\u00f3n personalizada</li> </ul>"},{"location":"data-loading/settings/subscription/#campos-detallados","title":"Campos Detallados","text":""},{"location":"data-loading/settings/subscription/#identificadores","title":"Identificadores","text":"Campo Tipo Requerido Descripci\u00f3n subscription_id string S\u00ed Identificador \u00fanico user_id string S\u00ed ID del usuario"},{"location":"data-loading/settings/subscription/#canal","title":"Canal","text":"Campo Tipo Requerido Descripci\u00f3n type string S\u00ed Tipo de canal identifier string S\u00ed Identificador del canal name string No Nombre descriptivo status string S\u00ed Estado actual"},{"location":"data-loading/settings/subscription/#validaciones","title":"Validaciones","text":""},{"location":"data-loading/settings/subscription/#validaciones-generales","title":"Validaciones Generales","text":""},{"location":"data-loading/settings/subscription/#identificadores_1","title":"Identificadores","text":"<ul> <li><code>subscription_id</code> debe ser \u00fanico</li> <li><code>user_id</code> debe corresponder a un usuario existente</li> <li><code>identifier</code> debe ser v\u00e1lido seg\u00fan el tipo de canal</li> </ul>"},{"location":"data-loading/settings/subscription/#canal_1","title":"Canal","text":"<ul> <li>Email debe ser v\u00e1lido</li> <li>N\u00famero de tel\u00e9fono en formato internacional</li> <li>Token de push debe ser v\u00e1lido</li> </ul>"},{"location":"data-loading/settings/subscription/#preferencias","title":"Preferencias","text":"<ul> <li>Al menos una preferencia debe estar activa</li> <li>Combinaciones v\u00e1lidas seg\u00fan tipo de canal</li> </ul>"},{"location":"data-loading/settings/subscription/#validaciones-de-negocio","title":"Validaciones de Negocio","text":""},{"location":"data-loading/settings/subscription/#verificacion","title":"Verificaci\u00f3n","text":"<ul> <li>Canales cr\u00edticos deben estar verificados</li> <li>Per\u00edodo m\u00e1ximo entre verificaciones</li> <li>L\u00edmite de intentos de verificaci\u00f3n</li> </ul>"},{"location":"data-loading/settings/subscription/#frecuencia","title":"Frecuencia","text":"<ul> <li>Horarios en formato v\u00e1lido</li> <li>Zona horaria v\u00e1lida</li> <li>Quiet hours coherentes</li> </ul>"},{"location":"data-loading/settings/subscription/#ejemplos","title":"Ejemplos","text":""},{"location":"data-loading/settings/subscription/#suscripcion-email","title":"Suscripci\u00f3n Email","text":"<pre><code>{\n  \"subscription_id\": \"SUB_001\",\n  \"user_id\": \"USER_001\",\n  \"channel\": {\n    \"type\": \"email\",\n    \"identifier\": \"usuario@ejemplo.com\",\n    \"name\": \"Email Principal\",\n    \"status\": \"active\"\n  },\n  \"preferences\": {\n    \"marketing\": true,\n    \"notifications\": true,\n    \"promotions\": true,\n    \"news\": false,\n    \"orders\": true,\n    \"support\": true\n  },\n  \"frequency\": {\n    \"type\": \"immediate\",\n    \"time_zone\": \"America/Santiago\"\n  },\n  \"verification\": {\n    \"is_verified\": true,\n    \"verified_at\": \"2024-03-19T10:00:00Z\",\n    \"verification_method\": \"email_link\"\n  }\n}\n</code></pre>"},{"location":"data-loading/settings/subscription/#suscripcion-whatsapp","title":"Suscripci\u00f3n WhatsApp","text":"<pre><code>{\n  \"subscription_id\": \"SUB_002\",\n  \"user_id\": \"USER_001\",\n  \"channel\": {\n    \"type\": \"whatsapp\",\n    \"identifier\": \"+56912345678\",\n    \"name\": \"WhatsApp Principal\",\n    \"status\": \"active\"\n  },\n  \"preferences\": {\n    \"marketing\": false,\n    \"notifications\": true,\n    \"promotions\": false,\n    \"news\": false,\n    \"orders\": true,\n    \"support\": true\n  },\n  \"frequency\": {\n    \"type\": \"custom\",\n    \"time_zone\": \"America/Santiago\",\n    \"quiet_hours\": {\n      \"start\": \"22:00\",\n      \"end\": \"08:00\"\n    }\n  },\n  \"verification\": {\n    \"is_verified\": true,\n    \"verified_at\": \"2024-03-19T11:00:00Z\",\n    \"verification_method\": \"otp\"\n  }\n}\n</code></pre>"},{"location":"events/","title":"Eventos","text":"<p>\ud83d\udea7 Work in Progress</p> <p>Esta secci\u00f3n est\u00e1 en desarrollo activo. La documentaci\u00f3n de eventos se est\u00e1 construyendo y puede estar incompleta o sujeta a cambios.</p> <p>Los eventos en Reten representan acciones y cambios significativos que ocurren en la plataforma del cliente. Estos eventos capturan el journey completo del cliente final, desde la navegaci\u00f3n inicial hasta la entrega del producto.</p> <ul> <li> <p> \u00d3rdenes </p> <p>Eventos del ciclo de vida de \u00f3rdenes</p> </li> <li> <p> Log\u00edstica </p> <p>Eventos de preparaci\u00f3n y entrega</p> </li> <li> <p> Cuenta </p> <p>Eventos de gesti\u00f3n de usuarios</p> </li> <li> <p> Engagement </p> <p>Eventos de interacci\u00f3n y fidelizaci\u00f3n</p> </li> <li> <p> Carrito </p> <p>Eventos relacionados con el carrito de compras</p> </li> <li> <p> Navegaci\u00f3n </p> <p>Eventos de interacci\u00f3n con la plataforma</p> </li> </ul>"},{"location":"events/#estructura-general","title":"Estructura General","text":"<p>Todos los eventos comparten una estructura base:</p> <pre><code>{\n  \"event_id\": \"string\",        // Identificador \u00fanico del evento\n  \"event_type\": \"string\",      // Tipo de evento\n  \"timestamp\": \"string\",       // Fecha y hora del evento\n  \"source\": \"string\",          // Origen del evento\n  \"data\": {},                  // Datos espec\u00edficos del evento\n  \"metadata\": {}               // Metadatos adicionales\n}\n</code></pre>"},{"location":"events/#consumo-de-eventos","title":"Consumo de Eventos","text":"<p>Los eventos pueden ser consumidos a trav\u00e9s de: - Webhooks - API REST - Streaming en tiempo real</p> <p>Para m\u00e1s detalles sobre la integraci\u00f3n con eventos, consulta la documentaci\u00f3n de la API de eventos. </p>"},{"location":"events/_template/","title":":material-[icono]: [Nombre de la Categor\u00eda]","text":"<p>Esta secci\u00f3n documenta los eventos relacionados con [descripci\u00f3n breve de la categor\u00eda].</p>"},{"location":"events/_template/#descripcion-general","title":"Descripci\u00f3n General","text":"<p>[Descripci\u00f3n detallada de la categor\u00eda]. Estos eventos son fundamentales para:</p> <ul> <li>[Punto clave 1]</li> <li>[Punto clave 2]</li> <li>[Punto clave 3]</li> <li>[Punto clave 4]</li> </ul>"},{"location":"events/_template/#eventos-disponibles","title":"Eventos Disponibles","text":"<p>La siguiente tabla muestra un resumen de todos los eventos disponibles en esta secci\u00f3n:</p> Evento Tipo Descripci\u00f3n Trigger Nombre del Evento 1 <code>event_type_1</code> Descripci\u00f3n corta Condici\u00f3n de disparo Nombre del Evento 2 <code>event_type_2</code> Descripci\u00f3n corta Condici\u00f3n de disparo"},{"location":"events/_template/#nombre-del-evento-1","title":"[Nombre del Evento 1]","text":"<p><code>event_type_1</code></p> <p>Trigger Se dispara cuando [condici\u00f3n espec\u00edfica]</p> <p>Descripci\u00f3n [Descripci\u00f3n detallada del evento]</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"event_type_1\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"campo1\": \"tipo_dato\",\n    \"campo2\": \"tipo_dato\"\n  },\n  \"metadata\": {\n    \"meta1\": \"tipo_dato\",\n    \"meta2\": \"tipo_dato\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>campo1</code> string S\u00ed Descripci\u00f3n del campo <code>campo2</code> number No Descripci\u00f3n del campo <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"event_type_1\",\n  \"data\": {\n    \"campo1\": \"valor1\",\n    \"campo2\": 123\n  }\n}\n</code></pre></p>"},{"location":"events/_template/#nombre-del-evento-2","title":"[Nombre del Evento 2]","text":"<p><code>event_type_2</code></p> <p>Trigger Se dispara cuando [condici\u00f3n espec\u00edfica]</p> <p>Descripci\u00f3n [Descripci\u00f3n detallada del evento]</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"event_type_2\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"campo1\": \"tipo_dato\",\n    \"campo2\": \"tipo_dato\"\n  },\n  \"metadata\": {\n    \"meta1\": \"tipo_dato\",\n    \"meta2\": \"tipo_dato\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>campo1</code> string S\u00ed Descripci\u00f3n del campo <code>campo2</code> number No Descripci\u00f3n del campo <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"event_type_2\",\n  \"data\": {\n    \"campo1\": \"valor1\",\n    \"campo2\": 123\n  }\n}\n</code></pre></p>"},{"location":"events/_template/#consideraciones-tecnicas","title":"Consideraciones T\u00e9cnicas","text":"<ul> <li>[Consideraci\u00f3n t\u00e9cnica 1]</li> <li>[Consideraci\u00f3n t\u00e9cnica 2]</li> <li>[Consideraci\u00f3n t\u00e9cnica 3]</li> <li>[Consideraci\u00f3n t\u00e9cnica 4]</li> </ul>"},{"location":"events/_template/#casos-de-uso-comunes","title":"Casos de Uso Comunes","text":""},{"location":"events/_template/#caso-de-uso-1","title":"[Caso de Uso 1]","text":"<p>Utiliza los eventos <code>event_type_1</code> y <code>event_type_2</code> para:</p> <ol> <li>[Objetivo 1]</li> <li>[Objetivo 2]</li> <li>[Objetivo 3]</li> </ol>"},{"location":"events/_template/#caso-de-uso-2","title":"[Caso de Uso 2]","text":"<p>Utiliza el evento <code>event_type_1</code> para:</p> <ol> <li>[Objetivo 1]</li> <li>[Objetivo 2]</li> <li>[Objetivo 3]</li> </ol>"},{"location":"events/_template/#preguntas-frecuentes","title":"Preguntas Frecuentes","text":""},{"location":"events/_template/#pregunta-1","title":"[Pregunta 1]?","text":"<p>[Respuesta detallada a la pregunta 1]</p>"},{"location":"events/_template/#pregunta-2","title":"[Pregunta 2]?","text":"<p>[Respuesta detallada a la pregunta 2]</p>"},{"location":"events/_template/#pregunta-3","title":"[Pregunta 3]?","text":"<p>[Respuesta detallada a la pregunta 3]</p>"},{"location":"events/_template/#referencias","title":"Referencias","text":"<ul> <li>Link a documentaci\u00f3n relacionada 1</li> <li>Link a documentaci\u00f3n relacionada 2</li> <li>Link a documentaci\u00f3n relacionada 3 </li> </ul>"},{"location":"events/account/","title":"Cuenta","text":"<p>Esta secci\u00f3n documenta los eventos relacionados con la gesti\u00f3n de usuarios y sus preferencias.</p>"},{"location":"events/account/#descripcion-general","title":"Descripci\u00f3n General","text":"<p>Los eventos de cuenta y perfil capturan todas las interacciones relacionadas con la gesti\u00f3n de usuarios, sus datos personales y preferencias. Estos eventos son fundamentales para:</p> <ul> <li>Mantener un registro de la actividad de los usuarios</li> <li>Gestionar el ciclo de vida de las cuentas</li> <li>Asegurar el cumplimiento de normativas de privacidad</li> <li>Personalizar la experiencia del usuario</li> <li>Analizar el comportamiento y preferencias de usuarios</li> <li>Mejorar la seguridad y prevenci\u00f3n de fraudes</li> </ul>"},{"location":"events/account/#eventos-disponibles","title":"Eventos Disponibles","text":"Evento Descripci\u00f3n Trigger <code>user_registered</code> Registra la creaci\u00f3n de una nueva cuenta Usuario completa el proceso de registro <code>user_login</code> Registra el inicio de sesi\u00f3n en la plataforma Usuario accede a su cuenta <code>profile_updated</code> Registra actualizaciones al perfil del usuario Usuario modifica sus datos personales <code>address_updated</code> Registra cambios en las direcciones Usuario gestiona sus direcciones <code>preferences_updated</code> Registra cambios en preferencias Usuario actualiza sus configuraciones"},{"location":"events/account/#registro-de-usuario","title":"Registro de Usuario","text":"<p>Trigger</p> <p>Este evento se dispara cuando un usuario completa exitosamente el proceso de registro en la plataforma.</p> <p>Descripci\u00f3n</p> <p>Registra la creaci\u00f3n de una nueva cuenta de usuario, capturando informaci\u00f3n esencial del perfil y preferencias iniciales.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"user_registered\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"user_id\": \"string\",\n    \"email\": \"string\",\n    \"registration_method\": \"email|google|facebook|apple\",\n    \"user_type\": \"customer|business\",\n    \"profile_data\": {\n      \"first_name\": \"string\",\n      \"last_name\": \"string\",\n      \"phone_number\": \"string\",\n      \"language\": \"string\",\n      \"country\": \"string\"\n    },\n    \"marketing_preferences\": {\n      \"email_notifications\": \"boolean\",\n      \"sms_notifications\": \"boolean\",\n      \"push_notifications\": \"boolean\"\n    }\n  },\n  \"metadata\": {\n    \"registration_platform\": \"web|mobile|pos\",\n    \"utm_source\": \"string\",\n    \"utm_medium\": \"string\",\n    \"utm_campaign\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>user_id</code> string S\u00ed Identificador \u00fanico del usuario <code>email</code> string S\u00ed Correo electr\u00f3nico del usuario <code>registration_method</code> string S\u00ed M\u00e9todo utilizado para el registro <code>user_type</code> string S\u00ed Tipo de usuario registrado <code>profile_data</code> object S\u00ed Datos b\u00e1sicos del perfil <code>marketing_preferences</code> object No Preferencias de comunicaci\u00f3n"},{"location":"events/account/#inicio-de-sesion","title":"Inicio de Sesi\u00f3n","text":"<p>Trigger</p> <p>Este evento se dispara cuando un usuario accede exitosamente a su cuenta en la plataforma.</p> <p>Descripci\u00f3n</p> <p>Registra cuando un usuario inicia sesi\u00f3n, incluyendo informaci\u00f3n sobre el m\u00e9todo de acceso, dispositivo y ubicaci\u00f3n.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"user_login\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"user_id\": \"string\",\n    \"login_method\": \"email|google|facebook|apple\",\n    \"session_id\": \"string\",\n    \"device_info\": {\n      \"type\": \"mobile|desktop|tablet\",\n      \"os\": \"string\",\n      \"browser\": \"string\",\n      \"app_version\": \"string\"\n    },\n    \"location\": {\n      \"ip\": \"string\",\n      \"country\": \"string\",\n      \"city\": \"string\"\n    }\n  },\n  \"metadata\": {\n    \"is_suspicious\": \"boolean\",\n    \"requires_2fa\": \"boolean\",\n    \"last_login\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>login_method</code> string S\u00ed M\u00e9todo utilizado para el login <code>session_id</code> string S\u00ed ID de la sesi\u00f3n creada <code>device_info</code> object S\u00ed Informaci\u00f3n del dispositivo <code>location</code> object No Informaci\u00f3n de ubicaci\u00f3n"},{"location":"events/account/#actualizacion-de-perfil","title":"Actualizaci\u00f3n de Perfil","text":"<p>Trigger</p> <p>Este evento se dispara cuando un usuario modifica cualquier informaci\u00f3n de su perfil.</p> <p>Descripci\u00f3n</p> <p>Registra cuando un usuario actualiza su informaci\u00f3n personal, manteniendo un historial de cambios y estados de verificaci\u00f3n.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"profile_updated\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"user_id\": \"string\",\n    \"updated_fields\": [\"string\"],\n    \"previous_values\": {},\n    \"new_values\": {},\n    \"update_type\": \"user|system\",\n    \"verification_status\": {\n      \"email\": \"verified|pending|none\",\n      \"phone\": \"verified|pending|none\"\n    }\n  },\n  \"metadata\": {\n    \"requires_verification\": \"boolean\",\n    \"update_reason\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>updated_fields</code> array S\u00ed Lista de campos actualizados <code>previous_values</code> object No Valores anteriores de los campos <code>new_values</code> object S\u00ed Nuevos valores de los campos <code>update_type</code> string S\u00ed Origen de la actualizaci\u00f3n <code>verification_status</code> object No Estado de verificaci\u00f3n"},{"location":"events/account/#gestion-de-direcciones","title":"Gesti\u00f3n de Direcciones","text":"<p>Trigger</p> <p>Este evento se dispara cuando un usuario agrega, modifica o elimina una direcci\u00f3n en su perfil.</p> <p>Descripci\u00f3n</p> <p>Registra cuando un usuario gestiona sus direcciones, incluyendo validaci\u00f3n y datos de geolocalizaci\u00f3n.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"address_updated\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"user_id\": \"string\",\n    \"address_id\": \"string\",\n    \"action\": \"add|update|delete\",\n    \"address_type\": \"shipping|billing|both\",\n    \"address_data\": {\n      \"street\": \"string\",\n      \"number\": \"string\",\n      \"unit\": \"string\",\n      \"city\": \"string\",\n      \"state\": \"string\",\n      \"country\": \"string\",\n      \"postal_code\": \"string\",\n      \"is_default\": \"boolean\"\n    },\n    \"validation_status\": \"valid|invalid|pending\"\n  },\n  \"metadata\": {\n    \"geocoding_data\": {\n      \"latitude\": \"number\",\n      \"longitude\": \"number\"\n    }\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>address_id</code> string S\u00ed Identificador de la direcci\u00f3n <code>action</code> string S\u00ed Tipo de acci\u00f3n realizada <code>address_type</code> string S\u00ed Tipo de direcci\u00f3n <code>address_data</code> object S\u00ed Datos de la direcci\u00f3n <code>validation_status</code> string No Estado de validaci\u00f3n"},{"location":"events/account/#actualizacion-de-preferencias","title":"Actualizaci\u00f3n de Preferencias","text":"<p>Trigger</p> <p>Este evento se dispara cuando un usuario modifica sus preferencias de comunicaci\u00f3n o configuraci\u00f3n de la cuenta.</p> <p>Descripci\u00f3n</p> <p>Registra cuando un usuario actualiza sus preferencias, incluyendo configuraciones de privacidad y comunicaci\u00f3n.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"preferences_updated\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"user_id\": \"string\",\n    \"preference_type\": \"notifications|privacy|language|currency\",\n    \"previous_settings\": {},\n    \"new_settings\": {},\n    \"communication_preferences\": {\n      \"email_marketing\": \"boolean\",\n      \"order_updates\": \"boolean\",\n      \"promotional_sms\": \"boolean\",\n      \"newsletter\": \"boolean\"\n    },\n    \"privacy_settings\": {\n      \"data_sharing\": \"boolean\",\n      \"profile_visibility\": \"public|private|contacts\"\n    }\n  },\n  \"metadata\": {\n    \"update_source\": \"user_settings|onboarding|support\",\n    \"effective_date\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>preference_type</code> string S\u00ed Tipo de preferencia actualizada <code>previous_settings</code> object No Configuraci\u00f3n anterior <code>new_settings</code> object S\u00ed Nueva configuraci\u00f3n <code>communication_preferences</code> object No Preferencias de comunicaci\u00f3n <code>privacy_settings</code> object No Configuraci\u00f3n de privacidad"},{"location":"events/account/#consideraciones-tecnicas","title":"Consideraciones T\u00e9cnicas","text":"<ul> <li>Los eventos deben manejar datos sensibles seg\u00fan normativas de privacidad</li> <li>Se debe implementar validaci\u00f3n de datos en tiempo real</li> <li>Los cambios en informaci\u00f3n cr\u00edtica deben requerir verificaci\u00f3n</li> <li>Se recomienda mantener un historial de cambios para auditor\u00eda</li> <li>Los eventos deben ser consistentes entre diferentes plataformas</li> <li>Se debe implementar rate limiting para prevenir abusos</li> </ul>"},{"location":"events/account/#casos-de-uso-comunes","title":"Casos de Uso Comunes","text":""},{"location":"events/account/#analisis-de-registro-y-retencion","title":"An\u00e1lisis de Registro y Retenci\u00f3n","text":"<p>Utiliza los eventos <code>user_registered</code> y <code>user_login</code> para:</p> <ol> <li>Medir tasas de conversi\u00f3n en el registro</li> <li>Analizar patrones de retenci\u00f3n de usuarios</li> <li>Identificar fuentes de tr\u00e1fico efectivas</li> </ol>"},{"location":"events/account/#optimizacion-de-perfiles","title":"Optimizaci\u00f3n de Perfiles","text":"<p>Utiliza el evento <code>profile_updated</code> para:</p> <ol> <li>Identificar campos com\u00fanmente actualizados</li> <li>Mejorar el proceso de onboarding</li> <li>Personalizar la experiencia del usuario</li> </ol>"},{"location":"events/account/#gestion-de-comunicaciones","title":"Gesti\u00f3n de Comunicaciones","text":"<p>Utiliza el evento <code>preferences_updated</code> para:</p> <ol> <li>Optimizar estrategias de comunicaci\u00f3n</li> <li>Respetar preferencias de privacidad</li> <li>Mejorar la relevancia del contenido</li> </ol>"},{"location":"events/account/#preguntas-frecuentes","title":"Preguntas Frecuentes","text":""},{"location":"events/account/#como-manejar-datos-sensibles-en-los-eventos","title":"\u00bfC\u00f3mo manejar datos sensibles en los eventos?","text":"<p>Encriptar datos sensibles y nunca incluir informaci\u00f3n como contrase\u00f1as.</p>"},{"location":"events/account/#que-hacer-si-falla-la-verificacion-de-emailtelefono","title":"\u00bfQu\u00e9 hacer si falla la verificaci\u00f3n de email/tel\u00e9fono?","text":"<p>Implementar un sistema de reintentos y notificaciones alternativas.</p>"},{"location":"events/account/#como-gestionar-el-consentimiento-de-usuarios","title":"\u00bfC\u00f3mo gestionar el consentimiento de usuarios?","text":"<p>Mantener registros detallados de consentimientos y permitir su revocaci\u00f3n.</p>"},{"location":"events/account/#referencias","title":"Referencias","text":"<ul> <li>Documentaci\u00f3n de la API de Eventos</li> <li>Gu\u00eda de Privacidad y Seguridad</li> <li>Mejores Pr\u00e1cticas de Gesti\u00f3n de Usuarios</li> </ul>"},{"location":"events/cart/","title":"Carrito","text":"<p>Esta secci\u00f3n documenta los eventos relacionados con el proceso de compra, desde la gesti\u00f3n del carrito hasta la finalizaci\u00f3n del checkout.</p>"},{"location":"events/cart/#descripcion-general","title":"Descripci\u00f3n General","text":"<p>Los eventos de carrito y checkout capturan las interacciones de los usuarios durante el proceso de compra. Estos eventos son esenciales para:</p> <ul> <li>Analizar el comportamiento de compra de los usuarios</li> <li>Identificar puntos de fricci\u00f3n en el proceso de checkout</li> <li>Detectar y reducir el abandono de carrito</li> <li>Optimizar la conversi\u00f3n de ventas</li> <li>Mejorar la experiencia de compra</li> </ul>"},{"location":"events/cart/#eventos-disponibles","title":"Eventos Disponibles","text":"Evento Descripci\u00f3n Trigger <code>add_to_cart</code> Registra cuando un usuario agrega un producto a su carrito Usuario agrega o incrementa cantidad de un producto <code>remove_from_cart</code> Captura cuando un usuario remueve un producto de su carrito Usuario elimina o reduce cantidad de un producto <code>begin_checkout</code> Registra cuando un usuario inicia el proceso de checkout Usuario inicia el proceso de pago desde el carrito <code>select_payment</code> Captura la selecci\u00f3n del m\u00e9todo de pago Usuario selecciona forma de pago en checkout <code>apply_coupon</code> Registra la aplicaci\u00f3n de un cup\u00f3n de descuento Usuario aplica un c\u00f3digo promocional"},{"location":"events/cart/#agregar-al-carrito","title":"Agregar al Carrito","text":"<p>Trigger</p> <p>Este evento se dispara cuando un usuario agrega un nuevo producto a su carrito o incrementa la cantidad de un producto existente.</p> <p>Descripci\u00f3n</p> <p>Registra cuando un usuario agrega un producto a su carrito de compras. Captura informaci\u00f3n detallada del producto, cantidad y contexto de la acci\u00f3n.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"add_to_cart\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"product_id\": \"string\",\n    \"product_name\": \"string\",\n    \"category_id\": \"string\",\n    \"quantity\": \"number\",\n    \"price\": \"number\",\n    \"currency\": \"string\",\n    \"variant_id\": \"string\",\n    \"source_page\": \"product|search|category|recommendation\"\n  },\n  \"metadata\": {\n    \"session_id\": \"string\",\n    \"cart_id\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>product_id</code> string S\u00ed Identificador \u00fanico del producto <code>product_name</code> string S\u00ed Nombre del producto <code>category_id</code> string S\u00ed Identificador de la categor\u00eda <code>quantity</code> number S\u00ed Cantidad agregada al carrito <code>price</code> number S\u00ed Precio unitario del producto <code>currency</code> string S\u00ed Moneda del precio <code>variant_id</code> string No Identificador de la variante del producto <code>source_page</code> string S\u00ed P\u00e1gina desde donde se agreg\u00f3 el producto"},{"location":"events/cart/#remover-del-carrito","title":"Remover del Carrito","text":"<p>Trigger</p> <p>Este evento se dispara cuando un usuario elimina un producto de su carrito o reduce su cantidad.</p> <p>Descripci\u00f3n</p> <p>Captura cuando un usuario remueve un producto de su carrito o reduce su cantidad, permitiendo analizar patrones de abandono y decisiones de compra.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"remove_from_cart\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"product_id\": \"string\",\n    \"product_name\": \"string\",\n    \"quantity\": \"number\",\n    \"removal_type\": \"complete|partial\",\n    \"remaining_quantity\": \"number\"\n  },\n  \"metadata\": {\n    \"session_id\": \"string\",\n    \"cart_id\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>product_id</code> string S\u00ed Identificador \u00fanico del producto <code>product_name</code> string S\u00ed Nombre del producto <code>quantity</code> number S\u00ed Cantidad removida del carrito <code>removal_type</code> string S\u00ed Tipo de remoci\u00f3n (completa o parcial) <code>remaining_quantity</code> number No Cantidad que queda en el carrito"},{"location":"events/cart/#inicio-de-checkout","title":"Inicio de Checkout","text":"<p>Trigger</p> <p>Este evento se dispara cuando un usuario inicia el proceso de checkout desde su carrito de compras.</p> <p>Descripci\u00f3n</p> <p>Registra cuando un usuario comienza el proceso de pago, incluyendo informaci\u00f3n sobre los productos en el carrito y el valor total de la compra.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"begin_checkout\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"cart_id\": \"string\",\n    \"total_items\": \"number\",\n    \"total_amount\": \"number\",\n    \"currency\": \"string\",\n    \"products\": [\n      {\n        \"product_id\": \"string\",\n        \"quantity\": \"number\",\n        \"price\": \"number\"\n      }\n    ],\n    \"has_promocode\": \"boolean\"\n  },\n  \"metadata\": {\n    \"session_id\": \"string\",\n    \"user_type\": \"guest|registered\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>cart_id</code> string S\u00ed Identificador \u00fanico del carrito <code>total_items</code> number S\u00ed Cantidad total de items <code>total_amount</code> number S\u00ed Monto total del carrito <code>currency</code> string S\u00ed Moneda del total <code>products</code> array S\u00ed Lista de productos en el carrito <code>has_promocode</code> boolean No Indica si hay c\u00f3digo promocional aplicado"},{"location":"events/cart/#seleccion-de-metodo-de-pago","title":"Selecci\u00f3n de M\u00e9todo de Pago","text":"<p>Trigger</p> <p>Este evento se dispara cuando un usuario selecciona un m\u00e9todo de pago durante el proceso de checkout.</p> <p>Descripci\u00f3n</p> <p>Captura la elecci\u00f3n del m\u00e9todo de pago por parte del usuario, incluyendo detalles sobre el tipo de pago y condiciones seleccionadas.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"select_payment\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"payment_method\": \"string\",\n    \"payment_type\": \"credit_card|debit_card|transfer|crypto|other\",\n    \"installments\": \"number\",\n    \"provider\": \"string\"\n  },\n  \"metadata\": {\n    \"session_id\": \"string\",\n    \"cart_id\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>payment_method</code> string S\u00ed M\u00e9todo de pago seleccionado <code>payment_type</code> string S\u00ed Tipo de m\u00e9todo de pago <code>installments</code> number No N\u00famero de cuotas seleccionadas <code>provider</code> string S\u00ed Proveedor del m\u00e9todo de pago"},{"location":"events/cart/#aplicacion-de-cupon","title":"Aplicaci\u00f3n de Cup\u00f3n","text":"<p>Trigger</p> <p>Este evento se dispara cuando un usuario aplica un c\u00f3digo de descuento a su carrito.</p> <p>Descripci\u00f3n</p> <p>Registra cuando un usuario aplica un cup\u00f3n de descuento, capturando informaci\u00f3n sobre el tipo de descuento y su impacto en el total.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"apply_coupon\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"coupon_code\": \"string\",\n    \"discount_type\": \"percentage|fixed|shipping\",\n    \"discount_value\": \"number\",\n    \"original_amount\": \"number\",\n    \"final_amount\": \"number\",\n    \"currency\": \"string\"\n  },\n  \"metadata\": {\n    \"session_id\": \"string\",\n    \"cart_id\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>coupon_code</code> string S\u00ed C\u00f3digo del cup\u00f3n aplicado <code>discount_type</code> string S\u00ed Tipo de descuento <code>discount_value</code> number S\u00ed Valor del descuento <code>original_amount</code> number S\u00ed Monto original antes del descuento <code>final_amount</code> number S\u00ed Monto final despu\u00e9s del descuento"},{"location":"events/cart/#consideraciones-tecnicas","title":"Consideraciones T\u00e9cnicas","text":"<ul> <li>Los eventos deben validar la consistencia de los montos y cantidades</li> <li>Se debe mantener la atomicidad en las operaciones de carrito</li> <li>Los eventos de carrito deben persistir entre sesiones</li> <li>Se recomienda implementar un sistema de recuperaci\u00f3n de carrito abandonado</li> <li>Los datos sensibles de pago nunca deben incluirse en los eventos</li> <li>Se debe validar la disponibilidad de stock al procesar eventos de carrito</li> </ul>"},{"location":"events/cart/#casos-de-uso-comunes","title":"Casos de Uso Comunes","text":""},{"location":"events/cart/#analisis-de-abandono-de-carrito","title":"An\u00e1lisis de Abandono de Carrito","text":"<p>Utiliza los eventos <code>add_to_cart</code> y <code>begin_checkout</code> para:</p> <ol> <li>Identificar productos con alta tasa de abandono</li> <li>Analizar el momento del abandono en el proceso</li> <li>Implementar estrategias de recuperaci\u00f3n</li> </ol>"},{"location":"events/cart/#optimizacion-de-metodos-de-pago","title":"Optimizaci\u00f3n de M\u00e9todos de Pago","text":"<p>Utiliza el evento <code>select_payment</code> para:</p> <ol> <li>Identificar m\u00e9todos de pago preferidos</li> <li>Analizar tasas de conversi\u00f3n por m\u00e9todo</li> <li>Optimizar la oferta de medios de pago</li> </ol>"},{"location":"events/cart/#efectividad-de-promociones","title":"Efectividad de Promociones","text":"<p>Utiliza el evento <code>apply_coupon</code> para:</p> <ol> <li>Medir el impacto de diferentes tipos de descuento</li> <li>Analizar el comportamiento de uso de cupones</li> <li>Optimizar estrategias promocionales</li> </ol>"},{"location":"events/cart/#preguntas-frecuentes","title":"Preguntas Frecuentes","text":""},{"location":"events/cart/#como-manejar-timeouts-en-el-proceso-de-checkout","title":"\u00bfC\u00f3mo manejar timeouts en el proceso de checkout?","text":"<p>Implementar un sistema de heartbeat y validaci\u00f3n de sesi\u00f3n activa.</p>"},{"location":"events/cart/#como-gestionar-conflictos-de-stock-durante-el-checkout","title":"\u00bfC\u00f3mo gestionar conflictos de stock durante el checkout?","text":"<p>Realizar validaciones en tiempo real y notificar al usuario inmediatamente.</p>"},{"location":"events/cart/#como-manejar-multiples-dispositivospestanas","title":"\u00bfC\u00f3mo manejar m\u00faltiples dispositivos/pesta\u00f1as?","text":"<p>Implementar sincronizaci\u00f3n en tiempo real del estado del carrito.</p>"},{"location":"events/cart/#referencias","title":"Referencias","text":"<ul> <li>Documentaci\u00f3n de la API de Eventos</li> <li>Gu\u00eda de Implementaci\u00f3n de Checkout</li> <li>Mejores Pr\u00e1cticas de Carrito</li> </ul>"},{"location":"events/engagement/","title":"Engagement","text":"<p>Esta secci\u00f3n documenta los eventos relacionados con la interacci\u00f3n y fidelizaci\u00f3n de usuarios.</p>"},{"location":"events/engagement/#descripcion-general","title":"Descripci\u00f3n General","text":"<p>Los eventos de engagement capturan las interacciones de los usuarios que demuestran su nivel de compromiso e inter\u00e9s con la plataforma y sus productos. Estos eventos son fundamentales para:</p> <ul> <li>Medir el nivel de participaci\u00f3n de los usuarios</li> <li>Identificar productos y contenido de mayor inter\u00e9s</li> <li>Mejorar la experiencia de usuario basada en feedback</li> <li>Fortalecer la relaci\u00f3n con los clientes</li> <li>Optimizar estrategias de retenci\u00f3n</li> <li>Personalizar recomendaciones y contenido</li> </ul>"},{"location":"events/engagement/#eventos-disponibles","title":"Eventos Disponibles","text":"<p>La siguiente tabla muestra un resumen de todos los eventos disponibles en esta secci\u00f3n:</p> Evento Tipo Descripci\u00f3n Trigger Lista de Deseos <code>wishlist_updated</code> Actualizaci\u00f3n de lista de deseos Agregar/remover producto Rese\u00f1a de Producto <code>product_review</code> Gesti\u00f3n de rese\u00f1as Crear/modificar rese\u00f1a Compartir Producto <code>product_shared</code> Compartir en redes sociales Compartir producto Interacci\u00f3n con Soporte <code>support_interaction</code> Interacci\u00f3n con servicio al cliente Contacto con soporte Respuesta a Encuesta <code>survey_response</code> Respuesta a encuestas Completar encuesta"},{"location":"events/engagement/#lista-de-deseos","title":"Lista de Deseos","text":"<p><code>wishlist_updated</code></p> <p>Trigger Se dispara cuando un usuario agrega o remueve productos de su lista de deseos</p> <p>Descripci\u00f3n Registra cuando un usuario agrega o remueve productos de su lista de deseos.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"wishlist_updated\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"user_id\": \"string\",\n    \"action\": \"add|remove\",\n    \"product_id\": \"string\",\n    \"product_name\": \"string\",\n    \"category_id\": \"string\",\n    \"price\": \"number\",\n    \"currency\": \"string\",\n    \"source_page\": \"product|search|recommendation\",\n    \"wishlist_id\": \"string\",\n    \"wishlist_name\": \"string\"\n  },\n  \"metadata\": {\n    \"total_items_in_wishlist\": \"number\",\n    \"notification_preferences\": {\n      \"price_drop\": \"boolean\",\n      \"back_in_stock\": \"boolean\"\n    }\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>action</code> string S\u00ed Tipo de acci\u00f3n realizada <code>product_id</code> string S\u00ed ID del producto afectado <code>wishlist_id</code> string S\u00ed ID de la lista de deseos <code>wishlist_name</code> string No Nombre personalizado de la lista <code>notification_preferences</code> object No Preferencias de notificaci\u00f3n <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"wishlist_updated\",\n  \"data\": {\n    \"user_id\": \"USR_123\",\n    \"action\": \"add\",\n    \"product_id\": \"PROD_456\",\n    \"product_name\": \"Zapatos Deportivos Nike\",\n    \"wishlist_id\": \"WL_789\",\n    \"notification_preferences\": {\n      \"price_drop\": true,\n      \"back_in_stock\": true\n    }\n  }\n}\n</code></pre></p>"},{"location":"events/engagement/#resena-de-producto","title":"Rese\u00f1a de Producto","text":"<p><code>product_review</code></p> <p>Trigger Se dispara cuando un usuario crea, modifica o elimina una rese\u00f1a</p> <p>Descripci\u00f3n Registra cuando un usuario crea, modifica o elimina una rese\u00f1a de producto.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"product_review\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"user_id\": \"string\",\n    \"product_id\": \"string\",\n    \"review_id\": \"string\",\n    \"action\": \"create|update|delete\",\n    \"rating\": \"number\",\n    \"review_text\": \"string\",\n    \"purchase_verified\": \"boolean\",\n    \"media\": [\n      {\n        \"type\": \"image|video\",\n        \"url\": \"string\"\n      }\n    ],\n    \"attributes\": {\n      \"quality\": \"number\",\n      \"value\": \"number\",\n      \"durability\": \"number\"\n    }\n  },\n  \"metadata\": {\n    \"order_id\": \"string\",\n    \"days_since_purchase\": \"number\",\n    \"review_source\": \"email_prompt|product_page|order_followup\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>review_id</code> string S\u00ed Identificador \u00fanico de la rese\u00f1a <code>rating</code> number S\u00ed Calificaci\u00f3n del producto (1-5) <code>review_text</code> string No Texto de la rese\u00f1a <code>purchase_verified</code> boolean S\u00ed Si la compra est\u00e1 verificada <code>media</code> array No Archivos multimedia adjuntos <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"product_review\",\n  \"data\": {\n    \"user_id\": \"USR_123\",\n    \"product_id\": \"PROD_456\",\n    \"review_id\": \"REV_789\",\n    \"action\": \"create\",\n    \"rating\": 5,\n    \"review_text\": \"Excelente producto, muy satisfecho con la compra\",\n    \"purchase_verified\": true\n  }\n}\n</code></pre></p>"},{"location":"events/engagement/#compartir-producto","title":"Compartir Producto","text":"<p><code>product_shared</code></p> <p>Trigger Se dispara cuando un usuario comparte un producto en redes sociales o por otros medios</p> <p>Descripci\u00f3n Registra cuando un usuario comparte un producto en redes sociales o por otros medios.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"product_shared\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"user_id\": \"string\",\n    \"product_id\": \"string\",\n    \"share_method\": \"whatsapp|facebook|twitter|email|copy_link\",\n    \"share_destination\": \"string\",\n    \"custom_message\": \"string\",\n    \"share_url\": \"string\"\n  },\n  \"metadata\": {\n    \"platform\": \"web|mobile|app\",\n    \"social_campaign\": \"string\",\n    \"share_context\": \"product_page|cart|wishlist\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>share_method</code> string S\u00ed M\u00e9todo utilizado para compartir <code>share_destination</code> string No Destino espec\u00edfico del compartir <code>custom_message</code> string No Mensaje personalizado agregado <code>share_url</code> string S\u00ed URL compartida <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"product_shared\",\n  \"data\": {\n    \"user_id\": \"USR_123\",\n    \"product_id\": \"PROD_456\",\n    \"share_method\": \"whatsapp\",\n    \"share_url\": \"https://example.com/products/PROD_456\",\n    \"share_context\": \"product_page\"\n  }\n}\n</code></pre></p>"},{"location":"events/engagement/#interaccion-con-soporte","title":"Interacci\u00f3n con Soporte","text":"<p><code>support_interaction</code></p> <p>Trigger Se dispara cuando un usuario interact\u00faa con el sistema de soporte al cliente</p> <p>Descripci\u00f3n Registra las interacciones de los usuarios con el sistema de soporte al cliente.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"support_interaction\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"user_id\": \"string\",\n    \"interaction_type\": \"chat|ticket|call|email\",\n    \"topic\": \"string\",\n    \"category\": \"order|product|account|technical|other\",\n    \"priority\": \"low|medium|high|urgent\",\n    \"status\": \"opened|in_progress|resolved|closed\",\n    \"satisfaction_rating\": \"number\",\n    \"resolution_time\": \"number\"\n  },\n  \"metadata\": {\n    \"agent_id\": \"string\",\n    \"channel\": \"web|mobile|phone|email\",\n    \"related_order_id\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>interaction_type</code> string S\u00ed Tipo de interacci\u00f3n con soporte <code>topic</code> string S\u00ed Tema principal de la consulta <code>category</code> string S\u00ed Categor\u00eda de la interacci\u00f3n <code>priority</code> string S\u00ed Nivel de prioridad asignado <code>satisfaction_rating</code> number No Calificaci\u00f3n de satisfacci\u00f3n <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"support_interaction\",\n  \"data\": {\n    \"user_id\": \"USR_123\",\n    \"interaction_type\": \"chat\",\n    \"topic\": \"Estado de orden\",\n    \"category\": \"order\",\n    \"priority\": \"medium\",\n    \"status\": \"opened\"\n  }\n}\n</code></pre></p>"},{"location":"events/engagement/#respuesta-a-encuesta","title":"Respuesta a Encuesta","text":"<p><code>survey_response</code></p> <p>Trigger Se dispara cuando un usuario completa una encuesta o formulario de feedback</p> <p>Descripci\u00f3n Registra cuando un usuario completa una encuesta o formulario de feedback.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"survey_response\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"user_id\": \"string\",\n    \"survey_id\": \"string\",\n    \"survey_type\": \"nps|csat|product_feedback|general\",\n    \"responses\": [\n      {\n        \"question_id\": \"string\",\n        \"question_type\": \"rating|multiple_choice|text|scale\",\n        \"response\": \"string|number|array\",\n        \"additional_comment\": \"string\"\n      }\n    ],\n    \"completion_time\": \"number\",\n    \"survey_version\": \"string\"\n  },\n  \"metadata\": {\n    \"trigger_event\": \"string\",\n    \"survey_context\": \"post_purchase|post_support|periodic|targeted\",\n    \"incentive_offered\": \"boolean\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>survey_id</code> string S\u00ed Identificador de la encuesta <code>survey_type</code> string S\u00ed Tipo de encuesta <code>responses</code> array S\u00ed Respuestas proporcionadas <code>completion_time</code> number No Tiempo de completitud en segundos <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"survey_response\",\n  \"data\": {\n    \"user_id\": \"USR_123\",\n    \"survey_id\": \"SUR_456\",\n    \"survey_type\": \"nps\",\n    \"responses\": [\n      {\n        \"question_id\": \"Q1\",\n        \"question_type\": \"rating\",\n        \"response\": 9,\n        \"additional_comment\": \"Excelente servicio\"\n      }\n    ],\n    \"completion_time\": 120\n  }\n}\n</code></pre></p>"},{"location":"events/engagement/#consideraciones-tecnicas","title":"Consideraciones T\u00e9cnicas","text":"<ul> <li>Los eventos deben respetar las preferencias de privacidad del usuario</li> <li>Las rese\u00f1as deben pasar por un proceso de moderaci\u00f3n antes de ser publicadas</li> <li>Los contenidos generados por usuarios deben ser validados y sanitizados</li> <li>Se debe implementar rate limiting para prevenir spam</li> <li>Las encuestas no deben interferir excesivamente con la experiencia del usuario</li> <li>Los datos de engagement deben alimentar los sistemas de recomendaci\u00f3n</li> </ul>"},{"location":"events/engagement/#casos-de-uso-comunes","title":"Casos de Uso Comunes","text":""},{"location":"events/engagement/#analisis-de-satisfaccion","title":"An\u00e1lisis de Satisfacci\u00f3n","text":"<p>Utiliza los eventos <code>support_interaction</code> y <code>survey_response</code> para:</p> <ol> <li>Medir el nivel de satisfacci\u00f3n general</li> <li>Identificar \u00e1reas de mejora</li> <li>Optimizar procesos de atenci\u00f3n</li> </ol>"},{"location":"events/engagement/#gestion-de-contenido","title":"Gesti\u00f3n de Contenido","text":"<p>Utiliza el evento <code>product_review</code> para:</p> <ol> <li>Moderar contenido generado por usuarios</li> <li>Destacar rese\u00f1as relevantes</li> <li>Identificar productos con problemas</li> </ol>"},{"location":"events/engagement/#optimizacion-de-engagement","title":"Optimizaci\u00f3n de Engagement","text":"<p>Utiliza los eventos <code>wishlist_updated</code> y <code>product_shared</code> para:</p> <ol> <li>Analizar tendencias de productos</li> <li>Mejorar recomendaciones</li> <li>Optimizar campa\u00f1as sociales</li> </ol>"},{"location":"events/engagement/#preguntas-frecuentes","title":"Preguntas Frecuentes","text":""},{"location":"events/engagement/#como-manejar-contenido-inapropiado-en-resenas","title":"\u00bfC\u00f3mo manejar contenido inapropiado en rese\u00f1as?","text":"<p>Implementar un sistema de moderaci\u00f3n autom\u00e1tica y manual antes de la publicaci\u00f3n.</p>"},{"location":"events/engagement/#que-hacer-si-un-usuario-solicita-eliminar-su-feedback","title":"\u00bfQu\u00e9 hacer si un usuario solicita eliminar su feedback?","text":"<p>Proporcionar un proceso claro para la eliminaci\u00f3n de contenido manteniendo la integridad de los datos agregados.</p>"},{"location":"events/engagement/#como-optimizar-la-tasa-de-respuesta-en-encuestas","title":"\u00bfC\u00f3mo optimizar la tasa de respuesta en encuestas?","text":"<p>Implementar incentivos y elegir momentos apropiados para solicitar feedback.</p>"},{"location":"events/engagement/#referencias","title":"Referencias","text":"<ul> <li>Documentaci\u00f3n de la API de Eventos</li> <li>Gu\u00eda de Moderaci\u00f3n de Contenido</li> <li>Mejores Pr\u00e1cticas de Engagement</li> </ul>"},{"location":"events/logistics/","title":"Log\u00edstica","text":"<p>Esta secci\u00f3n documenta los eventos relacionados con el proceso de preparaci\u00f3n y entrega de pedidos.</p>"},{"location":"events/logistics/#descripcion-general","title":"Descripci\u00f3n General","text":"<p>Los eventos de log\u00edstica y fulfillment capturan todo el proceso de preparaci\u00f3n y entrega de pedidos, desde la asignaci\u00f3n al centro de distribuci\u00f3n hasta la entrega final al cliente. Estos eventos son fundamentales para:</p> <ul> <li>Monitorear el proceso de preparaci\u00f3n de pedidos</li> <li>Realizar seguimiento en tiempo real de env\u00edos</li> <li>Optimizar rutas y tiempos de entrega</li> <li>Gestionar la capacidad de los centros de distribuci\u00f3n</li> <li>Mantener informados a los clientes sobre el estado de sus pedidos</li> <li>Analizar y mejorar la eficiencia operacional</li> </ul>"},{"location":"events/logistics/#eventos-disponibles","title":"Eventos Disponibles","text":"<p>La siguiente tabla muestra un resumen de todos los eventos disponibles en esta secci\u00f3n:</p> Evento Tipo Descripci\u00f3n Trigger Asignaci\u00f3n a Centro de Distribuci\u00f3n <code>warehouse_assigned</code> Asignaci\u00f3n de orden a CD Orden lista para preparaci\u00f3n Inicio de Picking <code>picking_started</code> Inicio de recolecci\u00f3n Orden asignada a picker Picking Completado <code>picking_completed</code> Fin de recolecci\u00f3n Picking finalizado Packing Iniciado <code>packing_started</code> Inicio de empaque Picking completado Orden Despachada <code>order_dispatched</code> Entrega a transportista Packing completado"},{"location":"events/logistics/#asignacion-a-centro-de-distribucion","title":"Asignaci\u00f3n a Centro de Distribuci\u00f3n","text":"<p><code>warehouse_assigned</code></p> <p>Trigger Se dispara cuando una orden es asignada a un centro de distribuci\u00f3n espec\u00edfico para su preparaci\u00f3n</p> <p>Descripci\u00f3n Registra cuando una orden es asignada a un centro de distribuci\u00f3n espec\u00edfico para su preparaci\u00f3n.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"warehouse_assigned\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"order_id\": \"string\",\n    \"warehouse_id\": \"string\",\n    \"warehouse_name\": \"string\",\n    \"assignment_type\": \"automatic|manual\",\n    \"estimated_preparation_time\": \"number\",\n    \"priority_level\": \"high|medium|low\",\n    \"items\": [\n      {\n        \"product_id\": \"string\",\n        \"quantity\": \"number\",\n        \"stock_location\": \"string\"\n      }\n    ]\n  },\n  \"metadata\": {\n    \"assignment_reason\": \"string\",\n    \"stock_availability\": \"boolean\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>warehouse_id</code> string S\u00ed Identificador del centro de distribuci\u00f3n <code>warehouse_name</code> string S\u00ed Nombre del centro de distribuci\u00f3n <code>assignment_type</code> string S\u00ed Tipo de asignaci\u00f3n <code>estimated_preparation_time</code> number No Tiempo estimado de preparaci\u00f3n en minutos <code>priority_level</code> string S\u00ed Nivel de prioridad de la orden <code>items</code> array S\u00ed Lista de productos y sus ubicaciones <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"warehouse_assigned\",\n  \"data\": {\n    \"order_id\": \"ORD_123\",\n    \"warehouse_id\": \"WH_001\",\n    \"warehouse_name\": \"Centro Principal\",\n    \"assignment_type\": \"automatic\",\n    \"priority_level\": \"high\",\n    \"items\": [\n      {\n        \"product_id\": \"PROD_789\",\n        \"quantity\": 2,\n        \"stock_location\": \"A-12-3\"\n      }\n    ]\n  }\n}\n</code></pre></p>"},{"location":"events/logistics/#inicio-de-picking","title":"Inicio de Picking","text":"<p><code>picking_started</code></p> <p>Trigger Se dispara cuando comienza el proceso de recolecci\u00f3n de productos</p> <p>Descripci\u00f3n Registra el inicio del proceso de recolecci\u00f3n de productos en el centro de distribuci\u00f3n.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"picking_started\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"order_id\": \"string\",\n    \"warehouse_id\": \"string\",\n    \"picker_id\": \"string\",\n    \"picking_route\": [\n      {\n        \"location\": \"string\",\n        \"products\": [\n          {\n            \"product_id\": \"string\",\n            \"quantity\": \"number\",\n            \"bin_location\": \"string\"\n          }\n        ]\n      }\n    ],\n    \"estimated_completion_time\": \"string\"\n  },\n  \"metadata\": {\n    \"picking_batch_id\": \"string\",\n    \"picking_type\": \"single|batch\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>picker_id</code> string S\u00ed Identificador del operador de picking <code>picking_route</code> array S\u00ed Ruta optimizada de recolecci\u00f3n <code>estimated_completion_time</code> string No Hora estimada de finalizaci\u00f3n <code>picking_batch_id</code> string No ID del batch de picking si aplica <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"picking_started\",\n  \"data\": {\n    \"order_id\": \"ORD_123\",\n    \"warehouse_id\": \"WH_001\",\n    \"picker_id\": \"PICK_456\",\n    \"picking_route\": [\n      {\n        \"location\": \"A-12-3\",\n        \"products\": [\n          {\n            \"product_id\": \"PROD_789\",\n            \"quantity\": 2,\n            \"bin_location\": \"A-12-3\"\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre></p>"},{"location":"events/logistics/#picking-completado","title":"Picking Completado","text":"<p><code>picking_completed</code></p> <p>Trigger Se dispara cuando finaliza el proceso de recolecci\u00f3n de productos</p> <p>Descripci\u00f3n Registra la finalizaci\u00f3n del proceso de recolecci\u00f3n de productos.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"picking_completed\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"order_id\": \"string\",\n    \"warehouse_id\": \"string\",\n    \"picker_id\": \"string\",\n    \"duration\": \"number\",\n    \"items_status\": [\n      {\n        \"product_id\": \"string\",\n        \"requested_quantity\": \"number\",\n        \"picked_quantity\": \"number\",\n        \"status\": \"complete|partial|not_found\"\n      }\n    ],\n    \"issues\": [\n      {\n        \"type\": \"stock_mismatch|location_error|product_damage\",\n        \"product_id\": \"string\",\n        \"description\": \"string\"\n      }\n    ]\n  },\n  \"metadata\": {\n    \"accuracy_rate\": \"number\",\n    \"requires_validation\": \"boolean\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>duration</code> number S\u00ed Duraci\u00f3n del picking en minutos <code>items_status</code> array S\u00ed Estado de recolecci\u00f3n de cada item <code>issues</code> array No Problemas encontrados durante el picking <code>accuracy_rate</code> number No Tasa de precisi\u00f3n del picking <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"picking_completed\",\n  \"data\": {\n    \"order_id\": \"ORD_123\",\n    \"warehouse_id\": \"WH_001\",\n    \"picker_id\": \"PICK_456\",\n    \"duration\": 15,\n    \"items_status\": [\n      {\n        \"product_id\": \"PROD_789\",\n        \"requested_quantity\": 2,\n        \"picked_quantity\": 2,\n        \"status\": \"complete\"\n      }\n    ]\n  }\n}\n</code></pre></p>"},{"location":"events/logistics/#packing-iniciado","title":"Packing Iniciado","text":"<p><code>packing_started</code></p> <p>Trigger Se dispara cuando comienza el proceso de empaquetado</p> <p>Descripci\u00f3n Registra el inicio del proceso de empaquetado de la orden.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"packing_started\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"order_id\": \"string\",\n    \"warehouse_id\": \"string\",\n    \"packer_id\": \"string\",\n    \"packaging_type\": \"string\",\n    \"estimated_packages\": \"number\",\n    \"special_requirements\": [\n      {\n        \"type\": \"fragile|refrigerated|oversized\",\n        \"instructions\": \"string\"\n      }\n    ]\n  },\n  \"metadata\": {\n    \"packing_station\": \"string\",\n    \"priority_level\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>packer_id</code> string S\u00ed Identificador del operador de packing <code>packaging_type</code> string S\u00ed Tipo de empaque a utilizar <code>estimated_packages</code> number S\u00ed N\u00famero estimado de paquetes <code>special_requirements</code> array No Requisitos especiales de empaque <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"packing_started\",\n  \"data\": {\n    \"order_id\": \"ORD_123\",\n    \"warehouse_id\": \"WH_001\",\n    \"packer_id\": \"PACK_789\",\n    \"packaging_type\": \"box_medium\",\n    \"estimated_packages\": 1,\n    \"special_requirements\": [\n      {\n        \"type\": \"fragile\",\n        \"instructions\": \"Empacar con material de protecci\u00f3n adicional\"\n      }\n    ]\n  }\n}\n</code></pre></p>"},{"location":"events/logistics/#orden-despachada","title":"Orden Despachada","text":"<p><code>order_dispatched</code></p> <p>Trigger Se dispara cuando la orden es entregada al transportista</p> <p>Descripci\u00f3n Registra cuando una orden es entregada al transportista para su env\u00edo.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"order_dispatched\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"order_id\": \"string\",\n    \"warehouse_id\": \"string\",\n    \"carrier_id\": \"string\",\n    \"tracking_number\": \"string\",\n    \"packages\": [\n      {\n        \"package_id\": \"string\",\n        \"weight\": \"number\",\n        \"dimensions\": {\n          \"length\": \"number\",\n          \"width\": \"number\",\n          \"height\": \"number\"\n        },\n        \"tracking_number\": \"string\"\n      }\n    ],\n    \"estimated_delivery_date\": \"string\",\n    \"shipping_service\": \"string\"\n  },\n  \"metadata\": {\n    \"dispatch_batch_id\": \"string\",\n    \"route_id\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>carrier_id</code> string S\u00ed Identificador del transportista <code>tracking_number</code> string S\u00ed N\u00famero de seguimiento principal <code>packages</code> array S\u00ed Informaci\u00f3n de los paquetes <code>estimated_delivery_date</code> string S\u00ed Fecha estimada de entrega <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"order_dispatched\",\n  \"data\": {\n    \"order_id\": \"ORD_123\",\n    \"warehouse_id\": \"WH_001\",\n    \"carrier_id\": \"CARR_001\",\n    \"tracking_number\": \"TRACK123456\",\n    \"packages\": [\n      {\n        \"package_id\": \"PKG_001\",\n        \"weight\": 2.5,\n        \"dimensions\": {\n          \"length\": 30,\n          \"width\": 20,\n          \"height\": 15\n        },\n        \"tracking_number\": \"TRACK123456-1\"\n      }\n    ],\n    \"estimated_delivery_date\": \"2024-03-22T15:00:00Z\"\n  }\n}\n</code></pre></p>"},{"location":"events/logistics/#consideraciones-tecnicas","title":"Consideraciones T\u00e9cnicas","text":"<ul> <li>Los eventos deben ser procesados en orden cronol\u00f3gico</li> <li>Se debe mantener la trazabilidad completa del proceso</li> <li>Los tiempos estimados deben actualizarse en tiempo real</li> <li>Se debe validar la consistencia del inventario en cada paso</li> <li>Los eventos deben incluir informaci\u00f3n suficiente para auditor\u00edas</li> <li>Se debe considerar la gesti\u00f3n de excepciones en cada etapa</li> </ul>"},{"location":"events/logistics/#casos-de-uso-comunes","title":"Casos de Uso Comunes","text":""},{"location":"events/logistics/#optimizacion-de-picking","title":"Optimizaci\u00f3n de Picking","text":"<p>Utiliza los eventos <code>picking_started</code> y <code>picking_completed</code> para:</p> <ol> <li>Analizar tiempos de picking por operador</li> <li>Optimizar rutas de recolecci\u00f3n</li> <li>Identificar productos problem\u00e1ticos</li> </ol>"},{"location":"events/logistics/#gestion-de-capacidad","title":"Gesti\u00f3n de Capacidad","text":"<p>Utiliza el evento <code>warehouse_assigned</code> para:</p> <ol> <li>Balancear la carga entre centros de distribuci\u00f3n</li> <li>Predecir necesidades de personal</li> <li>Optimizar la asignaci\u00f3n de recursos</li> </ol>"},{"location":"events/logistics/#monitoreo-de-envios","title":"Monitoreo de Env\u00edos","text":"<p>Utiliza el evento <code>order_dispatched</code> para:</p> <ol> <li>Realizar seguimiento de env\u00edos</li> <li>Calcular tiempos de entrega</li> <li>Gestionar excepciones en la entrega</li> </ol>"},{"location":"events/logistics/#preguntas-frecuentes","title":"Preguntas Frecuentes","text":""},{"location":"events/logistics/#como-manejar-productos-faltantes-durante-el-picking","title":"\u00bfC\u00f3mo manejar productos faltantes durante el picking?","text":"<p>Se debe registrar la discrepancia en <code>picking_completed</code> y generar eventos de reposici\u00f3n.</p>"},{"location":"events/logistics/#que-hacer-si-un-paquete-necesita-ser-reempacado","title":"\u00bfQu\u00e9 hacer si un paquete necesita ser reempacado?","text":"<p>Generar un nuevo evento <code>packing_started</code> con referencia al empaque original.</p>"},{"location":"events/logistics/#como-gestionar-multiples-transportistas","title":"\u00bfC\u00f3mo gestionar m\u00faltiples transportistas?","text":"<p>Mantener un mapeo estandarizado de estados y servicios por transportista.</p>"},{"location":"events/logistics/#referencias","title":"Referencias","text":"<ul> <li>Documentaci\u00f3n de la API de Eventos</li> <li>Gu\u00eda de Operaciones de Warehouse</li> <li>Mejores Pr\u00e1cticas de Fulfillment</li> </ul>"},{"location":"events/navigation/","title":"Navegaci\u00f3n","text":"<p>Esta secci\u00f3n documenta los eventos relacionados con la exploraci\u00f3n y descubrimiento de productos en la plataforma.</p>"},{"location":"events/navigation/#descripcion-general","title":"Descripci\u00f3n General","text":"<p>Los eventos de navegaci\u00f3n y descubrimiento capturan las interacciones de los usuarios mientras exploran la plataforma. Estos eventos son fundamentales para:</p> <ul> <li>Entender el comportamiento de navegaci\u00f3n de los usuarios</li> <li>Analizar patrones de b\u00fasqueda y exploraci\u00f3n</li> <li>Identificar productos y categor\u00edas de mayor inter\u00e9s</li> <li>Optimizar la experiencia de usuario y el dise\u00f1o de la plataforma</li> <li>Mejorar la relevancia de resultados de b\u00fasqueda</li> </ul>"},{"location":"events/navigation/#eventos-disponibles","title":"Eventos Disponibles","text":"<p>La siguiente tabla muestra un resumen de todos los eventos disponibles en esta secci\u00f3n:</p> Evento Tipo Descripci\u00f3n Trigger Visualizaci\u00f3n de P\u00e1gina <code>page_view</code> Registro de vista de p\u00e1gina Carga de p\u00e1gina B\u00fasqueda de Productos <code>product_search</code> B\u00fasqueda y filtrado B\u00fasqueda realizada Visualizaci\u00f3n de Producto <code>product_view</code> Vista de detalle de producto Ver producto Interacci\u00f3n con Banner <code>banner_interaction</code> Interacci\u00f3n con banners Interacci\u00f3n con banner"},{"location":"events/navigation/#visualizacion-de-pagina","title":"Visualizaci\u00f3n de P\u00e1gina","text":"<p><code>page_view</code></p> <p>Trigger Se dispara cuando un usuario visualiza una p\u00e1gina espec\u00edfica de la plataforma</p> <p>Descripci\u00f3n Registra cuando un usuario visualiza una p\u00e1gina espec\u00edfica de la plataforma. Este evento se genera cada vez que se carga una nueva p\u00e1gina o se realiza una navegaci\u00f3n mediante SPA (Single Page Application).</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"page_view\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"page_url\": \"string\",\n    \"page_title\": \"string\",\n    \"page_type\": \"string\",\n    \"referrer\": \"string\",\n    \"session_id\": \"string\"\n  },\n  \"metadata\": {\n    \"browser\": \"string\",\n    \"device\": \"string\",\n    \"location\": \"string\",\n    \"viewport_size\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>page_url</code> string S\u00ed URL completa de la p\u00e1gina visualizada <code>page_title</code> string S\u00ed T\u00edtulo de la p\u00e1gina <code>page_type</code> string S\u00ed Tipo de p\u00e1gina (home, category, product, search, etc.) <code>referrer</code> string No URL de la p\u00e1gina anterior <code>session_id</code> string S\u00ed Identificador \u00fanico de la sesi\u00f3n del usuario <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"page_view\",\n  \"data\": {\n    \"page_url\": \"https://example.com/products/category/shoes\",\n    \"page_title\": \"Zapatos - Categor\u00eda\",\n    \"page_type\": \"category\",\n    \"session_id\": \"sess_123456\"\n  }\n}\n</code></pre></p>"},{"location":"events/navigation/#busqueda-de-productos","title":"B\u00fasqueda de Productos","text":"<p><code>product_search</code></p> <p>Trigger Se dispara cuando un usuario realiza una b\u00fasqueda o aplica filtros</p> <p>Descripci\u00f3n Captura cuando un usuario realiza una b\u00fasqueda de productos. Incluye tanto b\u00fasquedas por texto como aplicaci\u00f3n de filtros.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"product_search\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"search_query\": \"string\",\n    \"filters\": {\n      \"category\": [\"string\"],\n      \"price_range\": {\n        \"min\": \"number\",\n        \"max\": \"number\"\n      },\n      \"attributes\": {}\n    },\n    \"results_count\": \"number\",\n    \"page_number\": \"number\",\n    \"sort_by\": \"string\"\n  },\n  \"metadata\": {\n    \"search_type\": \"text|filter|category\",\n    \"session_id\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>search_query</code> string No T\u00e9rmino de b\u00fasqueda ingresado por el usuario <code>filters</code> object No Filtros aplicados a la b\u00fasqueda <code>results_count</code> number S\u00ed Cantidad de resultados encontrados <code>page_number</code> number S\u00ed N\u00famero de p\u00e1gina de resultados <code>sort_by</code> string No Criterio de ordenamiento aplicado <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"product_search\",\n  \"data\": {\n    \"search_query\": \"zapatos deportivos\",\n    \"filters\": {\n      \"category\": [\"calzado\", \"deportes\"],\n      \"price_range\": {\n        \"min\": 1000,\n        \"max\": 5000\n      }\n    },\n    \"results_count\": 24,\n    \"page_number\": 1,\n    \"sort_by\": \"relevance\"\n  }\n}\n</code></pre></p>"},{"location":"events/navigation/#visualizacion-de-producto","title":"Visualizaci\u00f3n de Producto","text":"<p><code>product_view</code></p> <p>Trigger Se dispara cuando un usuario accede al detalle de un producto</p> <p>Descripci\u00f3n Registra cuando un usuario visualiza el detalle de un producto espec\u00edfico.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"product_view\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"product_id\": \"string\",\n    \"product_name\": \"string\",\n    \"category_id\": \"string\",\n    \"price\": \"number\",\n    \"currency\": \"string\",\n    \"view_duration\": \"number\",\n    \"source_page\": \"search|category|recommendation|direct\"\n  },\n  \"metadata\": {\n    \"session_id\": \"string\",\n    \"is_returning_view\": \"boolean\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>product_id</code> string S\u00ed Identificador \u00fanico del producto <code>product_name</code> string S\u00ed Nombre del producto <code>category_id</code> string S\u00ed Identificador de la categor\u00eda principal <code>price</code> number S\u00ed Precio actual del producto <code>currency</code> string S\u00ed Moneda del precio <code>view_duration</code> number No Tiempo de visualizaci\u00f3n en segundos <code>source_page</code> string S\u00ed P\u00e1gina desde donde se accedi\u00f3 al producto <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"product_view\",\n  \"data\": {\n    \"product_id\": \"PROD_123\",\n    \"product_name\": \"Zapatos Deportivos Nike Air\",\n    \"category_id\": \"CAT_456\",\n    \"price\": 2999.99,\n    \"currency\": \"MXN\",\n    \"source_page\": \"search\"\n  }\n}\n</code></pre></p>"},{"location":"events/navigation/#interaccion-con-banner","title":"Interacci\u00f3n con Banner","text":"<p><code>banner_interaction</code></p> <p>Trigger Se dispara cuando un usuario interact\u00faa con un banner promocional o informativo</p> <p>Descripci\u00f3n Captura las interacciones de los usuarios con banners promocionales o informativos.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"banner_interaction\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"banner_id\": \"string\",\n    \"banner_name\": \"string\",\n    \"banner_type\": \"promotion|info|category\",\n    \"interaction_type\": \"view|click\",\n    \"position\": \"string\",\n    \"campaign_id\": \"string\"\n  },\n  \"metadata\": {\n    \"session_id\": \"string\",\n    \"page_type\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>banner_id</code> string S\u00ed Identificador \u00fanico del banner <code>banner_name</code> string S\u00ed Nombre descriptivo del banner <code>banner_type</code> string S\u00ed Tipo de banner <code>interaction_type</code> string S\u00ed Tipo de interacci\u00f3n con el banner <code>position</code> string S\u00ed Posici\u00f3n del banner en la p\u00e1gina <code>campaign_id</code> string No ID de la campa\u00f1a asociada <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"banner_interaction\",\n  \"data\": {\n    \"banner_id\": \"BAN_789\",\n    \"banner_name\": \"Promoci\u00f3n Verano\",\n    \"banner_type\": \"promotion\",\n    \"interaction_type\": \"click\",\n    \"position\": \"home_top\",\n    \"campaign_id\": \"CAMP_123\"\n  }\n}\n</code></pre></p>"},{"location":"events/navigation/#consideraciones-tecnicas","title":"Consideraciones T\u00e9cnicas","text":"<ul> <li>Los eventos deben enviarse de forma as\u00edncrona para no afectar el rendimiento de la p\u00e1gina</li> <li>Se recomienda implementar un sistema de cola local para manejar p\u00e9rdidas de conexi\u00f3n</li> <li>La frecuencia m\u00e1xima de env\u00edo es de 100 eventos por segundo por usuario</li> <li>Los campos timestamp deben estar en formato ISO 8601 con zona horaria UTC</li> <li>Los eventos de page_view deben manejarse correctamente en aplicaciones SPA</li> <li>Se debe respetar la privacidad del usuario seg\u00fan las regulaciones locales</li> </ul>"},{"location":"events/navigation/#casos-de-uso-comunes","title":"Casos de Uso Comunes","text":""},{"location":"events/navigation/#analisis-de-embudo-de-conversion","title":"An\u00e1lisis de Embudo de Conversi\u00f3n","text":"<p>Utiliza los eventos <code>page_view</code> y <code>product_view</code> para:</p> <ol> <li>Identificar p\u00e1ginas con mayor tasa de abandono</li> <li>Analizar la efectividad de la navegaci\u00f3n</li> <li>Optimizar el flujo de conversi\u00f3n</li> </ol>"},{"location":"events/navigation/#optimizacion-de-busqueda","title":"Optimizaci\u00f3n de B\u00fasqueda","text":"<p>Utiliza el evento <code>product_search</code> para:</p> <ol> <li>Mejorar el algoritmo de b\u00fasqueda</li> <li>Identificar t\u00e9rminos de b\u00fasqueda sin resultados</li> <li>Optimizar los filtros m\u00e1s utilizados</li> </ol>"},{"location":"events/navigation/#efectividad-de-campanas","title":"Efectividad de Campa\u00f1as","text":"<p>Utiliza el evento <code>banner_interaction</code> para:</p> <ol> <li>Medir el rendimiento de banners promocionales</li> <li>Optimizar el posicionamiento de banners</li> <li>Evaluar la efectividad de diferentes tipos de contenido</li> </ol>"},{"location":"events/navigation/#preguntas-frecuentes","title":"Preguntas Frecuentes","text":""},{"location":"events/navigation/#como-manejar-eventos-en-modo-offline","title":"\u00bfC\u00f3mo manejar eventos en modo offline?","text":"<p>Se recomienda almacenar los eventos en localStorage y enviarlos cuando se recupere la conexi\u00f3n.</p>"},{"location":"events/navigation/#como-evitar-duplicados-en-eventos-de-page_view-en-spas","title":"\u00bfC\u00f3mo evitar duplicados en eventos de page_view en SPAs?","text":"<p>Implementar un debounce y verificar cambios reales en la ruta de la aplicaci\u00f3n.</p>"},{"location":"events/navigation/#como-sincronizar-estados-entre-multiples-sistemas","title":"\u00bfC\u00f3mo sincronizar estados entre m\u00faltiples sistemas?","text":"<p>Utilizar un sistema de eventos distribuido con garant\u00eda de orden.</p>"},{"location":"events/navigation/#referencias","title":"Referencias","text":"<ul> <li>Documentaci\u00f3n de la API de Eventos</li> <li>Gu\u00eda de Implementaci\u00f3n de Analytics</li> <li>Mejores Pr\u00e1cticas de Tracking</li> </ul>"},{"location":"events/orders/","title":"\u00d3rdenes","text":"<p>Esta secci\u00f3n documenta los eventos relacionados con el ciclo de vida de las \u00f3rdenes, desde su creaci\u00f3n hasta su finalizaci\u00f3n.</p>"},{"location":"events/orders/#descripcion-general","title":"Descripci\u00f3n General","text":"<p>Los eventos de \u00f3rdenes capturan el ciclo de vida completo de una orden desde su creaci\u00f3n hasta su finalizaci\u00f3n. Estos eventos son fundamentales para:</p> <ul> <li>Monitorear el estado y progreso de las \u00f3rdenes</li> <li>Analizar patrones de compra y comportamiento de usuarios</li> <li>Identificar problemas en el proceso de compra</li> <li>Gestionar el proceso de fulfillment</li> <li>Mantener informados a los usuarios sobre el estado de sus pedidos</li> </ul>"},{"location":"events/orders/#eventos-disponibles","title":"Eventos Disponibles","text":"<p>La siguiente tabla muestra un resumen de todos los eventos disponibles en esta secci\u00f3n:</p> Evento Tipo Descripci\u00f3n Trigger Creaci\u00f3n de Orden <code>order_created</code> Registro de nueva orden Checkout completado Confirmaci\u00f3n de Pago <code>payment_confirmed</code> Confirmaci\u00f3n de pago exitoso Pago procesado Cambio de Estado <code>order_status_changed</code> Actualizaci\u00f3n de estado Cambio en la orden Cancelaci\u00f3n <code>order_cancelled</code> Cancelaci\u00f3n de orden Solicitud de cancelaci\u00f3n"},{"location":"events/orders/#creacion-de-orden","title":"Creaci\u00f3n de Orden","text":"<p><code>order_created</code></p> <p>Trigger Se dispara cuando se completa exitosamente el proceso de checkout</p> <p>Descripci\u00f3n Registra la creaci\u00f3n exitosa de una nueva orden despu\u00e9s de completar el proceso de checkout y confirmar el pago.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"order_created\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"order_id\": \"string\",\n    \"customer_id\": \"string\",\n    \"total_amount\": \"number\",\n    \"subtotal\": \"number\",\n    \"tax\": \"number\",\n    \"shipping_cost\": \"number\",\n    \"discount_amount\": \"number\",\n    \"currency\": \"string\",\n    \"payment_method\": \"string\",\n    \"shipping_method\": \"string\",\n    \"items\": [\n      {\n        \"product_id\": \"string\",\n        \"variant_id\": \"string\",\n        \"quantity\": \"number\",\n        \"unit_price\": \"number\",\n        \"total_price\": \"number\"\n      }\n    ],\n    \"shipping_address\": {\n      \"street\": \"string\",\n      \"city\": \"string\",\n      \"state\": \"string\",\n      \"country\": \"string\",\n      \"postal_code\": \"string\"\n    }\n  },\n  \"metadata\": {\n    \"session_id\": \"string\",\n    \"user_type\": \"guest|registered\",\n    \"platform\": \"web|mobile|pos\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>order_id</code> string S\u00ed Identificador \u00fanico de la orden <code>customer_id</code> string S\u00ed Identificador del cliente <code>total_amount</code> number S\u00ed Monto total de la orden <code>subtotal</code> number S\u00ed Subtotal antes de impuestos y env\u00edo <code>tax</code> number S\u00ed Monto de impuestos <code>shipping_cost</code> number S\u00ed Costo de env\u00edo <code>discount_amount</code> number No Monto total de descuentos aplicados <code>items</code> array S\u00ed Lista de productos en la orden <code>shipping_address</code> object S\u00ed Direcci\u00f3n de env\u00edo <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"order_created\",\n  \"data\": {\n    \"order_id\": \"ORD_123\",\n    \"customer_id\": \"CUST_456\",\n    \"total_amount\": 1500.00,\n    \"items\": [\n      {\n        \"product_id\": \"PROD_789\",\n        \"quantity\": 2,\n        \"unit_price\": 750.00\n      }\n    ]\n  }\n}\n</code></pre></p>"},{"location":"events/orders/#confirmacion-de-pago","title":"Confirmaci\u00f3n de Pago","text":"<p><code>payment_confirmed</code></p> <p>Trigger Se dispara cuando se recibe la confirmaci\u00f3n del procesador de pagos</p> <p>Descripci\u00f3n Registra la confirmaci\u00f3n exitosa del pago de una orden.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"payment_confirmed\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"order_id\": \"string\",\n    \"payment_id\": \"string\",\n    \"amount\": \"number\",\n    \"currency\": \"string\",\n    \"payment_method\": \"string\",\n    \"payment_status\": \"approved|pending|rejected\",\n    \"transaction_id\": \"string\",\n    \"installments\": \"number\"\n  },\n  \"metadata\": {\n    \"payment_processor\": \"string\",\n    \"payment_type\": \"string\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>payment_id</code> string S\u00ed Identificador del pago <code>amount</code> number S\u00ed Monto del pago <code>payment_status</code> string S\u00ed Estado del pago <code>transaction_id</code> string S\u00ed ID de transacci\u00f3n del procesador <code>installments</code> number No N\u00famero de cuotas <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"payment_confirmed\",\n  \"data\": {\n    \"order_id\": \"ORD_123\",\n    \"payment_id\": \"PAY_789\",\n    \"amount\": 1500.00,\n    \"payment_status\": \"approved\",\n    \"transaction_id\": \"TXN_456\"\n  }\n}\n</code></pre></p>"},{"location":"events/orders/#cambio-de-estado","title":"Cambio de Estado","text":"<p><code>order_status_changed</code></p> <p>Trigger Se dispara cuando cambia el estado de una orden</p> <p>Descripci\u00f3n Registra cualquier cambio en el estado de una orden durante su ciclo de vida.</p> <p>Estados Posibles: - <code>pending</code> - Orden creada, pendiente de procesamiento - <code>processing</code> - En proceso de preparaci\u00f3n - <code>shipped</code> - Enviada al cliente - <code>delivered</code> - Entregada al cliente - <code>cancelled</code> - Cancelada - <code>refunded</code> - Reembolsada</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"order_status_changed\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"order_id\": \"string\",\n    \"previous_status\": \"string\",\n    \"new_status\": \"string\",\n    \"reason\": \"string\",\n    \"notes\": \"string\",\n    \"changed_by\": \"string\"\n  },\n  \"metadata\": {\n    \"requires_notification\": \"boolean\",\n    \"automatic_change\": \"boolean\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>previous_status</code> string S\u00ed Estado anterior de la orden <code>new_status</code> string S\u00ed Nuevo estado de la orden <code>reason</code> string No Raz\u00f3n del cambio de estado <code>notes</code> string No Notas adicionales sobre el cambio <code>changed_by</code> string S\u00ed Usuario o sistema que realiz\u00f3 el cambio <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"order_status_changed\",\n  \"data\": {\n    \"order_id\": \"ORD_123\",\n    \"previous_status\": \"pending\",\n    \"new_status\": \"processing\",\n    \"changed_by\": \"system\"\n  }\n}\n</code></pre></p>"},{"location":"events/orders/#cancelacion-de-orden","title":"Cancelaci\u00f3n de Orden","text":"<p><code>order_cancelled</code></p> <p>Trigger Se dispara cuando se cancela una orden</p> <p>Descripci\u00f3n Registra la cancelaci\u00f3n de una orden, ya sea por el cliente o por el sistema.</p> <p>Estructura del Evento: <pre><code>{\n  \"event_id\": \"string\",\n  \"event_type\": \"order_cancelled\",\n  \"timestamp\": \"2024-03-21T10:30:00Z\",\n  \"source\": \"string\",\n  \"data\": {\n    \"order_id\": \"string\",\n    \"cancellation_reason\": \"string\",\n    \"cancelled_by\": \"customer|system|merchant\",\n    \"refund_amount\": \"number\",\n    \"refund_status\": \"pending|processed|rejected\",\n    \"items_status\": [\n      {\n        \"product_id\": \"string\",\n        \"status\": \"cancelled|returned|restocked\"\n      }\n    ]\n  },\n  \"metadata\": {\n    \"requires_refund\": \"boolean\",\n    \"restock_items\": \"boolean\"\n  }\n}\n</code></pre></p> <p>Campos Espec\u00edficos:</p> Campo Tipo Requerido Descripci\u00f3n <code>cancellation_reason</code> string S\u00ed Motivo de la cancelaci\u00f3n <code>cancelled_by</code> string S\u00ed Qui\u00e9n realiz\u00f3 la cancelaci\u00f3n <code>refund_amount</code> number No Monto a reembolsar <code>refund_status</code> string No Estado del reembolso <code>items_status</code> array S\u00ed Estado de los items cancelados <p>Ejemplo de Uso: <pre><code>{\n  \"event_type\": \"order_cancelled\",\n  \"data\": {\n    \"order_id\": \"ORD_123\",\n    \"cancellation_reason\": \"customer_request\",\n    \"cancelled_by\": \"customer\",\n    \"refund_amount\": 1500.00\n  }\n}\n</code></pre></p>"},{"location":"events/orders/#consideraciones-tecnicas","title":"Consideraciones T\u00e9cnicas","text":"<ul> <li>Los eventos de orden deben ser idempotentes</li> <li>Se debe mantener consistencia entre el estado de la orden y los pagos</li> <li>Los cambios de estado deben seguir un flujo predefinido</li> <li>Las cancelaciones deben manejar correctamente los reembolsos</li> <li>Se debe implementar un sistema de reintentos para eventos cr\u00edticos</li> <li>Los eventos deben respetar las pol\u00edticas de privacidad de datos</li> </ul>"},{"location":"events/orders/#casos-de-uso-comunes","title":"Casos de Uso Comunes","text":""},{"location":"events/orders/#analisis-de-conversion","title":"An\u00e1lisis de Conversi\u00f3n","text":"<p>Utiliza los eventos <code>order_created</code> y <code>payment_confirmed</code> para:</p> <ol> <li>Calcular tasas de conversi\u00f3n por canal</li> <li>Identificar patrones de compra exitosos</li> <li>Optimizar el proceso de checkout</li> </ol>"},{"location":"events/orders/#monitoreo-de-estados","title":"Monitoreo de Estados","text":"<p>Utiliza el evento <code>order_status_changed</code> para:</p> <ol> <li>Identificar cuellos de botella en el proceso</li> <li>Analizar tiempos de procesamiento</li> <li>Mejorar la comunicaci\u00f3n con el cliente</li> </ol>"},{"location":"events/orders/#gestion-de-cancelaciones","title":"Gesti\u00f3n de Cancelaciones","text":"<p>Utiliza el evento <code>order_cancelled</code> para:</p> <ol> <li>Analizar causas comunes de cancelaci\u00f3n</li> <li>Optimizar pol\u00edticas de stock</li> <li>Mejorar procesos de reembolso</li> </ol>"},{"location":"events/orders/#preguntas-frecuentes","title":"Preguntas Frecuentes","text":""},{"location":"events/orders/#como-manejar-ordenes-parcialmente-canceladas","title":"\u00bfC\u00f3mo manejar \u00f3rdenes parcialmente canceladas?","text":"<p>Utilizar el evento <code>order_status_changed</code> con estados espec\u00edficos para items individuales.</p>"},{"location":"events/orders/#que-hacer-si-un-evento-de-orden-falla","title":"\u00bfQu\u00e9 hacer si un evento de orden falla?","text":"<p>Implementar un sistema de cola de reintentos con backoff exponencial.</p>"},{"location":"events/orders/#como-sincronizar-estados-entre-multiples-sistemas","title":"\u00bfC\u00f3mo sincronizar estados entre m\u00faltiples sistemas?","text":"<p>Utilizar un sistema de eventos distribuido con garant\u00eda de orden.</p>"},{"location":"events/orders/#referencias","title":"Referencias","text":"<ul> <li>Documentaci\u00f3n de la API de Eventos</li> <li>Gu\u00eda de Estados de Orden</li> <li>Pol\u00edticas de Cancelaci\u00f3n</li> </ul>"},{"location":"integration/events_api/","title":"API de Eventos","text":"<p>La API de eventos de Reten permite la integraci\u00f3n con el sistema de eventos a trav\u00e9s de diferentes m\u00e9todos.</p>"},{"location":"integration/events_api/#metodos-de-integracion","title":"M\u00e9todos de Integraci\u00f3n","text":""},{"location":"integration/events_api/#1-webhooks","title":"1. Webhooks","text":"<p>Configuraci\u00f3n de endpoints para recibir eventos en tiempo real:</p> <pre><code>POST https://api.example.com/webhook\nContent-Type: application/json\nX-Reten-Signature: sha256=...\n\n{\n  \"event_id\": \"evt_123\",\n  \"event_type\": \"order.created\",\n  \"timestamp\": \"2024-03-19T12:00:00Z\",\n  \"data\": {\n    \"order_id\": \"ord_456\",\n    \"status\": \"pending\"\n  }\n}\n</code></pre>"},{"location":"integration/events_api/#2-api-rest","title":"2. API REST","text":"<p>Endpoints para consulta y gesti\u00f3n de eventos:</p> <pre><code># Listar eventos\nGET /api/v1/events\n\n# Obtener evento espec\u00edfico\nGET /api/v1/events/{event_id}\n\n# Crear evento\nPOST /api/v1/events\n\n# Actualizar evento\nPUT /api/v1/events/{event_id}\n</code></pre>"},{"location":"integration/events_api/#3-streaming","title":"3. Streaming","text":"<p>Conexi\u00f3n mediante WebSocket para eventos en tiempo real:</p> <pre><code>const ws = new WebSocket('wss://api.example.com/events/stream');\nws.onmessage = (event) =&gt; {\n  const data = JSON.parse(event.data);\n  console.log('Nuevo evento:', data);\n};\n</code></pre>"},{"location":"integration/events_api/#autenticacion","title":"Autenticaci\u00f3n","text":"<p>Todas las peticiones deben incluir un token de autenticaci\u00f3n:</p> <pre><code>Authorization: Bearer your-api-key\n</code></pre>"},{"location":"integration/events_api/#rate-limits","title":"Rate Limits","text":"<ul> <li>Webhooks: 100 eventos/segundo</li> <li>API REST: 1000 peticiones/minuto</li> <li>Streaming: Sin l\u00edmite</li> </ul>"},{"location":"integration/events_api/#manejo-de-errores","title":"Manejo de Errores","text":"<pre><code>{\n  \"error\": {\n    \"code\": \"rate_limit_exceeded\",\n    \"message\": \"Has excedido el l\u00edmite de peticiones\",\n    \"status\": 429\n  }\n}\n</code></pre>"},{"location":"integration/events_api/#ejemplos-de-implementacion","title":"Ejemplos de Implementaci\u00f3n","text":""},{"location":"integration/events_api/#nodejs","title":"Node.js","text":"<pre><code>const axios = require('axios');\n\nasync function getEvents() {\n  try {\n    const response = await axios.get('https://api.example.com/events', {\n      headers: { 'Authorization': 'Bearer your-api-key' }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error.response.data);\n  }\n}\n</code></pre>"},{"location":"integration/events_api/#python","title":"Python","text":"<pre><code>import requests\n\ndef get_events():\n    try:\n        response = requests.get(\n            'https://api.example.com/events',\n            headers={'Authorization': 'Bearer your-api-key'}\n        )\n        return response.json()\n    except requests.exceptions.RequestException as e:\n        print(f'Error: {e}')\n</code></pre>"},{"location":"integration/events_api/#mejores-practicas","title":"Mejores Pr\u00e1cticas","text":"<ol> <li>Manejo de Reintentos</li> <li>Implementar backoff exponencial</li> <li>Definir n\u00famero m\u00e1ximo de reintentos</li> <li> <p>Almacenar eventos fallidos</p> </li> <li> <p>Procesamiento de Eventos</p> </li> <li>Procesar eventos de forma as\u00edncrona</li> <li>Validar firma de webhooks</li> <li> <p>Mantener idempotencia</p> </li> <li> <p>Monitoreo</p> </li> <li>Registrar latencia de eventos</li> <li>Monitorear tasa de errores</li> <li>Alertas por umbrales </li> </ol>"}]}